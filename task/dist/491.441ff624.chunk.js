"use strict";(self.webpackChunkcarbonio_tasks_ui=self.webpackChunkcarbonio_tasks_ui||[]).push([[491],{9491:(e,n,i)=>{i.r(n),i.d(n,{default:()=>P});var t=i(7559),a=i.n(t),l=i(7502),r=i(8153),d=i(8698),o=(i(3619),i(4497)),s=i(6776),m=i(5003),u=i(4702),c=i(8023),k=i(4818),p=i(7297),f=i(5968),v=i(2509),y=i(5015),N=i(8989),h=i(5607);const T=({title:e,status:n,priority:i,completeAction:t,undoCompleteAction:l})=>{const[d]=(0,r.useTranslation)();return a().createElement(u.Row,{wrap:"nowrap",mainAlignment:"space-between",gap:"0.25rem",width:"fill"},a().createElement(u.Row,{flexShrink:1,flexBasis:"fit-content",gap:"0.25rem",wrap:"nowrap",minWidth:"0"},a().createElement(u.Row,{flexShrink:0,minWidth:"fit"},n!==h.nW.Complete&&a().createElement(y.w,{priority:i}),n===h.nW.Complete&&a().createElement(u.Icon,{icon:"Checkmark",color:"success"})),a().createElement(u.Row,{wrap:"nowrap",flexShrink:1,minWidth:0,flexGrow:1,mainAlignment:"flex-start"},a().createElement(N.E,{size:"medium"},e)),a().createElement(u.Row,{flexShrink:1,flexBasis:"fit-content"},n===h.nW.Complete&&a().createElement(N.E,{size:"medium",weight:"bold"},d("task.status",{context:n.toLowerCase(),defaultValue:"Completed"})))),a().createElement(u.Row,{flexShrink:0,minWidth:"fit"},n===h.nW.Complete&&a().createElement(u.Tooltip,{label:d("action.undo")},a().createElement(u.IconButton,{onClick:l,icon:"UndoOutline",size:"large"})),n!==h.nW.Complete&&a().createElement(u.Tooltip,{label:d("action.complete")},a().createElement(u.IconButton,{onClick:t,icon:"CheckmarkCircleOutline",size:"large"}))))},b=({date:e,reminders:n,completeAction:i,undoCompleteAction:l})=>{const[d]=(0,r.useTranslation)(),o=(0,t.useMemo)((()=>(0,v.map)(n,(e=>a().createElement(T,{key:e.id,title:e.title,status:e.status,priority:e.priority,completeAction:i(e),undoCompleteAction:l(e)})))),[i,n,l]);return 0===n.length?null:a().createElement(u.Container,{gap:"0.5rem",height:"fit",crossAlignment:"flex-start"},a().createElement(u.Row,{gap:"0.5rem",wrap:"nowrap"},a().createElement(N.E,{color:"secondary",size:"medium"},d("modal.reminder.remindMeOn","Remind me on")),a().createElement(N.E,{color:"primary",size:"medium"},e)),a().createElement(u.Container,{gap:"0.5rem"},o))},E=({reminders:e,completeAction:n,undoCompleteAction:i})=>{const l=(0,t.useMemo)((()=>(0,v.map)(e,(e=>a().createElement(b,{key:e.date,completeAction:n,undoCompleteAction:i,date:e.date,reminders:e.reminders})))),[n,e,i]);return a().createElement(u.Container,{gap:"1rem"},l)},g=({closeAction:e,secondaryAction:n,showSecondaryAction:i,secondaryLabel:t,secondaryIcon:l})=>{const[d]=(0,r.useTranslation)();return a().createElement(u.Row,{gap:"0.5rem"},i&&a().createElement(u.Button,{type:"outlined",label:t,icon:l,onClick:n}),a().createElement(u.Button,{label:d("modal.reminder.dismiss","Dismiss"),onClick:e}))};var A=i(9812),C=i(2063);function w(e,n){return{...e,_reminderTimeout:!1,getKey:()=>(0,C.uN)(e.reminderAt,{includeTime:!0!==e.reminderAllDay,locale:n}),isVisible:()=>(0,c.A)(e.reminderAt)&&(e.reminderAllDay||(0,k.A)(e.reminderAt,Date.now())),isValid:()=>(0,c.A)(e.reminderAt)||(0,p.A)(e.reminderAt,Date.now()),startTimeout(n){const i=(e.reminderAllDay?(0,f.A)(e.reminderAt).getTime():e.reminderAt)-Date.now();return i>=0&&(i<=A.dl?this._reminderTimeout=setTimeout((()=>{n(this)}),i):this._reminderTimeout=!0),this._reminderTimeout},clearTimout(){"boolean"!=typeof this._reminderTimeout&&(clearTimeout(this._reminderTimeout),this._reminderTimeout=!1)},hasAlreadyBeenReminded(){return!1===this._reminderTimeout},isFutureReminder(){return!0===this._reminderTimeout}}}function F(e){return"number"==typeof e?.reminderAt}const S=()=>{const[e,{language:n}]=(0,r.useTranslation)(),i=(0,l.getNotificationManager)(),{data:c,previousData:k}=(0,o.I)(h.xG,{variables:{status:h.nW.Open},fetchPolicy:"cache-only",errorPolicy:"all"}),[p]=(0,s._)(h.xG,{variables:{status:h.nW.Open}}),[f]=(0,m.n)(h.O3),[y,N]=(0,t.useState)(!1),[T,b]=(0,t.useState)([]),S=(0,t.useRef)([]),D=(0,t.useRef)({}),O=(0,d.useLocation)(),V=(0,t.useMemo)((()=>O.pathname.includes(A.FL)),[O.pathname]),I=(0,t.useRef)(V),x=(0,t.useRef)(!1),R=(0,t.useRef)([]),W=(0,t.useRef)(null);(0,t.useEffect)((()=>{I.current=V}),[V]);const M=(0,t.useCallback)((()=>(0,v.chain)(D.current).reduce(((e,n,i)=>{if(n.length>0&&n[0].isVisible()){const t=n.filter((e=>e.hasAlreadyBeenReminded()));t.length>0&&e.push({date:i,reminders:t})}return e}),[]).sortBy((e=>e.date)).value()),[]),B=(0,t.useCallback)((e=>{i.notify({showPopup:!1,playSound:!0}),I.current||((0,l.updatePrimaryBadge)({show:!0,count:e,showCount:void 0!==e},A.FL),x.current=!0)}),[i]),P=(0,t.useCallback)(((...e)=>{N((n=>{if(n)return b((n=>{const i=(0,v.cloneDeep)(n),t=[],a=(0,v.flatMap)(i,(e=>e.reminders));(0,v.forEach)(e,(e=>{const n=(0,v.find)(a,(n=>n.id===e.id));n?n.status=e.status:t.push(e)}));const l=(0,v.groupBy)(t,(e=>e.getKey())),r=(0,v.map)(l,((e,n)=>({date:n,reminders:e})));return i.push(...r),i})),!0;const i=(0,v.groupBy)(e,(e=>e.getKey())),t=[...(0,v.map)(i,((e,n)=>({date:n,reminders:e}))),...M()];b(t);const a=t.length>0;return(0,v.forEach)(e,(e=>{e.clearTimout()})),a}))}),[M]);(0,t.useEffect)((()=>{const e=(0,v.differenceBy)(T,S.current,(e=>e.date));S.current=T,e.length>0&&B((0,v.flatMap)(T,(e=>e.reminders)).length)}),[T,B]);const _=(0,t.useMemo)((()=>(0,C.yo)(P)),[P]),L=(0,t.useCallback)((e=>{const n=D.current,i=e.getKey();void 0===n[i]&&(n[i]=[]),e.status===h.nW.Complete||(0,v.some)(n[i],(n=>n.id===e.id))||(e.startTimeout(_),n[i].push(e))}),[_]),$=(0,t.useCallback)((e=>{const n=D.current,i=e.getKey();if(void 0!==n[i]){const t=(0,v.remove)(n[i],(n=>n.id===e.id));0===n[i].length&&delete n[i],(0,v.forEach)(t,(e=>{e.clearTimout()}))}}),[]),z=(0,t.useCallback)((e=>(0,v.reduce)(D.current,((n,i,t)=>{const a=(0,v.findIndex)(i,(n=>n.id===e.id));return a>=0?{key:t,index:a}:n}),{key:void 0,index:void 0})),[]),G=(0,t.useCallback)((e=>{const n=D.current,{key:i,index:t}=z(e),a=e.getKey();!i||void 0===n[i]||t<0?L(e):(n[i][t].clearTimout(),e.status!==h.nW.Complete?(e.startTimeout(_),i!==a?((0,v.pullAt)(n[i],t),0===n[i].length&&delete n[i],void 0===n[a]&&(n[a]=[]),n[a].push(e)):n[i][t]=e):(0,v.pullAt)(n[i],t))}),[z,L,_]),H=(0,t.useCallback)((e=>{(0,v.forEach)(e,(e=>{if(F(e)){const i=w(e,n);i.isValid()&&L(i)}}))}),[n,L]);(0,t.useEffect)((()=>(D.current={},p().then((e=>{e?.data?.findTasks&&H(e.data.findTasks)})).then((()=>{_()})),()=>{(0,v.flatten)(Object.values(D.current)).forEach((e=>{e.clearTimout()})),_.cancel(),W.current&&clearInterval(W.current)})),[p,H,_]);const Q=(0,t.useCallback)((()=>{(0,v.forEach)(R.current,(e=>{e.startTimeout(_)}))}),[_]),j=(0,t.useCallback)((()=>{const e=(0,v.reduce)(D.current,((e,n)=>e.concat((0,v.filter)(n,(e=>e.isFutureReminder())))),[]);R.current=e,0===e.length&&W.current?clearInterval(W.current):e.length>0&&!W.current&&(W.current=setInterval(Q,A.i4))}),[Q]);(0,t.useEffect)((()=>{(0,v.differenceBy)(k?.findTasks??[],c?.findTasks??[],(e=>e?.id)).forEach((e=>{if(F(e)){const i=w(e,n);$(i)}}));const e=(0,v.differenceBy)(c?.findTasks??[],k?.findTasks??[],(e=>e?.id));H(e),j()}),[j,n,H,c?.findTasks,k?.findTasks,$,G]),(0,t.useEffect)((()=>{const e=(0,v.intersectionWith)(c?.findTasks??[],k?.findTasks??[],((e,n)=>null!==e&&null!==n&&e.id===n.id&&!(0,v.isEqual)(e,n))),i=e.reduce(((e,i)=>{if(F(i)){const t=w(i,n);G(t),e.push(t)}return e}),[]);e.length>0&&y&&_(...i),j()}),[j,y,n,c?.findTasks,k?.findTasks,_,G]);const q=(0,t.useMemo)((()=>(0,v.flatMap)(T,(({reminders:e})=>e))),[T]),K=(0,t.useCallback)((()=>{N(!1)}),[]),U=(0,t.useCallback)((e=>()=>f({variables:{id:e.id,status:h.nW.Complete},optimisticResponse:{updateTask:{id:e.id,status:h.nW.Complete}}})),[f]),Y=(0,t.useCallback)((e=>()=>f({variables:{id:e.id,status:h.nW.Open},optimisticResponse:{updateTask:{id:e.id,status:h.nW.Open}}})),[f]),J=(0,t.useCallback)((()=>{(0,v.forEach)(q,(e=>{e.status!==h.nW.Complete&&U(e)()}))}),[U,q]),X=(0,t.useCallback)((()=>{(0,v.forEach)(q,(e=>{e.status===h.nW.Complete&&Y(e)()}))}),[q,Y]),Z=(0,t.useMemo)((()=>q.length>1),[q]),ee=(0,t.useMemo)((()=>Z&&(0,v.some)(q,(e=>e.status!==h.nW.Complete))),[q,Z]),ne=(0,t.useMemo)((()=>ee?e("modal.reminder.completeAll","Complete all"):e("modal.reminder.undoAll","Undo all")),[ee,e]),ie=(0,t.useMemo)((()=>ee?J:X),[J,ee,X]),te=(0,t.useMemo)((()=>ee?"CheckmarkCircleOutline":"UndoOutline"),[ee]);return(0,t.useEffect)((()=>{V&&x.current&&(0,l.updatePrimaryBadge)({show:!1},A.FL)}),[V]),a().createElement(u.Modal,{title:e("modal.reminder.title","Tasks reminders"),open:y&&V,onClose:K,closeIconTooltip:e("modal.close","Close"),customFooter:a().createElement(g,{closeAction:K,showSecondaryAction:Z,secondaryAction:ie,secondaryLabel:ne,secondaryIcon:te}),maxHeight:"90vh"},a().createElement(E,{reminders:T,completeAction:U,undoCompleteAction:Y}))};var D=i(7327);const O=(0,t.lazy)((()=>Promise.all([i.e(143),i.e(799),i.e(351)]).then(i.bind(i,2877)))),V=(0,t.lazy)((()=>i.e(812).then(i.bind(i,8689)))),I=(0,t.lazy)((()=>Promise.all([i.e(143),i.e(100),i.e(507)]).then(i.bind(i,6294)))),x=(0,t.lazy)((()=>Promise.all([i.e(143),i.e(100),i.e(227)]).then(i.bind(i,2724)))),R=()=>a().createElement(t.Suspense,{fallback:a().createElement(l.Spinner,null)},a().createElement(O,null)),W=e=>a().createElement(t.Suspense,{fallback:a().createElement(l.Spinner,null)},a().createElement(V,e)),M=()=>a().createElement(t.Suspense,{fallback:a().createElement(l.Spinner,null)},a().createElement(D.A,null,a().createElement(I,null))),B=()=>a().createElement(t.Suspense,{fallback:a().createElement(l.Spinner,null)},a().createElement(D.A,null,a().createElement(x,null))),P=()=>{const[e]=(0,r.useTranslation)();return(0,t.useEffect)((()=>{const n=e("label.app_name","Tasks");(0,l.addRoute)({route:A.FL,position:600,visible:!0,label:n,primaryBar:"CheckmarkCircle2Outline",secondaryBar:W,appView:R}),(0,l.addBoardView)({route:`${A.FL}/new`,component:M}),(0,l.addBoardView)({route:`${A.FL}/edit`,component:B})}),[e]),(0,t.useEffect)((()=>{(0,l.registerActions)({id:"new-task",type:l.ACTION_TYPES.NEW,action:()=>({id:"new-task",label:e("label.new","New Task"),icon:"CheckmarkCircle2Outline",onClick:()=>{(0,l.addBoard)({url:`${A.FL}/new`,title:e("board.newTask.title","New Task")})},disabled:!1,primary:!0,group:A.Lc})})}),[e]),a().createElement(d.Route,{path:"/:module/:taskId?"},a().createElement(D.A,null,a().createElement(S,null)))}},5015:(e,n,i)=>{i.d(n,{w:()=>o});var t=i(7559),a=i.n(t),l=i(1755),r=i(5607),d=i(350);const o=({priority:e})=>a().createElement(a().Fragment,null,e===r.bx.High&&a().createElement(l.A,{style:{color:d.YA}}),e===r.bx.Low&&a().createElement(l.A,{style:{color:d.EQ}}),e===r.bx.Medium&&a().createElement(l.A,{style:{color:d.zG}}))},8989:(e,n,i)=>{i.d(n,{E:()=>s});var t=i(7559),a=i.n(t),l=i(4702),r=i(4710);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)({}).hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},d.apply(null,arguments)}const o=i.n(r)()((({withTooltip:e,children:n=null,...i})=>e?a().createElement(l.TextWithTooltip,i,n):a().createElement(l.Text,i,n))).withConfig({displayName:"Text__StyledText",componentId:"sc-1rd410i-0"})(["width:",";display:",";font-style:",";text-align:",";line-height:",";"],(({$width:e})=>e),(({$inline:e})=>e&&"inline"),(({$italic:e})=>e&&"italic"),(({$centered:e})=>e&&"center"),(({$lineHeight:e})=>e)),s=({width:e,centered:n,italic:i,inline:t,lineHeight:l=1.5,withTooltip:r=!1,...s})=>a().createElement(o,d({$width:e,$centered:n,$italic:i,$inline:t,$lineHeight:l,withTooltip:r},s))},9812:(e,n,i)=>{i.d(n,{FL:()=>a,G4:()=>c,Lc:()=>t,QQ:()=>l,bw:()=>r,dl:()=>k,gL:()=>o,i4:()=>p,nl:()=>u,on:()=>s,qi:()=>d,vd:()=>m});const t="carbonio-tasks-ui",a="tasks",l="/services/tasks/graphql/",r={task:"/:taskId?"},d="PPP",o="PPPp",s=250,m=1024,u=4096,c=200,k=1728e5,p=k-3e5},5607:(e,n,i)=>{i.d(n,{JP:()=>m,O3:()=>o,R_:()=>l,SQ:()=>d,bx:()=>t,hy:()=>r,nW:()=>a,xG:()=>s});let t=function(e){return e.High="HIGH",e.Low="LOW",e.Medium="MEDIUM",e}({}),a=function(e){return e.Complete="COMPLETE",e.Open="OPEN",e}({});const l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createTask"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newTask"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NewTaskInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createTask"},arguments:[{kind:"Argument",name:{kind:"Name",value:"newTask"},value:{kind:"Variable",name:{kind:"Name",value:"newTask"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Task"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Task"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Task"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"priority"}},{kind:"Field",name:{kind:"Name",value:"reminderAllDay"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"reminderAt"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}}]}}]},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"trashTask"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"taskId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trashTask"},arguments:[{kind:"Argument",name:{kind:"Name",value:"taskId"},value:{kind:"Variable",name:{kind:"Name",value:"taskId"}}}]}]}}]},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateTask"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"updateTask"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateTaskInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateTask"},arguments:[{kind:"Argument",name:{kind:"Name",value:"updateTask"},value:{kind:"Variable",name:{kind:"Name",value:"updateTask"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Task"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Task"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Task"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"priority"}},{kind:"Field",name:{kind:"Name",value:"reminderAllDay"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"reminderAt"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}}]}}]},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateTaskStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Status"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateTask"},arguments:[{kind:"Argument",name:{kind:"Name",value:"updateTask"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"status"}}]}}]}}]},s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"findTasks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"priority"}},type:{kind:"NamedType",name:{kind:"Name",value:"Priority"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"Status"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"findTasks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"priority"},value:{kind:"Variable",name:{kind:"Name",value:"priority"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"priority"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"reminderAllDay"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"reminderAt"}},{kind:"Field",name:{kind:"Name",value:"title"}}]}}]}}]},m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getTask"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"taskId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getTask"},arguments:[{kind:"Argument",name:{kind:"Name",value:"taskId"},value:{kind:"Variable",name:{kind:"Name",value:"taskId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"priority"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"reminderAllDay"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"reminderAt"}},{kind:"Field",name:{kind:"Name",value:"title"}}]}}]}}]}},7327:(e,n,i)=>{i.d(n,{A:()=>v});var t=i(7559),a=i.n(t),l=i(3104),r=i(4702);const d=({children:e})=>a().createElement(r.ThemeProvider,{loadDefaultFont:!1},e);var o=i(1804),s=i(4063),m=i(4228);const u={Query:{fields:{getTask:{read(e,n){const{args:i,toReference:t}=n;if(i?.taskId)return t({__typename:"Task",id:i.taskId})}}}}};var c=i(9812);const k=new o.D({possibleTypes:{},typePolicies:u});let p;const f=()=>{if(null==p){const e=new s.P({uri:`${c.QQ}`,credentials:"same-origin"});p=new m.R({cache:k,connectToDevTools:!1,link:e})}return p},v=({children:e})=>{const n=(0,t.useMemo)((()=>f()),[]);return a().createElement(d,null,a().createElement(l.X,{client:n},a().createElement(r.ModalManager,null,e)))}},350:(e,n,i)=>{i.d(n,{EQ:()=>o,N5:()=>s,OT:()=>l,YA:()=>d,b3:()=>t,i6:()=>u,qO:()=>m,v1:()=>c,vC:()=>a,zG:()=>r});const t="#FFFFFF",a="#ffffff",l="#000000",r="#00b5ff",d="#ff6600",o="#c2e7ff",s="#C7D0EE",m="#ffe6ee",u="#B3D6EB",c="#34C759"},2063:(e,n,i)=>{i.d(n,{D_:()=>l,uN:()=>a,yo:()=>r}),i(3619);var t=i(2509);function a(e,n){const i=n?.locale?.replaceAll("_","-"),t={year:"numeric",month:"short",day:"2-digit"};n?.includeTime&&(t.hour="2-digit",t.minute="2-digit");try{return Intl.DateTimeFormat(i,t).format(e)}catch(t){if(t instanceof RangeError){const t=i?.indexOf("-")??-1;return a(e,{locale:t>-1?i?.substring(0,t):void 0,includeTime:n?.includeTime})}throw t}}function l(e){return null!==e}function r(...[e,n,i]){let a=[];const l=(0,t.debounce)((()=>{const n=e(...(0,t.flatten)(a));return a=[],n}),n,i),r=(...e)=>(a.push(e),l());return r.cancel=()=>{l.cancel(),a=[]},r.flush=()=>l.flush(),r}}}]);
//# sourceMappingURL=491.441ff624.chunk.js.map