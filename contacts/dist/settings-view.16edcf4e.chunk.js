"use strict";(self.webpackChunkcarbonio_contacts_ui=self.webpackChunkcarbonio_contacts_ui||[]).push([[62],{7388:(e,t,a)=>{a.d(t,{s:()=>o});var n=a(7559),l=a(4577);let r=function(e){return e.ACCOUNT="urn:zimbraAccount",e.ADMIN="urn:zimbraAdmin",e.MAIL="urn:zimbraMail",e.ALL="urn:zimbra",e.SYNC="urn:zimbraSync",e}({});const o=()=>{const e=(0,n.useCallback)((()=>{(async()=>{const e={_jsns:r.MAIL},t=await(0,l.soapFetch)("NoOp",e);if("Fault"in t)throw new Error(t.Fault.Reason.Text)})()}),[]);(0,n.useEffect)((()=>(window.addEventListener("updateView",e),function(){window.removeEventListener("updateView",e)})),[e])}},2710:(e,t,a)=>{a.d(t,{t:()=>l});var n=a(2509);const l=(e,t)=>function e(t,a){return(0,n.transform)(t,((t,l,r)=>{(0,n.isEqual)(l,a[r])||(t[r]=(0,n.isObject)(l)&&(0,n.isObject)(a[r])?e(l,a[r]):l)}))}(e,t)},2435:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var n=a(7559),l=a.n(n),r=a(4702),o=a(4577),i=a(8153),c=a(2710);function s({title:e}){return l().createElement(l().Fragment,null,l().createElement(r.Row,{padding:{all:"small"},mainAlignment:"baseline",crossAlignment:"baseline",width:"100%"},l().createElement(r.Text,{size:"medium",weight:"bold"},e)),l().createElement(r.Padding,{veritcal:"small"}))}function m({t:e,settingsObj:t,updateSettings:a}){return l().createElement(r.FormSubSection,{label:e("label.options","Options")},l().createElement(r.Container,{crossAlignment:"baseline",padding:{all:"small"}},l().createElement(s,{title:e("label.options","Options")}),l().createElement(r.Checkbox,{label:e("settings.contacts.checkbox.add_contact_to_emailed_contacts",'Add new contacts to "Emailed Contacts"'),value:"TRUE"===t.zimbraPrefAutoAddAddressEnabled,onClick:()=>a({target:{name:"zimbraPrefAutoAddAddressEnabled",value:"TRUE"===t.zimbraPrefAutoAddAddressEnabled?"FALSE":"TRUE"}})}),l().createElement(r.Checkbox,{label:e("settings.contacts.checkbox.srch_glbl_addrs_list","Initially search the Global Address List when using the contact picker"),value:"TRUE"===t.zimbraPrefGalSearchEnabled,onClick:()=>a({target:{name:"zimbraPrefGalSearchEnabled",value:"TRUE"===t.zimbraPrefGalSearchEnabled?"FALSE":"TRUE"}})})),l().createElement(r.Container,{crossAlignment:"baseline",padding:{all:"small"}},l().createElement(s,{title:e("label.autocomplete","Autocomplete")}),l().createElement(r.Checkbox,{label:e("settings.contacts.checkbox.incl_addrs_in_glbl_addrs_list","Include addresses in the Global Address List"),value:"TRUE"===t.zimbraPrefGalAutoCompleteEnabled,onClick:()=>a({target:{name:"zimbraPrefGalAutoCompleteEnabled",value:"TRUE"===t.zimbraPrefGalAutoCompleteEnabled?"FALSE":"TRUE"}})}),l().createElement(r.Checkbox,{label:e("settings.contacts.checkbox.include_add_in_shared_contact","Include addresses in shared contacts"),value:"TRUE"===t.zimbraPrefSharedAddrBookAutoCompleteEnabled,onClick:()=>a({target:{name:"zimbraPrefSharedAddrBookAutoCompleteEnabled",value:"TRUE"===t.zimbraPrefSharedAddrBookAutoCompleteEnabled?"FALSE":"TRUE"}})}),l().createElement(r.Checkbox,{label:e("settings.contacts.checkbox.autocomplete_on_comma","Select autocomplete match when a comma is typed"),value:"TRUE"===t.zimbraPrefAutoCompleteQuickCompletionOnComma,onClick:()=>a({target:{name:"zimbraPrefAutoCompleteQuickCompletionOnComma",value:"TRUE"===t.zimbraPrefAutoCompleteQuickCompletionOnComma?"FALSE":"TRUE"}})})))}var d=a(7388);function u(){const[e]=(0,i.useTranslation)(),t=(0,o.useUserSettings)()?.prefs,[a,s]=(0,n.useState)({...t}),[u,b]=(0,n.useState)({}),E=(0,r.useSnackbar)();(0,d.s)();const g=(0,n.useCallback)((()=>{s({...t}),b({})}),[t]),A=(0,n.useCallback)((e=>{s({...a,[e.target.name]:e.target.value}),b({...u,[e.target.name]:e.target.value})}),[a,u]),p=(0,n.useMemo)((()=>(0,c.t)(u,t)),[u,t]),h=(0,n.useMemo)((()=>0===Object.keys(p).length),[p]),C=(0,n.useCallback)((()=>{(0,o.editSettings)({prefs:u}).then((t=>{t.type.includes("fulfilled")?E({key:"new",replace:!0,type:"info",label:e("message.snackbar.settings_saved","Edits saved correctly"),autoHideTimeout:3e3,hideButton:!0}):E({key:"new",replace:!0,type:"error",label:e("label.error_try_again","Something went wrong, please try again"),autoHideTimeout:3e3,hideButton:!0})}))}),[u,E,e]),k=(0,n.useMemo)((()=>e("label.contact_setting","Contact Settings")),[e]);return l().createElement(l().Fragment,null,l().createElement(o.SettingsHeader,{onCancel:g,onSave:C,title:k,isDirty:!h}),l().createElement(r.Container,{orientation:"vertical",mainAlignment:"baseline",crossAlignment:"baseline",background:"white",style:{overflowY:"auto"}},l().createElement(r.FormSection,{width:"100%",minWidth:"calc(min(100%, 32rem))"},l().createElement(m,{t:e,settingsObj:a,updateSettings:A}))))}}}]);
//# sourceMappingURL=settings-view.16edcf4e.chunk.js.map