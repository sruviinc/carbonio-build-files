{"version":3,"file":"111.5d3bf7ae.chunk.js","mappings":"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","sources":["webpack://carbonio-contacts-ui/./src/legacy/views/edit/contact-edit-panel.jsx","webpack://carbonio-contacts-ui/./src/legacy/views/preview/contact-preview-content.jsx","webpack://carbonio-contacts-ui/./src/legacy/views/preview/contact-preview-header.jsx","webpack://carbonio-contacts-ui/./src/legacy/views/preview/contact-preview-panel.jsx"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport React, { useCallback } from 'react';\n\nimport {\n\tContainer,\n\tDivider,\n\tIcon,\n\tIconButton,\n\tPadding,\n\tRow,\n\tText\n} from '@zextras/carbonio-design-system';\nimport { replaceHistory } from '@zextras/carbonio-shell-ui';\nimport { useTranslation } from 'react-i18next';\nimport { useParams } from 'react-router-dom';\n\nimport EditView from './edit-view';\n\nfunction ContactEditHeader({ editPanelId, folderId }) {\n\tconst [t] = useTranslation();\n\n\tconst onClose = useCallback(() => replaceHistory(`/folder/${folderId}`), [folderId]);\n\n\treturn (\n\t\t<Container height=\"3.0625rem\">\n\t\t\t<Container\n\t\t\t\torientation=\"horizontal\"\n\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\theight=\"3rem\"\n\t\t\t\tpadding={{ left: 'large', right: 'large' }}\n\t\t\t>\n\t\t\t\t<Padding right=\"medium\">\n\t\t\t\t\t<Icon size=\"medium\" icon=\"EditOutline\" />\n\t\t\t\t</Padding>\n\t\t\t\t<Row takeAvailableSpace mainAlignment=\"flex-start\">\n\t\t\t\t\t<Text size=\"medium\">\n\t\t\t\t\t\t{editPanelId && editPanelId !== 'new'\n\t\t\t\t\t\t\t? t('label.edit', 'Edit')\n\t\t\t\t\t\t\t: t('label.create', 'Create')}\n\t\t\t\t\t</Text>\n\t\t\t\t</Row>\n\t\t\t\t<IconButton icon=\"Close\" size=\"small\" onClick={onClose} />\n\t\t\t</Container>\n\t\t\t<Divider />\n\t\t</Container>\n\t);\n}\n\nexport default function ContactEditPanel() {\n\tconst { editId, folderId } = useParams();\n\treturn (\n\t\t<>\n\t\t\t<ContactEditHeader editPanelId={editId} folderId={folderId} />\n\t\t\t<Container height=\"fit\" style={{ maxHeight: '100%', overflowY: 'auto' }}>\n\t\t\t\t<EditView panel />\n\t\t\t</Container>\n\t\t</>\n\t);\n}\n","/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport React, { useCallback, useState, useMemo } from 'react';\n\nimport {\n\tContainer,\n\tIconButton,\n\tRow,\n\tResponsive,\n\tButton,\n\tText,\n\tCollapse,\n\tDropdown,\n\tPadding,\n\tIcon,\n\tTooltip,\n\tLink\n} from '@zextras/carbonio-design-system';\nimport { runSearch, useTags, ZIMBRA_STANDARD_COLORS } from '@zextras/carbonio-shell-ui';\nimport { every, includes, isEmpty, map, reduce } from 'lodash';\nimport { useTranslation } from 'react-i18next';\n\nimport { isTrash } from '../../../carbonio-ui-commons/helpers/folders';\nimport { CompactView } from '../../commons/contact-compact-view';\nimport { useTagExist } from '../../ui-actions/tag-actions';\n\nfunction typeToIcon(type) {\n\tswitch (type) {\n\t\tcase 'mail':\n\t\t\treturn 'EmailOutline';\n\t\tcase 'mobile':\n\t\t\treturn 'SmartphoneOutline';\n\t\tcase 'home':\n\t\t\treturn 'HomeOutline';\n\t\tcase 'work':\n\t\t\treturn 'BriefcaseOutline';\n\t\tcase 'fax':\n\t\t\treturn '';\n\t\tcase 'other':\n\t\tdefault:\n\t\t\treturn 'PersonOutline';\n\t}\n}\n\nfunction ContactPreviewRow({ children, width }) {\n\treturn (\n\t\t<Row\n\t\t\torientation=\"horizontal\"\n\t\t\tmainAlignment=\"space-between\"\n\t\t\twidth={width || 'fill'}\n\t\t\twrap=\"nowrap\"\n\t\t\tcrossAlignment=\"flex-start\"\n\t\t\tpadding={{ horizontal: 'small', vertical: 'small' }}\n\t\t>\n\t\t\t{children}\n\t\t</Row>\n\t);\n}\n\nfunction ContactField({ field, label, width, limit, items }) {\n\treturn (\n\t\t<>\n\t\t\t{items ? (\n\t\t\t\t<Container>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tmaxWidth=\"100%\"\n\t\t\t\t\t\titems={items}\n\t\t\t\t\t\tplacement=\"bottom-end\"\n\t\t\t\t\t\tdisplay=\"block\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Container\n\t\t\t\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\t\t\t\tpadding={{ all: 'small' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text color=\"secondary\">{label}</Text>\n\t\t\t\t\t\t\t<Row\n\t\t\t\t\t\t\t\ttakeAvailableSpace\n\t\t\t\t\t\t\t\twrap=\"nowrap\"\n\t\t\t\t\t\t\t\theight=\"fit\"\n\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\t\t\t\t\tpadding={{ top: 'extrasmall' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Row\n\t\t\t\t\t\t\t\t\ttakeAvailableSpace\n\t\t\t\t\t\t\t\t\twrap=\"nowrap\"\n\t\t\t\t\t\t\t\t\theight=\"fit\"\n\t\t\t\t\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\t\t\t\t\t\tpadding={{ top: 'extrasmall' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Text size=\"medium\" overflow=\"break-word\">\n\t\t\t\t\t\t\t\t\t\t{field}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<IconButton size=\"small\" icon=\"ArrowIosDownward\" />\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</Container>\n\t\t\t) : (\n\t\t\t\t<Container\n\t\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\t\tpadding={{ all: 'small' }}\n\t\t\t\t\twidth={width || '48%'}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tminHeight: '3rem',\n\t\t\t\t\t\tmaxWidth: limit ? 'calc(100% - 3rem)' : '100%'\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Text color=\"secondary\">{label}</Text>\n\t\t\t\t\t<Row\n\t\t\t\t\t\ttakeAvailableSpace\n\t\t\t\t\t\twrap=\"nowrap\"\n\t\t\t\t\t\theight=\"fit\"\n\t\t\t\t\t\twidth=\"fill\"\n\t\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\t\t\tpadding={{ top: 'extrasmall' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Row takeAvailableSpace mainAlignment=\"flex-start\">\n\t\t\t\t\t\t\t<Text size=\"medium\" overflow=\"break-word\">\n\t\t\t\t\t\t\t\t{field}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t{items && (\n\t\t\t\t\t\t\t<Dropdown items={items} placement=\"bottom-end\">\n\t\t\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t\t\t\t<Row takeAvailableSpace mainAlignment=\"flex-start\" />\n\t\t\t\t\t\t\t\t\t<IconButton size=\"small\" icon=\"ArrowIosDownward\" />\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nfunction ContactMultiValueField({ type, values, width, defaultType, showIcon }) {\n\tconst [t] = useTranslation();\n\n\tconst [selected, setSelected] = useState(0);\n\n\tconst [internalType, label] = useMemo(() => {\n\t\tswitch (type) {\n\t\t\tcase 'mail':\n\t\t\t\treturn ['mail', t('section.title.mail', 'E-mail address')];\n\t\t\tcase 'phone_number':\n\t\t\t\treturn ['number', t('section.title.phone_number', 'Phone contact')];\n\t\t\tcase 'url':\n\t\t\t\treturn [\n\t\t\t\t\t'url',\n\t\t\t\t\tt('label.website', {\n\t\t\t\t\t\tcount: values.length,\n\t\t\t\t\t\tdefaultValue_one: 'website',\n\t\t\t\t\t\tdefaultValue_other: 'websites'\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t\tcase 'address':\n\t\t\t\treturn [\n\t\t\t\t\t'address',\n\t\t\t\t\tt('section.title.address', {\n\t\t\t\t\t\tcount: values.length,\n\t\t\t\t\t\tdefaultValue_one: 'address',\n\t\t\t\t\t\tdefaultValue_other: 'addresses'\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t\tdefault:\n\t\t\t\treturn [type, type];\n\t\t}\n\t}, [t, type, values.length]);\n\n\tconst items = useMemo(\n\t\t() =>\n\t\t\treduce(\n\t\t\t\tvalues,\n\t\t\t\t(acc, item, id) => {\n\t\t\t\t\tlet itemLabel = type;\n\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'mail':\n\t\t\t\t\t\t\titemLabel = item.mail;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'phone_number':\n\t\t\t\t\t\t\titemLabel = item.number;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'url':\n\t\t\t\t\t\t\titemLabel = item.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'address':\n\t\t\t\t\t\t\titemLabel = item.address;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t}\n\t\t\t\t\tacc.push({\n\t\t\t\t\t\tid: id.toString(),\n\t\t\t\t\t\tlabel: itemLabel,\n\t\t\t\t\t\ticon: showIcon ? typeToIcon(item.type || defaultType || 'other') : null,\n\t\t\t\t\t\tonClick: () => setSelected(id)\n\t\t\t\t\t});\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t[]\n\t\t\t),\n\t\t[defaultType, values, showIcon, type]\n\t);\n\treturn (\n\t\t<Container\n\t\t\torientation=\"horizontal\"\n\t\t\twidth={width || '48%'}\n\t\t\tcrossAlignment=\"center\"\n\t\t\tmainAlignment=\"space-between\"\n\t\t>\n\t\t\t<ContactField\n\t\t\t\tlabel={label}\n\t\t\t\tfield={values && values[selected] && values[selected][internalType]}\n\t\t\t\ticon={\n\t\t\t\t\tvalues &&\n\t\t\t\t\tvalues[selected] &&\n\t\t\t\t\tshowIcon &&\n\t\t\t\t\ttypeToIcon(values[selected].type || defaultType || 'other')\n\t\t\t\t}\n\t\t\t\twidth={width || 'fill'}\n\t\t\t\titems={values.length > 1 && items}\n\t\t\t/>\n\t\t</Container>\n\t);\n}\n\nfunction ContactPreviewContent({ contact, onEdit, onDelete, onMail, onMove }) {\n\tconst [open, setOpen] = useState(true);\n\tconst toggleOpen = useCallback(() => {\n\t\tsetOpen(!open);\n\t}, [setOpen, open]);\n\tconst [t] = useTranslation();\n\n\tconst mailData = useMemo(() => Object.values(contact.email), [contact]);\n\tconst urlData = useMemo(() => Object.values(contact.URL), [contact]);\n\tconst phoneData = useMemo(() => Object.values(contact.phone), [contact]);\n\tconst addressData = useMemo(() => Object.values(contact.address), [contact]);\n\n\tconst tagsFromStore = useTags();\n\tconst triggerSearch = useCallback(\n\t\t(tagToSearch) =>\n\t\t\trunSearch(\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tavatarBackground: ZIMBRA_STANDARD_COLORS[tagToSearch?.color ?? 0].hex,\n\t\t\t\t\t\tavatarIcon: 'Tag',\n\t\t\t\t\t\tbackground: 'gray2',\n\t\t\t\t\t\thasAvatar: true,\n\t\t\t\t\t\tisGeneric: false,\n\t\t\t\t\t\tisQueryFilter: true,\n\t\t\t\t\t\tlabel: `tag:${tagToSearch?.name}`,\n\t\t\t\t\t\tvalue: `tag:\"${tagToSearch?.name}\"`\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t'contacts'\n\t\t\t),\n\t\t[]\n\t);\n\tconst tags = useMemo(\n\t\t() =>\n\t\t\treduce(\n\t\t\t\ttagsFromStore,\n\t\t\t\t(acc, v) => {\n\t\t\t\t\tif (includes(contact.tags, v.id))\n\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\t...v,\n\t\t\t\t\t\t\tcolor: ZIMBRA_STANDARD_COLORS[v.color ?? 0].hex,\n\t\t\t\t\t\t\tlabel: v.name,\n\t\t\t\t\t\t\tonClick: () => triggerSearch(v),\n\t\t\t\t\t\t\tcustomComponent: (\n\t\t\t\t\t\t\t\t<Row takeAvailableSpace mainAlignment=\"flex-start\">\n\t\t\t\t\t\t\t\t\t<Row takeAvailableSpace mainAlignment=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t<Row mainAlignment=\"flex-end\">\n\t\t\t\t\t\t\t\t\t\t\t<Padding right=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon icon=\"Tag\" color={ZIMBRA_STANDARD_COLORS[v.color ?? 0].hex} />\n\t\t\t\t\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<Row takeAvailableSpace mainAlignment=\"flex-start\">\n\t\t\t\t\t\t\t\t\t\t\t<Text>{v.name}</Text>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t});\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t[]\n\t\t\t),\n\t\t[contact.tags, tagsFromStore, triggerSearch]\n\t);\n\n\tconst tagIcon = useMemo(() => (tags.length > 1 ? 'TagsMoreOutline' : 'Tag'), [tags]);\n\tconst tagIconColor = useMemo(() => (tags.length === 1 ? tags[0].color : undefined), [tags]);\n\n\tconst isTagInStore = useTagExist(tags);\n\n\tconst onTagClick = useCallback(() => {\n\t\ttriggerSearch(tagsFromStore?.[contact?.tags[0]]);\n\t}, [contact.tags, triggerSearch, tagsFromStore]);\n\n\tconst showMultiTagIcon = useMemo(\n\t\t() => contact.tags?.length > 1 && isTagInStore,\n\t\t[contact.tags?.length, isTagInStore]\n\t);\n\tconst showTagIcon = useMemo(\n\t\t() =>\n\t\t\tcontact.tags &&\n\t\t\tcontact.tags?.length !== 0 &&\n\t\t\t!showMultiTagIcon &&\n\t\t\tisTagInStore &&\n\t\t\tevery(contact.tags, (tn) => tn !== ''),\n\t\t[isTagInStore, contact.tags, showMultiTagIcon]\n\t);\n\n\tconst [showDropdown, setShowDropdown] = useState(false);\n\tconst onIconClick = useCallback((ev) => {\n\t\tev.stopPropagation();\n\t\tsetShowDropdown((o) => !o);\n\t}, []);\n\n\tconst onDropdownClose = useCallback(() => {\n\t\tsetShowDropdown(false);\n\t}, []);\n\n\tconst singleTagLabel = useMemo(\n\t\t() => tagsFromStore[contact?.tags?.[0]]?.name,\n\t\t[contact?.tags, tagsFromStore]\n\t);\n\n\treturn (\n\t\t<Row\n\t\t\tdata-testid=\"PreviewPanel\"\n\t\t\tpadding={{ all: 'extrasmall' }}\n\t\t\twidth=\"100%\"\n\t\t\tmainAlignment=\"baseline\"\n\t\t\tstyle={{ overflowY: 'auto' }}\n\t\t>\n\t\t\t<Responsive mode=\"desktop\" target={window.top}>\n\t\t\t\t<Container\n\t\t\t\t\tdata-testid=\"contact-preview-content-desktop\"\n\t\t\t\t\tbackground=\"gray6\"\n\t\t\t\t\theight=\"fit\"\n\t\t\t\t\tpadding={{ all: 'medium' }}\n\t\t\t\t>\n\t\t\t\t\t<Row\n\t\t\t\t\t\twidth=\"fill\"\n\t\t\t\t\t\theight=\"fit\"\n\t\t\t\t\t\ttakeAvailableSpace\n\t\t\t\t\t\tmainAlignment=\"flex-end\"\n\t\t\t\t\t\tpadding={{ horizontal: 'extrasmall' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{!isTrash(contact.parent) && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\ticon=\"MailModOutline\"\n\t\t\t\t\t\t\t\tonClick={onMail}\n\t\t\t\t\t\t\t\tdisabled={isEmpty(contact?.email)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{showTagIcon && (\n\t\t\t\t\t\t\t<Padding left=\"small\">\n\t\t\t\t\t\t\t\t<Tooltip label={singleTagLabel} disabled={showMultiTagIcon}>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tdata-testid=\"TagIcon\"\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\tonClick={onTagClick}\n\t\t\t\t\t\t\t\t\t\ticon={tagIcon}\n\t\t\t\t\t\t\t\t\t\tcolor={tagIconColor}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{showMultiTagIcon && (\n\t\t\t\t\t\t\t<Dropdown items={tags} forceOpen={showDropdown} onClose={onDropdownClose}>\n\t\t\t\t\t\t\t\t<Padding left=\"small\">\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\tdata-testid=\"TagIcon\"\n\t\t\t\t\t\t\t\t\t\ticon={tagIcon}\n\t\t\t\t\t\t\t\t\t\tonClick={onIconClick}\n\t\t\t\t\t\t\t\t\t\tcolor={tagIconColor}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<IconButton icon=\"Trash2Outline\" onClick={onDelete} />\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\ticon={isTrash(contact.parent) ? 'RestoreOutline' : 'MoveOutline'}\n\t\t\t\t\t\t\tonClick={onMove}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Padding right=\"small\" />\n\t\t\t\t\t\t{!isTrash(contact.parent) && (\n\t\t\t\t\t\t\t<Button icon=\"EditOutline\" label={t('label.edit')} onClick={onEdit} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Container padding={{ all: 'small', top: 'extrasmall' }}>\n\t\t\t\t\t\t<CompactView contact={contact} open={open} toggleOpen={toggleOpen} />\n\t\t\t\t\t</Container>\n\t\t\t\t</Container>\n\t\t\t\t<Collapse orientation=\"vertical\" open={open} crossSize=\"100%\" disableTransition>\n\t\t\t\t\t<Container\n\t\t\t\t\t\tbackground=\"gray6\"\n\t\t\t\t\t\twidth=\"fill\"\n\t\t\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\t\t\tpadding={{ vertical: 'large', horizontal: 'extralarge' }}\n\t\t\t\t\t\tstyle={{ overflowY: 'auto' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContactPreviewRow>\n\t\t\t\t\t\t\t{contact.namePrefix && (\n\t\t\t\t\t\t\t\t<ContactField field={contact.namePrefix} label={t('name.prefix', 'Prefix')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{contact.firstName && (\n\t\t\t\t\t\t\t\t<ContactField\n\t\t\t\t\t\t\t\t\tfield={contact.firstName}\n\t\t\t\t\t\t\t\t\tlabel={t('name.first_name', 'First Name')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{contact.middleName && (\n\t\t\t\t\t\t\t\t<ContactField\n\t\t\t\t\t\t\t\t\tfield={contact.middleName}\n\t\t\t\t\t\t\t\t\tlabel={t('name.middle_name', 'Middle Name')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{contact.lastName && (\n\t\t\t\t\t\t\t\t<ContactField field={contact.lastName} label={t('name.last_name', 'Last Name')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{contact.nameSuffix && (\n\t\t\t\t\t\t\t\t<ContactField field={contact.nameSuffix} label={t('name.suffix', 'Suffix')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContactPreviewRow>\n\n\t\t\t\t\t\t<ContactPreviewRow>\n\t\t\t\t\t\t\t{phoneData.length > 0 && (\n\t\t\t\t\t\t\t\t<ContactMultiValueField type=\"phone_number\" values={phoneData} showIcon />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{mailData.length > 0 && (\n\t\t\t\t\t\t\t\t<ContactMultiValueField\n\t\t\t\t\t\t\t\t\ttype=\"mail\"\n\t\t\t\t\t\t\t\t\tvalues={mailData}\n\t\t\t\t\t\t\t\t\tdefaultType=\"email\"\n\t\t\t\t\t\t\t\t\tshowIcon={false}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContactPreviewRow>\n\n\t\t\t\t\t\t<ContactPreviewRow>\n\t\t\t\t\t\t\t{contact.jobTitle && (\n\t\t\t\t\t\t\t\t<ContactField field={contact.jobTitle} label={t('job.title', 'Job Role')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{contact.department && (\n\t\t\t\t\t\t\t\t<ContactField\n\t\t\t\t\t\t\t\t\tfield={contact.department}\n\t\t\t\t\t\t\t\t\tlabel={t('job.department', 'Department')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{contact.company && (\n\t\t\t\t\t\t\t\t<ContactField field={contact.company} label={t('job.company', 'Company')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContactPreviewRow>\n\t\t\t\t\t\t{contact.notes && <ContactPreviewRow></ContactPreviewRow>}\n\t\t\t\t\t\t{contact.notes && (\n\t\t\t\t\t\t\t<ContactPreviewRow>\n\t\t\t\t\t\t\t\t<ContactField\n\t\t\t\t\t\t\t\t\tfield={contact.notes}\n\t\t\t\t\t\t\t\t\tlabel={t('label.notes', 'Notes')}\n\t\t\t\t\t\t\t\t\twidth=\"fill\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ContactPreviewRow>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{addressData.length > 0 && (\n\t\t\t\t\t\t\t<Row width=\"fill\" mainAlignment=\"flex-start\" padding={{ top: 'large' }}>\n\t\t\t\t\t\t\t\t<Text color=\"secondary\" overflow=\"break-word\" style={{ paddingLeft: '1rem' }}>\n\t\t\t\t\t\t\t\t\t{t('section.title.address', 'Address')}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t{map(addressData, (address, index) => (\n\t\t\t\t\t\t\t\t\t<ContactPreviewRow crossAlignment=\"flex-start\" key={index}>\n\t\t\t\t\t\t\t\t\t\t{address.type && (\n\t\t\t\t\t\t\t\t\t\t\t<ContactField field={address.type} label={t('label.type', 'Type')} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{address.street && (\n\t\t\t\t\t\t\t\t\t\t\t<ContactField\n\t\t\t\t\t\t\t\t\t\t\t\tfield={address.street}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('section.field.street', 'Street')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{address.city && (\n\t\t\t\t\t\t\t\t\t\t\t<ContactField field={address.city} label={t('section.field.city', 'City')} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{address.postalCode && (\n\t\t\t\t\t\t\t\t\t\t\t<ContactField\n\t\t\t\t\t\t\t\t\t\t\t\tfield={address.postalCode}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('section.field.postalCode', 'PostalCode')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{address.country && (\n\t\t\t\t\t\t\t\t\t\t\t<ContactField\n\t\t\t\t\t\t\t\t\t\t\t\tfield={address.country}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('section.field.country', 'Country')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{address.state && (\n\t\t\t\t\t\t\t\t\t\t\t<ContactField\n\t\t\t\t\t\t\t\t\t\t\t\tfield={address.state}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('section.field.state', 'State')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</ContactPreviewRow>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{urlData.length > 0 && (\n\t\t\t\t\t\t\t<Row width=\"fill\" mainAlignment=\"flex-start\" padding={{ top: 'large' }}>\n\t\t\t\t\t\t\t\t<Text color=\"secondary\" overflow=\"break-word\" style={{ paddingLeft: '1rem' }}>\n\t\t\t\t\t\t\t\t\t{t('label.website', 'Website')}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t{map(urlData, ({ url }, index) => {\n\t\t\t\t\t\t\t\t\tconst finalUrl = url.match('^(\\\\w+:)?\\\\/\\\\/.+$') ? url : `https://${url}`;\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<ContactPreviewRow crossAlignment=\"flex-start\" key={index}>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingLeft: '0.5rem' }}\n\t\t\t\t\t\t\t\t\t\t\t\tunderlined\n\t\t\t\t\t\t\t\t\t\t\t\thref={finalUrl}\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{url}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</ContactPreviewRow>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Container>\n\t\t\t\t</Collapse>\n\t\t\t</Responsive>\n\t\t\t<Responsive mode=\"mobile\" target={window.top}>\n\t\t\t\t<Container\n\t\t\t\t\tdata-testid=\"contact-preview-content-mobile\"\n\t\t\t\t\tbackground=\"gray6\"\n\t\t\t\t\theight=\"fit\"\n\t\t\t\t\tpadding={{ all: 'medium' }}\n\t\t\t\t>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<CompactView contact={contact} open={open} toggleOpen={toggleOpen} />\n\t\t\t\t\t</Container>\n\t\t\t\t</Container>\n\t\t\t\t<Collapse orientation=\"vertical\" open={open} crossSize=\"100%\" disableTransition>\n\t\t\t\t\t<Container\n\t\t\t\t\t\tbackground=\"gray6\"\n\t\t\t\t\t\twidth=\"fill\"\n\t\t\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\t\t\tpadding={{ vertical: 'large', horizontal: 'extralarge' }}\n\t\t\t\t\t\tstyle={{ overflowY: 'auto' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContactPreviewRow>\n\t\t\t\t\t\t\t<ContactField field={contact.namePrefix} label={t('name.prefix', 'Prefix')} />\n\t\t\t\t\t\t\t<ContactField field={contact.firstName} label={t('name.first_name', 'First Name')} />\n\t\t\t\t\t\t</ContactPreviewRow>\n\n\t\t\t\t\t\t<ContactPreviewRow>\n\t\t\t\t\t\t\t<ContactField field={contact.lastName} label={t('name.last_name', 'Last Name')} />\n\n\t\t\t\t\t\t\t<ContactMultiValueField type=\"phone_number\" values={phoneData} showIcon />\n\t\t\t\t\t\t</ContactPreviewRow>\n\n\t\t\t\t\t\t<ContactPreviewRow>\n\t\t\t\t\t\t\t<ContactMultiValueField\n\t\t\t\t\t\t\t\ttype=\"mail\"\n\t\t\t\t\t\t\t\tvalues={mailData}\n\t\t\t\t\t\t\t\tdefaultType=\"email\"\n\t\t\t\t\t\t\t\tshowIcon={false}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<ContactField field={contact.jobTitle} label={t('job.title', 'Job Role')} />\n\t\t\t\t\t\t</ContactPreviewRow>\n\n\t\t\t\t\t\t<ContactPreviewRow>\n\t\t\t\t\t\t\t<ContactField field={contact.company} label={t('job.company', 'Company')} />\n\t\t\t\t\t\t</ContactPreviewRow>\n\t\t\t\t\t</Container>\n\t\t\t\t</Collapse>\n\t\t\t</Responsive>\n\t\t</Row>\n\t);\n}\n\nexport default ContactPreviewContent;\n","/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport React from 'react';\n\nimport {\n\tContainer,\n\tDivider,\n\tIcon,\n\tIconButton,\n\tPadding,\n\tText,\n\tRow,\n\tDropdown,\n\tResponsive\n} from '@zextras/carbonio-design-system';\n\nconst ContactPreviewHeader = ({ displayName, onClose, onEdit, onDelete, onMove }) => (\n\t<Container height=\"3.0625rem\">\n\t\t<Responsive mode=\"desktop\" target={window.top}>\n\t\t\t<Container\n\t\t\t\tdata-testid=\"contact-preview-header-desktop\"\n\t\t\t\torientation=\"horizontal\"\n\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\theight=\"3rem\"\n\t\t\t\tpadding={{ left: 'large', right: 'large' }}\n\t\t\t>\n\t\t\t\t<Padding right=\"medium\">\n\t\t\t\t\t<Icon size=\"medium\" icon=\"PeopleOutline\" />\n\t\t\t\t</Padding>\n\n\t\t\t\t<Row takeAvailableSpace mainAlignment=\"flex-start\">\n\t\t\t\t\t<Text size=\"medium\">{displayName}</Text>\n\t\t\t\t</Row>\n\t\t\t\t<IconButton icon=\"Close\" size=\"small\" onClick={onClose} />\n\t\t\t</Container>\n\t\t</Responsive>\n\n\t\t<Responsive mode=\"mobile\" target={window.top}>\n\t\t\t<Container\n\t\t\t\torientation=\"horizontal\"\n\t\t\t\tdata-testid=\"contact-preview-header-mobile\"\n\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\theight=\"3rem\"\n\t\t\t\tpadding={{ left: 'large' }}\n\t\t\t>\n\t\t\t\t<Padding right=\"medium\">\n\t\t\t\t\t<Icon size=\"medium\" icon=\"ArrowBackOutline\" onClick={onClose} />\n\t\t\t\t</Padding>\n\n\t\t\t\t<Row takeAvailableSpace mainAlignment=\"flex-start\">\n\t\t\t\t\t<Text size=\"medium\">{displayName}</Text>\n\t\t\t\t</Row>\n\t\t\t\t<Dropdown\n\t\t\t\t\tdata-testid={`preview-header-dropdown-mobile`}\n\t\t\t\t\titems={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'edit',\n\t\t\t\t\t\t\ticon: 'EditOutline',\n\t\t\t\t\t\t\tlabel: 'Edit',\n\t\t\t\t\t\t\tonClick: onEdit\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'delete',\n\t\t\t\t\t\t\ticon: 'TrashOutline',\n\t\t\t\t\t\t\tlabel: 'Delete',\n\t\t\t\t\t\t\tonClick: onDelete\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'move',\n\t\t\t\t\t\t\ticon: 'MoveOutline',\n\t\t\t\t\t\t\tlabel: 'Move',\n\t\t\t\t\t\t\tonClick: onMove\n\t\t\t\t\t\t}\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<IconButton size=\"medium\" icon=\"MoreVertical\" />\n\t\t\t\t</Dropdown>\n\t\t\t</Container>\n\t\t</Responsive>\n\n\t\t<Divider />\n\t</Container>\n);\n\nexport default ContactPreviewHeader;\n","/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport React, { useCallback } from 'react';\n\nimport { Divider, useModal, useSnackbar } from '@zextras/carbonio-design-system';\nimport { FOLDERS, getAction, replaceHistory } from '@zextras/carbonio-shell-ui';\nimport { head, includes, split } from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from 'react-redux';\nimport { useHistory, useLocation, useParams } from 'react-router-dom';\n\nimport ContactPreviewContent from './contact-preview-content';\nimport ContactPreviewHeader from './contact-preview-header';\nimport { useActionMoveContacts } from '../../../actions/move-contacts';\nimport { isTrash } from '../../../carbonio-ui-commons/helpers/folders';\nimport { useAppSelector } from '../../hooks/redux';\nimport { useDisplayName } from '../../hooks/use-display-name';\nimport { contactAction } from '../../store/actions/contact-action';\nimport { selectContact } from '../../store/selectors/contacts';\n\nexport default function ContactPreviewPanel() {\n\tconst [t] = useTranslation();\n\tconst urlLocation = useLocation();\n\tconst history = useHistory();\n\tconst { pathname } = useLocation();\n\tconst dispatch = useDispatch();\n\tconst { folderId, contactId } = useParams();\n\tconst contactInternalId = contactId;\n\tconst contact = useAppSelector((state) => selectContact(state, folderId, contactInternalId));\n\tconst createSnackbar = useSnackbar();\n\tconst createModal = useModal();\n\tconst contactsMoveAction = useActionMoveContacts();\n\n\tconst onEdit = useCallback(\n\t\t() => replaceHistory(`/folder/${folderId}/edit/${contactInternalId}`),\n\t\t[contactInternalId, folderId]\n\t);\n\n\tconst onClose = useCallback(() => {\n\t\tincludes(urlLocation?.pathname, 'search')\n\t\t\t? history.push(head(split(pathname, '/folder')))\n\t\t\t: replaceHistory(`/folder/${folderId}`);\n\t}, [folderId, history, pathname, urlLocation?.pathname]);\n\n\tconst onDelete = useCallback(() => {\n\t\tconst restoreContact = () => {\n\t\t\tdispatch(\n\t\t\t\tcontactAction({\n\t\t\t\t\tcontactsIDs: [contact.id],\n\t\t\t\t\toriginID: FOLDERS.TRASH,\n\t\t\t\t\tdestinationID: contact.parent,\n\t\t\t\t\top: 'move'\n\t\t\t\t})\n\t\t\t).then((res) => {\n\t\t\t\tif (res.type.includes('fulfilled')) {\n\t\t\t\t\treplaceHistory(`/folder/${folderId}/contacts/${contact.id}`);\n\t\t\t\t\tcreateSnackbar({\n\t\t\t\t\t\tkey: `trash`,\n\t\t\t\t\t\treplace: true,\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tlabel: t('messages.snackbar.contact_restored', 'Contact restored'),\n\t\t\t\t\t\tautoHideTimeout: 3000,\n\t\t\t\t\t\thideButton: true\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcreateSnackbar({\n\t\t\t\t\t\tkey: `edit`,\n\t\t\t\t\t\treplace: true,\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\tlabel: t('label.error_try_again', 'Something went wrong, please try again'),\n\t\t\t\t\t\tautoHideTimeout: 3000,\n\t\t\t\t\t\thideButton: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tdispatch(\n\t\t\tcontactAction({\n\t\t\t\tcontactsIDs: [contact.id],\n\t\t\t\toriginID: contact.parent,\n\t\t\t\tdestinationID: isTrash(contact.parent) ? undefined : FOLDERS.TRASH,\n\t\t\t\top: isTrash(contact.parent) ? 'delete' : 'move'\n\t\t\t})\n\t\t).then((res) => {\n\t\t\tif (res.type.includes('fulfilled')) {\n\t\t\t\tonClose();\n\t\t\t\tcreateSnackbar({\n\t\t\t\t\tkey: `trash`,\n\t\t\t\t\treplace: true,\n\t\t\t\t\ttype: 'info',\n\t\t\t\t\tlabel: isTrash(contact.parent)\n\t\t\t\t\t\t? t('messages.snackbar.contact_deleted_permanently', 'Contact permanently deleted')\n\t\t\t\t\t\t: t('messages.snackbar.contact_moved_to_trash', 'Contact moved to trash'),\n\t\t\t\t\tautoHideTimeout: isTrash(contact.parent) ? 3000 : 5000,\n\t\t\t\t\thideButton: isTrash(contact.parent),\n\t\t\t\t\tactionLabel: 'Undo',\n\t\t\t\t\tonActionClick: () => restoreContact()\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcreateSnackbar({\n\t\t\t\t\tkey: `edit`,\n\t\t\t\t\treplace: true,\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\tlabel: t('label.error_try_again', 'Something went wrong, please try again'),\n\t\t\t\t\tautoHideTimeout: 3000,\n\t\t\t\t\thideButton: true\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}, [contact, dispatch, t, createSnackbar, folderId, onClose]);\n\n\tconst onPrint = useCallback(() => null, []);\n\tconst onArchieve = useCallback(() => null, []);\n\tconst onMail = useCallback(() => {\n\t\tconst [mailTo, available] = getAction('contact-list', 'mail-to', [contact]);\n\t\tif (available) {\n\t\t\tmailTo.onClick(contact);\n\t\t}\n\t}, [contact]);\n\n\tconst onMove = useCallback(() => {\n\t\tcontactsMoveAction.execute({ contacts: [contact] });\n\t}, [contact, contactsMoveAction]);\n\n\tconst displayName = useDisplayName(contact);\n\n\tif (contact && displayName) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ContactPreviewHeader\n\t\t\t\t\tdisplayName={displayName}\n\t\t\t\t\tonClose={onClose}\n\t\t\t\t\tonEdit={onEdit}\n\t\t\t\t\tonDelete={onDelete}\n\t\t\t\t\tonMove={onMove}\n\t\t\t\t/>\n\t\t\t\t<ContactPreviewContent\n\t\t\t\t\tcontact={contact}\n\t\t\t\t\tonEdit={onEdit}\n\t\t\t\t\tonDelete={onDelete}\n\t\t\t\t\tonPrint={onPrint}\n\t\t\t\t\tonArchieve={onArchieve}\n\t\t\t\t\tonMail={onMail}\n\t\t\t\t\tonMove={onMove}\n\t\t\t\t/>\n\n\t\t\t\t<Divider />\n\t\t\t</>\n\t\t);\n\t}\n\treturn null;\n}\n"],"names":["ContactEditHeader","editPanelId","folderId","t","useTranslation","onClose","useCallback","replaceHistory","React","Container","height","orientation","mainAlignment","padding","left","right","Padding","Icon","size","icon","Row","takeAvailableSpace","Text","IconButton","onClick","Divider","ContactEditPanel","editId","useParams","style","maxHeight","overflowY","EditView","panel","typeToIcon","type","ContactPreviewRow","children","width","wrap","crossAlignment","horizontal","vertical","ContactField","field","label","limit","items","Dropdown","maxWidth","placement","display","all","color","top","overflow","minHeight","ContactMultiValueField","values","defaultType","showIcon","selected","setSelected","useState","internalType","useMemo","count","length","defaultValue_one","defaultValue_other","reduce","acc","item","id","itemLabel","mail","number","url","address","push","toString","contact","onEdit","onDelete","onMail","onMove","open","setOpen","toggleOpen","mailData","Object","email","urlData","URL","phoneData","phone","addressData","tagsFromStore","useTags","triggerSearch","tagToSearch","runSearch","avatarBackground","ZIMBRA_STANDARD_COLORS","hex","avatarIcon","background","hasAvatar","isGeneric","isQueryFilter","name","value","tags","v","includes","customComponent","tagIcon","tagIconColor","undefined","isTagInStore","useTagExist","onTagClick","showMultiTagIcon","showTagIcon","every","tn","showDropdown","setShowDropdown","onIconClick","ev","stopPropagation","o","onDropdownClose","singleTagLabel","Responsive","mode","target","window","isTrash","parent","disabled","isEmpty","Tooltip","forceOpen","Button","CompactView","Collapse","crossSize","disableTransition","namePrefix","firstName","middleName","lastName","nameSuffix","jobTitle","department","company","notes","paddingLeft","map","index","key","street","city","postalCode","country","state","finalUrl","match","Link","underlined","href","ContactPreviewHeader","displayName","ContactPreviewPanel","urlLocation","useLocation","history","useHistory","pathname","dispatch","useDispatch","contactId","contactInternalId","useAppSelector","selectContact","createSnackbar","useSnackbar","contactsMoveAction","useModal","useActionMoveContacts","head","split","contactAction","contactsIDs","originID","destinationID","FOLDERS","TRASH","op","then","res","replace","autoHideTimeout","hideButton","actionLabel","onActionClick","onPrint","onArchieve","mailTo","available","getAction","execute","contacts","useDisplayName","ContactPreviewContent"],"sourceRoot":""}