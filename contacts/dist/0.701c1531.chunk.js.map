{"version":3,"file":"0.701c1531.chunk.js","mappings":"kNAqBA,MAAMA,EAAeC,IAAOC,EAAAA,QAAOC,WAAA,CAAAC,YAAA,qCAAAC,YAAA,gBAAdJ,CAAc,sCAK7BK,EAAeL,IAAOM,EAAAA,KAAIJ,WAAA,CAAAC,YAAA,qCAAAC,YAAA,gBAAXJ,CAAW,qDAG5B,EAAGO,QAAOC,QAASD,EAAME,aAAaD,KACtC,EAAGD,QAAOG,SAAUH,EAAME,aAAaC,KAG3C,SAASC,EAAUC,GAClB,IAAIC,EAAM,EAEV,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAMG,OAAQD,IACjCD,GAAOD,EAAMI,WAAWF,GAEzB,MAAQ,WAAUD,EAAM,GAAM,EAC/B,CACO,MAAMI,EAAcA,EAAGC,UAASC,aAAYC,WAClD,MAAMjB,GAAckB,EAAAA,EAAAA,GAAeH,GAC7BI,GAAsBC,EAAAA,EAAAA,UAC3B,KACCC,EAAAA,EAAAA,MACE,GAAEC,OAAOC,OAAOR,EAAQS,OAAOZ,OAAS,EAAIU,OAAOC,OAAOR,EAAQS,OAAO,GAAGC,KAAO,OACnFH,OAAOC,OAAOR,EAAQW,OAAOd,OAAS,EAAIU,OAAOC,OAAOR,EAAQW,OAAO,GAAGC,OAAS,KAEpF,OAEF,CAACZ,EAAQS,MAAOT,EAAQW,QAEzB,OACCE,IAAAA,cAAAA,IAAAA,SAAA,KACCA,IAAAA,cAACC,EAAAA,WAAU,CAACC,KAAK,UAAUC,OAAQC,OAAOC,KACzCL,IAAAA,cAACM,EAAAA,KAAI,CAACC,MAAO,CAAEC,MAAO,SACrBR,IAAAA,cAACzB,EAAAA,IAAG,CAACiC,MAAM,OAAOC,OAAO,MAAMC,cAAc,cAC5CV,IAAAA,cAAC9B,EAAAA,OAAM,CACNW,MAAQ,GAAEM,EAAQwB,aAAaxB,EAAQyB,WACvCC,QAAS1B,EAAQ2B,MACjBC,KAAK,QACLC,aAAa,kBAEdhB,IAAAA,cAACzB,EAAAA,IAAG,CACH0C,YAAY,WACZC,oBAAkB,EAClBR,cAAc,SACdS,eAAe,aACfC,QAAS,CAAEC,WAAY,QAASC,SAAU,SAC1Cb,OAAO,QAEPT,IAAAA,cAACuB,EAAAA,KAAI,CAACR,KAAK,SAASS,OAAO,QACzBpD,GAEF4B,IAAAA,cAACuB,EAAAA,KAAI,CAACR,KAAK,QAAQS,OAAO,OAAOC,MAAM,cACrChC,EAAAA,EAAAA,MACC,GAAEN,GAASuC,UAAa,GAAEvC,EAAQuC,iBACjCvC,GAASwC,YAAc,KAAQ,GAAExC,EAAQwC,mBACtCxC,GAASyC,SAAW,KAAQ,GAAEzC,EAAQyC,cAC3C,OAGF5B,IAAAA,cAACuB,EAAAA,KAAI,CAACR,KAAK,QAAQU,MAAM,aACvBlC,IAIFH,GACAY,IAAAA,cAAC6B,EAAAA,WAAU,CACVd,KAAK,SACLe,QAAS1C,EACT2C,KAAM1C,EAAO,iBAAmB,wBAMrCW,IAAAA,cAACC,EAAAA,WAAU,CAACC,KAAK,SAASC,OAAQC,OAAOC,KACxCL,IAAAA,cAACzB,EAAAA,IAAG,CAAC6C,QAAS,CAAEE,SAAU,SAAWd,MAAM,OAAOC,OAAO,MAAMC,cAAc,cAC5EV,IAAAA,cAAC1B,EAAY,CACZ4C,oBAAkB,EAClBT,OAAO,MACPhC,GAAIG,EAAW,GAAEO,EAAQwB,aAAaxB,EAAQyB,YAC9CjC,IAAKC,EAAW,GAAEO,EAAQwB,YAAYxB,EAAQyB,aAG9CZ,IAAAA,cAAChC,EAAY,CACZa,MAAQ,GAAEM,EAAQwB,aAAaxB,EAAQyB,WACvCC,QAAS1B,EAAQ2B,MACjBC,KAAK,QACLC,aAAa,mBAIhBhB,IAAAA,cAACzB,EAAAA,IAAG,CACH6C,QAAS,CAAEE,SAAU,cACrBd,MAAM,OACNC,OAAO,MACPC,cAAc,cAEdV,IAAAA,cAACzB,EAAAA,IAAG,CACH0C,YAAY,WACZC,oBAAkB,EAClBR,cAAc,SACdS,eAAe,aACfC,QAAS,CAAEC,WAAY,QAASC,SAAU,SAC1Cb,OAAO,QAEPT,IAAAA,cAACuB,EAAAA,KAAI,CAACR,KAAK,QAAQS,OAAO,QACxBpD,GAEF4B,IAAAA,cAACuB,EAAAA,KAAI,CAACC,OAAO,OAAOC,MAAM,cACxBhC,EAAAA,EAAAA,MACC,GAAEN,EAAQuC,UAAa,GAAEvC,EAAQuC,gBACjCvC,EAAQwC,YAAe,GAAExC,EAAQwC,kBAC9BxC,EAAQyC,SAAY,GAAEzC,EAAQyC,cAClC,OAGF5B,IAAAA,cAACuB,EAAAA,KAAI,CAACE,MAAM,aAAalC,KAI1BH,GACAY,IAAAA,cAACgC,EAAAA,OAAM,CACNnD,MAAOQ,EAAO,wBAA0B,wBACxC4C,gBAAiB5C,EAAO,YAAc,UACtCyC,QAAS1C,EACToB,MAAM,UAIP,C,sFCvIE,MAAM0B,EAAkB/C,IAC9B,IAAKA,EAAQwB,WAAaxB,EAAQgD,YAAchD,EAAQyB,YAAczB,EAAQf,YAC7E,OAAOqB,EAAAA,EAAAA,MACL,GAAEN,EAAQwB,WAAa,MAAMxB,EAAQgD,YAAc,MAAMhD,EAAQyB,UAAY,MAC7EzB,EAAQiD,YAAc,MAIzB,GAAIjD,EAAQf,YACX,OAAOe,EAAQf,YAEhB,MAAMiE,EAAc3C,OAAO4C,KAAKnD,EAAQS,OACxC,OAAIT,EAAQS,OAASyC,EAAYrD,OAAS,EACjC,KAAGuD,EAAAA,EAAAA,GAAE,gBAAiB,eAAepD,EAAQS,MAAMyC,EAAY,IAAIxC,YAD5E,CAIgB,EAQJP,EAAkBH,IAC9B,MAAOoD,IAAKC,EAAAA,EAAAA,kBACZ,OAAOhD,EAAAA,EAAAA,UAAQ,KACd,GAAIL,EAAS,CACZ,MAAMf,EAAc8D,EAAe/C,GACnC,GAAIf,EACH,OAAOA,EAER,GAAIe,EAAQS,OAASF,OAAO4C,KAAKnD,EAAQS,OAAOZ,OAAS,EACxD,MAAQ,IAAGuD,EAAE,gBAAiB,eAAepD,EAAQS,MAAM,GAAGC,MAEhE,CACA,MAAQ,IAAG0C,EAAE,gBAAiB,aAAa,GACzC,CAACpD,EAASoD,GAAG,C,mECvCV,SAASE,GAA0B,SAAEC,GAAmBC,GAC9D,OAAOD,GAAUA,WAAWC,EAC7B,CAEO,SAASC,GACf,SAAEF,GACFG,EACAF,GAEA,OAAOG,EAAAA,EAAAA,MAAKJ,GAAUA,WAAWG,GAAW,CAAC,KAAMF,GACpD,CAMO,SAASI,GAAmB,SAAEL,GAAmBC,GACvD,OAAOD,GAAUM,SAASL,EAC3B,C,uIC7BO,MAAMM,EAAK,CACjBC,gBAAiB,aACjBC,mBAAoB,kBACpBC,SAAU,WACVC,YAAa,WACbC,UAAW,aAGG,SAASC,EAAQC,EAAOC,GACtC,OAAQA,EAAOC,MACd,KAAKT,EAAGC,gBACP,MAAO,CACNS,OAAQ,IACRC,QAAS,CAAC,EACVhE,MAAO,CAAC,EACRE,MAAO,CAAC,EACR+D,IAAK,CAAC,EACNnC,SAAU,GACVC,WAAY,GACZmC,WAAY,GACZlC,QAAS,GACTjB,UAAW,GACXwB,WAAY,GACZ4B,SAAU,GACVnD,SAAU,GACVwB,WAAY,GACZtB,MAAO,GACPkD,MAAO,IAET,KAAKf,EAAGE,mBACP,MAAO,IACHK,KACAC,EAAOQ,QAAQC,iBAEpB,KAAKjB,EAAGK,UACP,MAA+B,YAA3BG,EAAOQ,QAAQE,GAAGC,KACd,IACHZ,EACH,CAACC,EAAOQ,QAAQE,GAAGC,MAAO,IACtBZ,EAAMC,EAAOQ,QAAQE,GAAGC,MAC3B,CAACX,EAAOQ,QAAQtB,IAAK,IACjBa,EAAMC,EAAOQ,QAAQE,GAAGC,MAAMX,EAAOQ,QAAQtB,IAChD,CAACc,EAAOQ,QAAQI,UAAWZ,EAAOQ,QAAQE,GAAGG,SAK1C,IACHd,EACH,CAACC,EAAOQ,QAAQE,GAAGC,MAAO,IACtBZ,EAAMC,EAAOQ,QAAQE,GAAGC,MAC3B,CAACX,EAAOQ,QAAQtB,IAAK,CACpB,CAACc,EAAOQ,QAAQI,UAAWZ,EAAOQ,QAAQE,GAAGG,SAIjD,KAAKrB,EAAGI,YACP,MAAO,IACHG,EACH,CAACC,EAAOW,MAAOX,EAAOQ,SAExB,KAAKhB,EAAGG,SACP,MAAO,IACHI,EACH,CAACC,EAAOQ,QAAQG,MAAOX,EAAOQ,QAAQK,OAExC,QACC,OAAOd,EAEV,CCjEA,MAAMe,GAAeC,EAAAA,EAAAA,eAAc,GAyBnC,EAvBoBxE,IAAAA,YAAiB,UAAuB,WAAEyE,EAAU,MAAE5F,EAAK,SAAE6F,GAAYC,GAC5F,MAAMC,GAAQC,EAAAA,EAAAA,YAAWN,GACzB,OACCvE,IAAAA,cAAC8E,EAAAA,UAAS,CACTH,IAAKA,EACLF,WAAYA,EACZxD,YAAY,WACZT,MAAM,OACNC,OAAO,MACPU,eAAe,aACfC,QAAS,CACRE,SAAU,QACVD,WAAY,UAGbrB,IAAAA,cAACuB,EAAAA,KAAI,CAACR,KAAK,QAAQS,OAAQoD,EAAQ,EAAI,UAAY,SAAUG,SAAS,cACpElG,GAEFmB,IAAAA,cAACuE,EAAaS,SAAQ,CAACV,MAAOM,EAAQ,GAAIF,GAG7C,ICZaO,EAAmBA,EAAGP,WAAUQ,UAC5ClF,IAAAA,cAACzB,EAAAA,IAAG,CACH0C,YAAY,aACZP,cAAc,gBACdS,eAAe,aACfX,MAAM,OACN0E,KAAMA,GAAQ,UAEbR,GAMUS,EAAwBA,EACpCf,OACAvF,QACAuG,QACAC,YACAC,YACAC,YACAC,cACAN,OACAZ,QACAmB,eAEA,MAAMC,GAAalG,EAAAA,EAAAA,UAClB,KACCmG,EAAAA,EAAAA,QACCP,GACA,CAACQ,EAAKlC,KAAS,IACXkC,EACH,CAAClC,EAAKY,QAAQuB,EAAAA,EAAAA,QAAOvB,GAAQwB,GAAMA,EAAER,KAAe5B,EAAKY,QAAOtF,UAEjE,CAAC,IAEH,CAACsF,EAAOgB,EAAWF,IAGdW,GAAavG,EAAAA,EAAAA,UAClB,KACCmG,EAAAA,EAAAA,QACCJ,GACA,CAACK,EAAKI,KAAQC,EAAAA,EAAAA,KAAIL,EAAKI,EAAK,KAC5BX,EAAY,CAAE,CAACA,GAAYD,EAAM,GAAGd,OAAU,CAAC,IAEjD,CAACiB,EAAWF,EAAWD,IAGlBc,GAAqBC,EAAAA,EAAAA,cACzBzC,IACA,MAAM0C,EAAa,GAAE1C,IAvCJ2C,EAuCsBjC,EAvCZiC,EAAMC,QAAQ,OAAQC,GAAMA,EAAEC,kBAAxCH,MAwCjB,MAAMI,EAAuBA,CAACC,EAAaC,IACtCrC,EAAMoC,GACFD,EAAsB,GAAEL,IAAYO,IAAaA,EAAY,GAE9DD,EAER,OAAOD,EACL,GAAEL,IAAYV,EAAWhC,GAAQ,EAAIgC,EAAWhC,GAAQ,EAAI,KAC7D,EACA,GAEF,CAACY,EAAOF,EAAMsB,IAGTkB,GAAuBT,EAAAA,EAAAA,cAAY,KACxC,MAAMM,EAAuBA,CAACC,EAAaC,IACtCrC,EAAMoC,IAAgC,WAAhBA,EAClBD,EAAsB,GAAErC,IAAOuC,IAAaA,EAAY,GAEzDD,EAER,OAAOD,EAAsBnC,EAAMF,GAAeA,EAAO,EAAdA,EAAiB,EAAE,GAC5D,CAACE,EAAOF,IAELyC,GAAWV,EAAAA,EAAAA,cAAY,KAC5BV,EAAS,CACR/B,KAAMT,EAAGI,YACTY,QAAS,IACLK,EACH,CAACc,GAASA,EAAM,GAAGd,MAAQ4B,EAAmBd,EAAM,GAAGd,OAASsC,KAC/Db,GAEF3B,QACC,GACA,CAACqB,EAAUM,EAAYG,EAAoBU,EAAsBxC,EAAMgB,EAAOd,IAW3EwC,GAAcX,EAAAA,EAAAA,cAClBY,IACA,MAAMC,EAAW,IAAK1C,GAChB2C,EAAMD,EAASD,GACfG,EAAa,CAAEC,SAAU,QAC/BzH,OAAO4C,KAAK2E,GAAKG,SAASC,IAChB,SAATA,EAAmBH,EAAWxD,KAAOuD,EAAIvD,KAASwD,EAAWG,GAAQ,EAAG,IAEzEL,EAASD,GAASG,EAClBzB,EAAS,CACR/B,KAAMT,EAAGI,YACTY,QAAS+C,EACT5C,QACC,GAEH,CAACqB,EAAUrB,EAAME,IAGZgD,GAAcnB,EAAAA,EAAAA,cACnB,CAACoB,EAAWlD,EAAU1B,KACjB4E,IAAcjD,EAAM3B,GAAI0B,IAE3BoB,EADGpB,IAAagB,EACP,CACR3B,KAAMT,EAAGI,YACTY,QAAS,KACLuD,EAAAA,EAAAA,MAAKlD,EAAO,CAAC3B,IAChB,CAACuD,EAAmBqB,IAAa,IAC7BjD,EAAM3B,GACTe,KAAM6D,IAGRnD,QAGQ,CACRV,KAAMT,EAAGI,YACTY,QAAS,IACLK,EACH,CAAC3B,GAAK,IAAK2B,EAAM3B,GAAK,CAAC0B,GAAWkD,IAEnCnD,QAEF,GAED,CAACE,EAAOF,EAAM8B,EAAoBT,EAAUJ,KAG7CoC,EAAAA,EAAAA,YAAU,MAC2B,IAAhC/H,OAAOC,OAAO2E,GAAOtF,QAzDH0I,KACtB,IAAIC,EAAQ,EAMZ,OALAjI,OAAO4C,KAAKoF,GAAQN,SAASC,IACvBK,EAAOL,GAAMF,WACjBQ,GAAS,EACV,IAEgB,IAAVA,CAAW,EAkDuBC,CAActD,KACtDuC,GACD,GACE,CAACA,EAAUvC,IACd,MAAMuD,GAAgBC,EAAAA,EAAAA,QAAOxD,GAAQyD,GAAQA,EAAIZ,WAEjD,OACCnH,IAAAA,cAACgI,EAAW,CAACnJ,MAAOA,IAClBoJ,EAAAA,EAAAA,KAAIvI,OAAOwI,QAAQL,IAAgB,EAAElF,EAAIwF,GAAOpB,IAChD/G,IAAAA,cAACiF,EAAgB,CAACC,KAAMA,EAAO,OAAS,SAAUkD,IAAM,GAAEvJ,IAAQ8D,MAChEsF,EAAAA,EAAAA,KAAI1C,GAAW,CAAClB,EAAUgE,IAC1BrI,IAAAA,cAACsI,EAAAA,QAAO,CACPC,MAAM,QACNlI,IAAI,QACJ+H,IAAM,GAAE5C,EAAY6C,KAAY1F,IAChCpC,MAAO,CAAEC,MAAO0E,EAAO,MAAQ,OAAQsD,SAAU,IAEjDxI,IAAAA,cAACyI,EAAAA,MAAK,CACLC,UAAWtE,EACXvF,MAAO2G,EAAY6C,GACnBM,aAAcR,EAAK9D,GACnBuE,SAAWzE,GACVsB,EAAS,CACR/B,KAAMT,EAAGK,UACTW,QAAS,CAAEE,GAAIA,EAAGhE,OAAQwC,KAAI0B,cAGhC9D,MAAO,CAAEsI,OAAQ,uBACjB5G,gBAAgB,aAInBjC,IAAAA,cAAC8E,EAAAA,UAAS,CACTvE,MAAO,CAAEiI,SAAU,EAAGM,SAAUzD,EAAY,UAAY,UACxD7E,MAAO6E,EAAY,qBAAuB,SAC1CpE,YAAY,aACZP,cAAc,gBACdS,eAAe,aACfC,QAAS,CAAEf,IAAK,QAASkI,MAAO,UAEhCvI,IAAAA,cAACsI,EAAAA,QAAO,CAACC,MAAM,QAAQhI,MAAO,CAAEC,MAAO,wBACrC6E,GAAaC,GAAaF,GAASA,EAAMpG,OAAS,GAClDgB,IAAAA,cAAC+I,EAAAA,OAAM,CACNxI,MAAO,CAAEsI,OAAQ,uBACjB5G,gBAAgB,QAChB+G,MAAO5D,EACPvG,MAAOyG,EACPsD,SAAW5C,GAAQsB,EAAYtB,EAAKX,EAAW1C,GAC/CsG,kBAAkBnG,EAAAA,EAAAA,MAAKsC,EAAO,CAAC,QAASd,EAAM3B,GAAI0C,QAIrDrF,IAAAA,cAAC8E,EAAAA,UAAS,CACT7D,YAAY,aACZP,cAAc,WACdD,OAAO,MACPD,MAAM,SACND,MAAO,CAAEuI,SAAU,WAElB/B,GAASrH,OAAOwI,QAAQL,GAAe7I,OAAS,EAChDgB,IAAAA,cAAAA,IAAAA,SAAA,KACCA,IAAAA,cAACsI,EAAAA,QAAO,CAACC,MAAM,SACdvI,IAAAA,cAAC6B,EAAAA,WAAU,CACVE,KAAK,OACLmH,WAAY,CACXC,SAAU,SACVC,YAAa,UAEdC,UAAU,QACVpH,gBAAgB,UAChBH,QAASA,IAAM+E,OAGjB7G,IAAAA,cAAC6B,EAAAA,WAAU,CACVE,KAAK,QACLsH,UAAU,QACVH,WAAY,CACXC,SAAU,SACVC,YAAa,UAEdnH,gBAAgB,YAChBH,QAASA,IAAMgF,EAAYnE,MAI7B3C,IAAAA,cAAC6B,EAAAA,WAAU,CACVE,KAAK,QACLsH,UAAU,QACVpH,gBAAgB,YAChBH,QAASA,IAAMgF,EAAYnE,UAOpB,E,cChPT,MAAM2G,EAASrL,IAAAA,IAAUE,WAAA,CAAAC,YAAA,+BAAAC,YAAA,gBAAVJ,CAAU,8EAGjB,EAAGwD,WAAgCA,IAEtC,EAAG8H,cAAgDA,EAAW,GAAM,IAGnEC,EAAiBvL,IAAO6G,EAAAA,WAAU3G,WAAA,CAAAC,YAAA,uCAAAC,YAAA,gBAAjBJ,CAAiB,oGACb,EAAGO,WAAoBA,EAAMiL,QAAQC,MAAMC,UAG7D,EAAGnL,QAAOiG,iBAAyBmF,EAAAA,EAAAA,UAAU,GAAEnF,UAAoBjG,KAItEqL,EAAgB5L,IAAOsD,EAAAA,MAAKpD,WAAA,CAAAC,YAAA,sCAAAC,YAAA,gBAAZJ,CAAY,0CAE/B,EAAGO,QAAO+K,cAClBA,EAAW/K,EAAMiL,QAAQK,KAAKP,SAAW/K,EAAMiL,QAAQK,KAAKH,UAEjDI,EAAY9L,IAAOsD,EAAAA,MAAKpD,WAAA,CAAAC,YAAA,kCAAAC,YAAA,gBAAZJ,CAAY,iBAC5B,EAAGO,QAAO+K,WAAUS,kBAE5BT,EACG/K,EAAMiL,QAAQK,KAAKP,SACnBS,EACCxL,EAAMiL,QAAQQ,QAAQN,QACtBnL,EAAMiL,QAAQS,UAAUP,UAEhBQ,EAAalM,IAAOmM,EAAAA,MAAKjM,WAAA,CAAAC,YAAA,mCAAAC,YAAA,gBAAZJ,CAAY,iBAC7B,EAAGO,QAAO+K,WAAUS,kBAE5BT,EACG/K,EAAMiL,QAAQK,KAAKP,SACnBS,EACCxL,EAAMiL,QAAQQ,QAAQN,QACtBnL,EAAMiL,QAAQS,UAAUP,UAEhBU,EAA6BA,EACzCC,WACAzL,QACAQ,OACAkL,QACAhB,cAEAvJ,IAAAA,cAACwJ,EAAc,CACdvI,YAAY,aACZT,MAAM,OACNW,eAAe,SACfT,cAAc,gBACd8J,aAAa,OACbpJ,QAAS,CACRqJ,IAAK,SAENhG,WAAW,QACXlE,MAAO,CAAEmK,OAAQnB,EAAW,UAAY,YAExCvJ,IAAAA,cAACzB,EAAAA,IAAG,CAACiC,MAAM,OAAOU,oBAAkB,EAACR,cAAc,iBAClDV,IAAAA,cAACzB,EAAAA,IAAG,CACH0C,YAAY,WACZE,eAAe,aACfT,cAAc,aACdU,QAAS,CAAEuJ,KAAM,UAEjB3K,IAAAA,cAAC+J,EAAS,CAAChJ,KAAK,QAAQwI,SAAUA,EAAUS,aAAc3K,GAAQkL,GAChE1L,GAEFmB,IAAAA,cAACzB,EAAAA,IAAG,KACHyB,IAAAA,cAACsI,EAAAA,QAAO,CAACC,MAAM,SACdvI,IAAAA,cAACsJ,EAAM,CAAC7H,MAAO6I,EAAS,GAAG7I,MAAO8H,SAAUA,KAE7CvJ,IAAAA,cAAC6J,EAAa,CAACN,SAAUA,GAAWe,EAAS,GAAGzL,UAInDmB,IAAAA,cAACmK,EAAU,CACVpJ,KAAK,QACLgB,KAAM1C,EAAO,mBAAqB,qBAClCkK,SAAUA,EACVS,aAAc3K,GAAQkL,EACtBhK,MAAO,CAAEqK,UAAW,a,cC9EvB,MAAMC,EAAuDA,EAAGC,aAC/D,MAAMC,GAAOC,EAAAA,EAAAA,IAAQF,EAAOxG,OAAS,IACrC,OACCtE,IAAAA,cAAAA,IAAAA,SAAA,KACCA,IAAAA,cAACzB,EAAAA,IAAG,CAAC2G,KAAM,UACVlF,IAAAA,cAACsI,EAAAA,QAAO,CAACC,MAAM,SACdvI,IAAAA,cAACsJ,EAAM,CAAC7H,MAAOqJ,EAAOrJ,SAEvBzB,IAAAA,cAAC6J,EAAAA,GAAa,KAAEiB,EAAOjM,OACvBmB,IAAAA,cAACzB,EAAAA,IAAG,CAAC2C,oBAAkB,GACrB6J,GAAQA,EAAKpI,KAAOsI,EAAAA,QAAQC,WAC5BlL,IAAAA,cAACsI,EAAAA,QAAO,CAACqC,KAAK,QAAQpK,MAAO,CAAEwE,SAAU,WACxC/E,IAAAA,cAAC6J,EAAAA,GAAa,CAACpI,MAAO,SAAW,IAAGsJ,EAAK3G,YAK3C,EAIQ+G,EAAkBA,EAC9BC,kBACAxC,WACA/J,QACAwM,cACA9B,eAEA,MAAMP,GAAQxJ,EAAAA,EAAAA,UACb,KACCyI,EAAAA,EAAAA,KAAIoD,GAAclD,IAAI,CACrBtJ,MAAOsJ,EAAKtJ,MACZyF,MAAO6D,EAAK7D,MACZ7C,MAAO0G,EAAK1G,MACZ6J,gBAAiBtL,IAAAA,cAAC6K,EAAgB,CAACC,OAAQ3C,SAE7C,CAACkD,IAGIE,GAAyB/L,EAAAA,EAAAA,UAAQ,KACtC,MAAMgM,GAAc1I,EAAAA,EAAAA,MAAKkG,EAAO,CAAC,QAASoC,IACpCK,EAAgB,CACrBnH,MAAOkH,GAAalH,OAAS0E,IAAQ,IAAI1E,MACzCzF,MAAO2M,GAAa3M,OAASmK,IAAQ,IAAInK,MACzC4C,MAAO+J,GAAa/J,OAASuH,IAAQ,IAAIvH,OAE1C,OAAOqB,EAAAA,EAAAA,MAAKkG,EAAO,CAAC,QAASoC,KAAqBK,CAAa,GAC7D,CAACzC,EAAOoC,IAELM,GAAyBvF,EAAAA,EAAAA,cAAaxD,GAAOiG,EAASjG,IAAK,CAACiG,IAElE,OAAOI,GAASuC,EACfvL,IAAAA,cAAC+I,EAAAA,OAAM,CACNlK,MAAOA,EACP+J,SAAU8C,EACV1C,MAAOA,EACPC,iBAAkBsC,EAClBI,eAAa,EACbpC,SAAUA,EACVqC,aAAcvB,IAEZ,IAAI,E,mFCtCT,MAAMwB,EAAa5N,IAAOsD,EAAAA,MAAKpD,WAAA,CAAAC,YAAA,wBAAAC,YAAA,eAAZJ,CAAY,uDAErB,EAAGO,WAAYA,EAAMiL,QAAQqC,MAAMnC,UAIvCoC,EAAqBpM,IAC1BgG,EAAAA,EAAAA,QACChG,GACA,CAACiG,EAAKE,EAAGkG,KACRnG,EAAAA,EAAAA,QAAOC,GAAG,CAACmG,EAAO7D,IAAgB,SAARA,GAA0B,SAARA,GAA4B,KAAV6D,IAAcjN,OAAS,EAClF,IAAK4G,EAAK,CAACoG,GAAIlG,GACfF,GACJ,CAAC,GAGGsG,EAAyB/M,IAAO,IAClCA,EACHyE,QAASmI,EAAkB5M,EAAQyE,SACnChE,MAAOmM,EAAkB5M,EAAQS,OACjCE,MAAOiM,EAAkB5M,EAAQW,OACjC+D,IAAKkI,EAAkB5M,EAAQ0E,OAG1BsI,EAAoBA,EAAG/H,OAAMvF,QAAOyF,QAAOmB,WAAU2G,aAAY,KACtEpM,IAAAA,cAAC8E,EAAAA,UAAS,CAAC1D,QAAS,CAAEqJ,IAAK,UAC1BzK,IAAAA,cAACyI,EAAAA,MAAK,CACLxG,gBAAgB,QAChByG,UAAWtE,EACXvF,MAAOA,EACP8J,aAAcrE,EACdsE,SAAWzE,GAAOsB,EAAS,CAAE/B,KAAMT,EAAGG,SAAUa,QAASE,EAAGhE,SAE5DiM,UAAWA,EACX7L,MAAO,CAAEsI,OAAQ,0BAKL,SAASwD,GAAS,MAAEC,EAAK,QAAEC,EAAO,eAAEC,IAClD,MAAM,SAAE3J,EAAQ,OAAE4J,IAAWC,EAAAA,EAAAA,aACvBC,GAAgBC,EAAAA,EAAAA,eAChB1I,GAAkB2I,EAAAA,EAAAA,IAAgBrJ,IAAUZ,EAAAA,EAAAA,IAAcY,EAAOX,EAAU4J,MAC1EtN,EAASsG,IAAYqH,EAAAA,EAAAA,YAAWvJ,IAChCwJ,EAAkBC,IAAuBC,EAAAA,EAAAA,UAAS/I,IAClDgJ,EAAgBC,IAAqBF,EAAAA,EAAAA,UAAShC,EAAAA,QAAQmC,UACvD9K,EAAO5C,OAAO4C,KAAK4B,GAAmB,CAAC,IACtC3B,IAAKC,EAAAA,EAAAA,kBACN6K,GAAiBC,EAAAA,EAAAA,gBAEvB7F,EAAAA,EAAAA,YAAU,MACJsF,GAAoBzK,GAAMtD,OAAS,GAAGgO,EAAoB9I,GAC/D,IAAIqJ,GAAS,EAUb,OATId,GAAqB,QAAXA,GAAoBvI,GACjCqJ,GAAU9H,EAAS,CAAE/B,KAAMT,EAAGE,mBAAoBc,QAAS,CAAEC,qBAE1DuI,GAAqB,QAAXA,GACbc,GAAU9H,EAAS,CAAE/B,KAAMT,EAAGC,gBAAiBe,QAAS,CAAC,IAErDqI,GACJiB,GAAU9H,EAAS,CAAE/B,KAAMT,EAAGC,gBAAiBe,QAAS,CAAC,IAEnD,KACNsJ,GAAS,CAAK,CACd,GACC,CAACR,EAAkBN,EAAQvI,EAAiB5B,GAAMtD,OAAQsN,IAE7D,MAAMkB,GAAiBhO,EAAAA,EAAAA,UAAQ,KAC9B,IAAKL,EACJ,MAAO,CAAC,EAET,MAAMsO,EAAiBvB,EAAsB/M,GAE7C,OAAOuO,EAAAA,EAAAA,GAAiBX,EAAkBU,EAAe,GACvD,CAACV,EAAkB5N,IAEhBwO,GAAUC,EAAAA,EAAAA,MAEVC,GAAqBrO,EAAAA,EAAAA,UAAQ,KAClC,MAAMsO,GAAiBhL,EAAAA,EAAAA,MAAK6K,EAAS,CAAC,KAAMT,IAC5C,OAAOa,EAAAA,EAAAA,IAAwBxL,EAAG2K,EAAgBY,EAAe1J,KAAK,GACpE,CAACuJ,EAAST,EAAgB3K,IACvByL,GAAsBxO,EAAAA,EAAAA,UAC3B,KACCqG,EAAAA,EAAAA,QACC8H,GACC7C,KACCmD,EAAAA,EAAAA,IAAQnD,EAAOnI,OACfuL,EAAAA,EAAAA,IAAOpD,EAAOnI,OACdwL,EAAAA,EAAAA,IAAsBrD,EAAOnI,OAC5BmI,EAAOsD,QAAWtD,EAAOuD,OAAsC,IAA9BvD,EAAOuD,KAAKC,QAAQ,SAE1D,CAACX,IAEIY,GAAa/O,EAAAA,EAAAA,UAClB,KACCyI,EAAAA,EAAAA,KAAI+F,GAAsB7F,IAAI,CAC7BtJ,OACC2P,EAAAA,EAAAA,IAAiBrG,EAAKxF,IAAIA,KAAOsI,EAAAA,QAAQmC,SACtC7K,EAAE,mBAAoB,YACtB4F,EAAK/D,KACTE,MAAO6D,EAAKxF,GACZlB,MAAOgN,EAAAA,uBAAuBtG,EAAK1G,OAAS,GAAGiN,SAEjD,CAACV,EAAqBzL,IAGjBoM,GAAanP,EAAAA,EAAAA,UAAQ,IACtBiN,GAAqB,QAAXA,GAAoBvI,GAC1BxE,OAAO4C,KAAKkL,GAAgBxO,OAAS,KAEpCG,GAASwB,WAAaxB,GAASyB,WACtC,CAACzB,GAASwB,UAAWxB,GAASyB,SAAU6L,EAAQvI,EAAiBsJ,IAC9DoB,GAAQpP,EAAAA,EAAAA,UACb,IACCL,GAAS2E,YACT3E,GAASwB,WACTxB,GAASgD,YACThD,GAAS4E,UACT5E,GAASyB,UACTzB,GAASiD,WACL,GAAEjD,GAAS2E,YAAc,MAAM3E,GAASwB,WAAa,MAAMxB,GAASgD,YAAc,MACnFhD,GAAS4E,UAAY,MAClB5E,GAASyB,UAAY,MAAMzB,GAASiD,YAAc,KACrDG,EAAE,oBAAqB,gBAC3B,CACCpD,GAASwB,UACTxB,GAASyB,SACTzB,GAASgD,WACThD,GAAS2E,WACT3E,GAASiD,WACTjD,GAAS4E,SACTxB,KAIFkF,EAAAA,EAAAA,YAAU,KACJ6E,GACJE,GAAkBA,EAAeoC,EAClC,GACE,CAACpC,EAAgBF,EAAOsC,IAE3B,MAAMC,GAAiBC,EAAAA,EAAAA,6BAEjBC,GAAW5I,EAAAA,EAAAA,cAAY,KAC5B,MAAMsH,EAAiBvB,EAAsB/M,GACxCsO,EAAe9K,GAmBnBgK,GACCqC,EAAAA,EAAAA,GAAc,CACbvB,iBACAvJ,qBAGA+K,MAAMC,IACF5C,GACHuC,EAAgB,WAAUhM,cAAqBqM,EAAIjL,QAAQ,GAAGtB,KAC/D,IAEAwM,MAAMC,EAAAA,QA7BRzC,GAAc0C,EAAAA,EAAAA,GAAc5B,IAC1BwB,MAAMC,IACF5C,IAAU4C,EAAII,MACjBT,EAAgB,WAAUhM,cAAqBqM,EAAIjL,QAAQ,GAAGtB,MACpDuM,EAAIxL,KAAK6L,SAAS,eAC5BhD,GAAWA,IACXc,EAAe,CACdjF,IAAM,OACN9B,SAAS,EACT5C,KAAM,UACN7E,MAAO0D,EAAE,4BAA6B,uBACtCiN,gBAAiB,IACjBC,YAAY,IAEd,IAEAN,MAAMC,EAAAA,OAcT,GACE,CACFjQ,EACAkO,EACAnJ,EACArB,EACA0J,EACAD,EACAuC,EACAlC,EACApK,IAGKmN,GAAelQ,EAAAA,EAAAA,UACpB,IAAM,CACL,CAAEX,MAAO0D,EAAE,aAAc,QAAS+B,MAAO,QACzC,CAAEzF,MAAO0D,EAAE,aAAc,QAAS+B,MAAO,QACzC,CAAEzF,MAAO0D,EAAE,cAAe,SAAU+B,MAAO,WAE5C,CAAC/B,IAGIoN,GAAcnQ,EAAAA,EAAAA,UACnB,IAAM,CACL,CAAEX,MAAO0D,EAAE,eAAgB,UAAW+B,MAAO,UAC7C,CAAEzF,MAAO0D,EAAE,aAAc,QAAS+B,MAAO,QACzC,CAAEzF,MAAO0D,EAAE,aAAc,QAAS+B,MAAO,QACzC,CAAEzF,MAAO0D,EAAE,cAAe,SAAU+B,MAAO,WAE5C,CAAC/B,IAGF,OAAOpD,EACNa,IAAAA,cAAC8E,EAAAA,UAAS,CACTpE,cAAc,aACdS,eAAe,aACfsD,WAAW,QACXhE,OAAO,QAEPT,IAAAA,cAAC8E,EAAAA,UAAS,CACT1D,QAAS,CAAEqJ,IAAK,UAChBhK,OAAO,MACPU,eAAe,aACfsD,WAAW,QACX,cAAY,eAEZzE,IAAAA,cAACzB,EAAAA,IAAG,CAAC0C,YAAY,aAAaP,cAAc,gBAAgBF,MAAM,QACjER,IAAAA,cAAC8E,EAAAA,UAAS,CAACrE,OAAO,MAAMD,MAAM,QAC3BiM,GACDzM,IAAAA,cAAC6L,EAAU,KACTtJ,EAAE,kCAAmC,CACrC6B,KAAMyJ,EACNlF,aAAc,4DAKlB3I,IAAAA,cAAC4P,EAAAA,QAAO,CACP/Q,MAAO0D,EAAE,wBAAyB,6BAClCsN,UAAU,MACVtG,UAAWoF,GAEX3O,IAAAA,cAACgC,EAAAA,OAAM,CAACnD,MAAO0D,EAAE,aAAc,QAAST,QAASiN,EAAUxF,SAAUoF,MAGvE3O,IAAAA,cAACsI,EAAAA,QAAO,CAAChE,MAAM,gBACdtE,IAAAA,cAACd,EAAAA,EAAW,CAACC,QAASA,KAEvBa,IAAAA,cAACiF,EAAgB,KAChBjF,IAAAA,cAACmM,EAAiB,CACjB/H,KAAK,aACLvF,MAAO0D,EAAE,cAAe,UACxB+B,MAAOnF,EAAQ2E,WACf2B,SAAUA,IAEXzF,IAAAA,cAACmM,EAAiB,CACjB/H,KAAK,YACLvF,MAAQ,GAAE0D,EAAE,kBAAmB,iBAC/B+B,MAAOnF,EAAQwB,UACf8E,SAAUA,EAEV2G,WAAS,IAEVpM,IAAAA,cAACmM,EAAiB,CACjB/H,KAAK,aACLvF,MAAO0D,EAAE,mBAAoB,eAC7B+B,MAAOnF,EAAQgD,WACfsD,SAAUA,KAGZzF,IAAAA,cAACiF,EAAgB,KAChBjF,IAAAA,cAACmM,EAAiB,CACjB/H,KAAK,WACLvF,MAAO0D,EAAE,gBAAiB,YAC1B+B,MAAOnF,EAAQ4E,SACf0B,SAAUA,IAEXzF,IAAAA,cAACmM,EAAiB,CACjB/H,KAAK,WACLvF,MAAQ,GAAE0D,EAAE,iBAAkB,gBAC9B+B,MAAOnF,EAAQyB,SACf6E,SAAUA,IAEXzF,IAAAA,cAACmM,EAAiB,CACjB/H,KAAK,aACLvF,MAAO0D,EAAE,cAAe,UACxB+B,MAAOnF,EAAQiD,WACfqD,SAAUA,KAGZzF,IAAAA,cAACiF,EAAgB,KAChBjF,IAAAA,cAACmM,EAAiB,CACjB/H,KAAK,WACLvF,MAAO0D,EAAE,YAAa,YACtB+B,MAAOnF,EAAQuC,SACf+D,SAAUA,IAEXzF,IAAAA,cAACmM,EAAiB,CACjB/H,KAAK,aACLvF,MAAO0D,EAAE,iBAAkB,cAC3B+B,MAAOnF,EAAQwC,WACf8D,SAAUA,IAEXzF,IAAAA,cAACmM,EAAiB,CACjB/H,KAAK,UACLvF,MAAO0D,EAAE,cAAe,WACxB+B,MAAOnF,EAAQyC,QACf6D,SAAUA,KAGZzF,IAAAA,cAACiF,EAAgB,KAChBjF,IAAAA,cAACmM,EAAiB,CACjB/H,KAAK,QACLvF,MAAO0D,EAAE,cAAe,SACxB+B,MAAOnF,EAAQ6E,MACfyB,SAAUA,MAGVgH,GACDzM,IAAAA,cAACiF,EAAgB,KAChBjF,IAAAA,cAACsI,EAAAA,QAAO,CAACjH,WAAW,QAAQhB,IAAI,QAAQE,MAAO,CAAEC,MAAO,SACvDR,IAAAA,cAACzB,EAAAA,IAAG,CAAC6C,QAAS,CAAE0O,OAAQ,SAAW3O,eAAe,aAAaF,YAAY,YAC1EjB,IAAAA,cAACuB,EAAAA,KAAI,CAACR,KAAK,QAAQS,OAAQ,SAAUuD,SAAS,cAC5CxC,EAAE,iCAAkC,8BAGvCvC,IAAAA,cAACmL,EAAe,CACfC,gBAAiB8B,EACjBtE,SAAWmH,IACVtK,EAAS,CACR/B,KAAMT,EAAGG,SACTa,QAAS,CAAEG,KAAM,SAAUE,MAAOyL,KAEnC5C,EAAkB4C,EAAa,EAEhClR,MAAO0D,EAAE,uBAAwB,gBACjC8I,YAAakD,EACbhF,UAAU,MAKdvJ,IAAAA,cAACmF,EAAqB,CACrBf,KAAK,QACLvF,MAAO0D,EAAE,qBAAsB,kBAC/BgD,UAAW,CAAC,QACZC,YAAa,CAACjD,EAAE,cAAe,WAC/B+B,MAAOnF,EAAQS,MACf6F,SAAUA,IAEXzF,IAAAA,cAACmF,EAAqB,CACrBf,KAAK,QACLvF,MAAO0D,EAAE,6BAA8B,iBACvC+C,UAAW/C,EAAE,iBAAkB,eAC/B8C,UAAU,OACVD,MAAOuK,EACPpK,UAAW,CAAC,UACZC,YAAa,CAACjD,EAAE,uBAAwB,WACxC+B,MAAOnF,EAAQW,MACf2F,SAAUA,IAEXzF,IAAAA,cAACmF,EAAqB,CACrBf,KAAK,MACLvF,MAAO0D,EAAE,gBAAiB,WAC1B+C,UAAW/C,EAAE,iBAAkB,eAC/B8C,UAAU,OACVD,MAAOsK,EACPnK,UAAW,CAAC,OACZC,YAAa,CAACjD,EAAE,wBAAyB,gBACzC+B,MAAOnF,EAAQ0E,IACf4B,SAAUA,IAEXzF,IAAAA,cAACmF,EAAqB,CACrBf,KAAK,UACLvF,MAAO0D,EAAE,wBAAyB,WAClC8C,UAAU,OACVC,UAAW/C,EAAE,iBAAkB,eAC/B6C,MAAOsK,EACPnK,UAAW,CAAC,SAAU,OAAQ,aAAc,UAAW,SACvDC,YAAa,CACZjD,EAAE,uBAAwB,UAC1BA,EAAE,qBAAsB,QACxBA,EAAE,2BAA4B,cAC9BA,EAAE,wBAAyB,WAC3BA,EAAE,sBAAuB,UAE1B2C,MAAI,EACJZ,MAAOnF,EAAQyE,QACf6B,SAAUA,MAIV,IACL,C,gDC9aO,MAAMiI,EAAmBA,CAACsC,EAAQC,IAExC,SAASC,EAAQF,EAAQC,GACxB,OAAOE,EAAAA,EAAAA,WAAUH,GAAQ,CAACI,EAAQ9L,EAAO8D,MACnCiI,EAAAA,EAAAA,SAAQ/L,EAAO2L,EAAK7H,MAExBgI,EAAOhI,IAAOkI,EAAAA,EAAAA,UAAShM,KAAUgM,EAAAA,EAAAA,UAASL,EAAK7H,IAAQ8H,EAAQ5L,EAAO2L,EAAK7H,IAAQ9D,EACpF,GAEF,CACO4L,CAAQF,EAAQC,E","sources":["webpack://carbonio-contacts-ui/./src/legacy/commons/contact-compact-view.jsx","webpack://carbonio-contacts-ui/./src/legacy/hooks/use-display-name.ts","webpack://carbonio-contacts-ui/./src/legacy/store/selectors/contacts.ts","webpack://carbonio-contacts-ui/./src/legacy/views/edit/form-reducer.js","webpack://carbonio-contacts-ui/./src/legacy/views/edit/form-section.jsx","webpack://carbonio-contacts-ui/./src/legacy/views/edit/CustomMultivalueField.jsx","webpack://carbonio-contacts-ui/./src/carbonio-ui-commons/components/select/select-label-factory.tsx","webpack://carbonio-contacts-ui/./src/carbonio-ui-commons/components/select/folders-selector.tsx","webpack://carbonio-contacts-ui/./src/legacy/views/edit/edit-view.jsx","webpack://carbonio-contacts-ui/./src/legacy/views/settings/components/utils.js"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport React, { useMemo } from 'react';\n\nimport {\n\tAvatar,\n\tButton,\n\tDrag,\n\tIconButton,\n\tResponsive,\n\tRow,\n\tText\n} from '@zextras/carbonio-design-system';\nimport { trim } from 'lodash';\nimport styled from 'styled-components';\n\nimport { useDisplayName } from '../hooks/use-display-name';\n\nconst AvatarMobile = styled(Avatar)`\n\tposition: relative;\n\ttop: 0.9375rem;\n`;\n\nconst AvatarHeader = styled(Row)`\n\tbackground: linear-gradient(\n\t\tto right,\n\t\t${({ theme, bg }) => theme.avatarColors[bg]},\n\t\t${({ theme, bg2 }) => theme.avatarColors[bg2]}\n\t);\n`;\nfunction calcColor(label) {\n\tlet sum = 0;\n\t// eslint-disable-next-line no-plusplus\n\tfor (let i = 0; i < label.length; i++) {\n\t\tsum += label.charCodeAt(i);\n\t}\n\treturn `avatar_${(sum % 50) + 1}`;\n}\nexport const CompactView = ({ contact, toggleOpen, open }) => {\n\tconst displayName = useDisplayName(contact);\n\tconst displayMailAndPhone = useMemo(\n\t\t() =>\n\t\t\ttrim(\n\t\t\t\t`${Object.values(contact.email).length > 0 ? Object.values(contact.email)[0].mail : ''}, ${\n\t\t\t\t\tObject.values(contact.phone).length > 0 ? Object.values(contact.phone)[0].number : ''\n\t\t\t\t}`,\n\t\t\t\t', '\n\t\t\t),\n\t\t[contact.email, contact.phone]\n\t);\n\treturn (\n\t\t<>\n\t\t\t<Responsive mode=\"desktop\" target={window.top}>\n\t\t\t\t<Drag style={{ width: '100%' }}>\n\t\t\t\t\t<Row width=\"fill\" height=\"fit\" mainAlignment=\"flex-start\">\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\tlabel={`${contact.firstName} ${contact.lastName}`}\n\t\t\t\t\t\t\tpicture={contact.image}\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tfallbackIcon=\"PeopleOutline\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Row\n\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\ttakeAvailableSpace\n\t\t\t\t\t\t\tmainAlignment=\"center\"\n\t\t\t\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\t\t\t\tpadding={{ horizontal: 'large', vertical: 'small' }}\n\t\t\t\t\t\t\theight=\"fill\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text size=\"medium\" weight=\"bold\">\n\t\t\t\t\t\t\t\t{displayName}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text size=\"small\" weight=\"bold\" color=\"secondary\">\n\t\t\t\t\t\t\t\t{trim(\n\t\t\t\t\t\t\t\t\t`${contact?.jobTitle && `${contact.jobTitle}, `} ${\n\t\t\t\t\t\t\t\t\t\t(contact?.department ?? '') && `${contact.department}, `\n\t\t\t\t\t\t\t\t\t} ${(contact?.company ?? '') && `${contact.company}, `}`,\n\t\t\t\t\t\t\t\t\t', '\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text size=\"small\" color=\"secondary\">\n\t\t\t\t\t\t\t\t{displayMailAndPhone}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Row>\n\n\t\t\t\t\t\t{toggleOpen && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\tonClick={toggleOpen}\n\t\t\t\t\t\t\t\ticon={open ? 'ArrowIosUpward' : 'ArrowIosDownward'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Row>\n\t\t\t\t</Drag>\n\t\t\t</Responsive>\n\t\t\t<Responsive mode=\"mobile\" target={window.top}>\n\t\t\t\t<Row padding={{ vertical: 'large' }} width=\"90vw\" height=\"fit\" mainAlignment=\"flex-start\">\n\t\t\t\t\t<AvatarHeader\n\t\t\t\t\t\ttakeAvailableSpace\n\t\t\t\t\t\theight=\"fit\"\n\t\t\t\t\t\tbg={calcColor(`${contact.firstName} ${contact.lastName}`)}\n\t\t\t\t\t\tbg2={calcColor(`${contact.firstName}${contact.lastName}`)}\n\t\t\t\t\t\t// mainAlignment='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<AvatarMobile\n\t\t\t\t\t\t\tlabel={`${contact.firstName} ${contact.lastName}`}\n\t\t\t\t\t\t\tpicture={contact.image}\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tfallbackIcon=\"EmailOutline\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</AvatarHeader>\n\t\t\t\t</Row>\n\t\t\t\t<Row\n\t\t\t\t\tpadding={{ vertical: 'extralarge' }}\n\t\t\t\t\twidth=\"fill\"\n\t\t\t\t\theight=\"fit\"\n\t\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\t>\n\t\t\t\t\t<Row\n\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\ttakeAvailableSpace\n\t\t\t\t\t\tmainAlignment=\"center\"\n\t\t\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\t\t\tpadding={{ horizontal: 'large', vertical: 'small' }}\n\t\t\t\t\t\theight=\"fill\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text size=\"large\" weight=\"bold\">\n\t\t\t\t\t\t\t{displayName}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text weight=\"bold\" color=\"secondary\">\n\t\t\t\t\t\t\t{trim(\n\t\t\t\t\t\t\t\t`${contact.jobTitle && `${contact.jobTitle}, `} ${\n\t\t\t\t\t\t\t\t\tcontact.department && `${contact.department}, `\n\t\t\t\t\t\t\t\t} ${contact.company && `${contact.company}, `}`,\n\t\t\t\t\t\t\t\t', '\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text color=\"secondary\">{displayMailAndPhone}</Text>\n\t\t\t\t\t</Row>\n\t\t\t\t</Row>\n\n\t\t\t\t{toggleOpen && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlabel={open ? 'Show Less Information' : 'Show More Information'}\n\t\t\t\t\t\tbackgroundColor={open ? 'secondary' : 'primary'}\n\t\t\t\t\t\tonClick={toggleOpen}\n\t\t\t\t\t\twidth=\"fill\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</Responsive>\n\t\t</>\n\t);\n};\n","/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport { useMemo } from 'react';\n\nimport { t } from '@zextras/carbonio-shell-ui';\nimport { trim } from 'lodash';\nimport { useTranslation } from 'react-i18next';\n\nimport { Contact } from '../types/contact';\n\n/*\n * Returns the Display name\n * It will check the firstName, middleName and lastName props in contact and will return in string which are available.\n * If firstName, middleName or lastName not available and email found in contact then will return <No name> with email.\n */\nexport const getDisplayName = (contact: Contact): string | undefined => {\n\tif ((contact.firstName || contact.middleName || contact.lastName) && !contact.displayName) {\n\t\treturn trim(\n\t\t\t`${contact.firstName || ''} ${contact.middleName || ''} ${contact.lastName || ''} ${\n\t\t\t\tcontact.nameSuffix || ''\n\t\t\t}`\n\t\t);\n\t}\n\tif (contact.displayName) {\n\t\treturn contact.displayName;\n\t}\n\tconst emailsTypes = Object.keys(contact.email);\n\tif (contact.email && emailsTypes.length > 0) {\n\t\treturn `<${t('label.no_name', 'No Name')}> ${contact.email[emailsTypes[0]].mail}`;\n\t}\n\n\treturn undefined;\n};\n\n/*\n * UseDisplayName hook is returning the Display name\n * It will check the firstName, middleName and lastName props in contact and will return in string which are available.\n * If firstName, middleName or lastName not available and email found in contact then will return <No name> with email.\n */\nexport const useDisplayName = (contact: Contact): string => {\n\tconst [t] = useTranslation();\n\treturn useMemo(() => {\n\t\tif (contact) {\n\t\t\tconst displayName = getDisplayName(contact);\n\t\t\tif (displayName) {\n\t\t\t\treturn displayName;\n\t\t\t}\n\t\t\tif (contact.email && Object.keys(contact.email).length > 0) {\n\t\t\t\treturn `<${t('label.no_name', 'No Name')}> ${contact.email[0].mail}`;\n\t\t\t}\n\t\t}\n\t\treturn `<${t('label.no_data', 'No Data')}>`;\n\t}, [contact, t]);\n};\n","/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport { find } from 'lodash';\n\nimport { Contact } from '../../types/contact';\nimport { State } from '../../types/store';\n\nexport function selectAllContacts({\n\tcontacts\n}: State): { [p: string]: Array<Contact> } | undefined {\n\treturn contacts?.contacts;\n}\n\nexport function selectAllContactsInFolder({ contacts }: State, id: string): Contact[] | undefined {\n\treturn contacts?.contacts?.[id];\n}\n\nexport function selectContact(\n\t{ contacts }: State,\n\tfolderId: string,\n\tid: string\n): Contact | undefined {\n\treturn find(contacts?.contacts?.[folderId], ['id', id]);\n}\n\nexport function selectContactsStatus({ contacts }: State, id: string): boolean | undefined {\n\treturn contacts?.status?.[id];\n}\n\nexport function selectFolderStatus({ contacts }: State, id: string): boolean | undefined {\n\treturn contacts?.status?.[id];\n}\n","/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nexport const op = {\n\tsetEmptyContact: 'newContact',\n\tsetExistingContact: 'existingContact',\n\tsetInput: 'setInput',\n\tsetRowInput: 'addField',\n\tsetSelect: 'setSelect'\n};\n\nexport default function reducer(state, action) {\n\tswitch (action.type) {\n\t\tcase op.setEmptyContact:\n\t\t\treturn {\n\t\t\t\tparent: '7',\n\t\t\t\taddress: {},\n\t\t\t\temail: {},\n\t\t\t\tphone: {},\n\t\t\t\tURL: {},\n\t\t\t\tjobTitle: '',\n\t\t\t\tdepartment: '',\n\t\t\t\tnamePrefix: '',\n\t\t\t\tcompany: '',\n\t\t\t\tfirstName: '',\n\t\t\t\tmiddleName: '',\n\t\t\t\tnickName: '',\n\t\t\t\tlastName: '',\n\t\t\t\tnameSuffix: '',\n\t\t\t\timage: '',\n\t\t\t\tnotes: ''\n\t\t\t};\n\t\tcase op.setExistingContact:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload.existingContact\n\t\t\t};\n\t\tcase op.setSelect:\n\t\t\tif (action.payload.ev.name === 'address') {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[action.payload.ev.name]: {\n\t\t\t\t\t\t...state[action.payload.ev.name],\n\t\t\t\t\t\t[action.payload.id]: {\n\t\t\t\t\t\t\t...state[action.payload.ev.name][action.payload.id],\n\t\t\t\t\t\t\t[action.payload.subField]: action.payload.ev.value\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[action.payload.ev.name]: {\n\t\t\t\t\t...state[action.payload.ev.name],\n\t\t\t\t\t[action.payload.id]: {\n\t\t\t\t\t\t[action.payload.subField]: action.payload.ev.value\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\tcase op.setRowInput:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[action.name]: action.payload\n\t\t\t};\n\t\tcase op.setInput:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[action.payload.name]: action.payload.value\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport React, { createContext, useContext } from 'react';\n\nimport { Container, Text } from '@zextras/carbonio-design-system';\n\nconst levelContext = createContext(0);\n\nconst FormSection = React.forwardRef(function FormSectionFn({ background, label, children }, ref) {\n\tconst level = useContext(levelContext);\n\treturn (\n\t\t<Container\n\t\t\tref={ref}\n\t\t\tbackground={background}\n\t\t\torientation=\"vertical\"\n\t\t\twidth=\"fill\"\n\t\t\theight=\"fit\"\n\t\t\tcrossAlignment=\"flex-start\"\n\t\t\tpadding={{\n\t\t\t\tvertical: 'large',\n\t\t\t\thorizontal: 'small'\n\t\t\t}}\n\t\t>\n\t\t\t<Text size=\"large\" weight={level > 0 ? 'regular' : 'medium'} overflow=\"break-word\">\n\t\t\t\t{label}\n\t\t\t</Text>\n\t\t\t<levelContext.Provider value={level + 1}>{children}</levelContext.Provider>\n\t\t</Container>\n\t);\n});\n\nexport default FormSection;\n\nexport const FormRow = ({ children }) => (\n\t<Container\n\t\torientation=\"horizontal\"\n\t\tmainAlignment=\"flex-start\"\n\t\twidth=\"fill\"\n\t\tpadding={{\n\t\t\ttop: 'large',\n\t\t\thorizontal: 'small'\n\t\t}}\n\t>\n\t\t{children}\n\t</Container>\n);\n","/*\n * SPDX-FileCopyrightText: 2024 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport React, { useCallback, useEffect, useMemo } from 'react';\n\nimport {\n\tContainer,\n\tIconButton,\n\tInput,\n\tPadding,\n\tRow,\n\tSelect\n} from '@zextras/carbonio-design-system';\nimport { filter, find, map, omit, omitBy, reduce, set } from 'lodash';\n\nimport { op } from './form-reducer';\nimport FormSection from './form-section';\n\nexport const ContactEditorRow = ({ children, wrap }) => (\n\t<Row\n\t\torientation=\"horizontal\"\n\t\tmainAlignment=\"space-between\"\n\t\tcrossAlignment=\"flex-start\"\n\t\twidth=\"fill\"\n\t\twrap={wrap || 'nowrap'}\n\t>\n\t\t{children}\n\t</Row>\n);\n\nconst capitalize = (lower) => lower.replace(/^\\w/, (c) => c.toUpperCase());\n\nexport const CustomMultivalueField = ({\n\tname,\n\tlabel,\n\ttypes,\n\ttypeField,\n\ttypeLabel,\n\tsubFields,\n\tfieldLabels,\n\twrap,\n\tvalue,\n\tdispatch\n}) => {\n\tconst typeCounts = useMemo(\n\t\t() =>\n\t\t\treduce(\n\t\t\t\ttypes,\n\t\t\t\t(acc, type) => ({\n\t\t\t\t\t...acc,\n\t\t\t\t\t[type.value]: filter(value, (v) => v[typeLabel] === type.value).length\n\t\t\t\t}),\n\t\t\t\t{}\n\t\t\t),\n\t\t[value, typeLabel, types]\n\t);\n\n\tconst emptyValue = useMemo(\n\t\t() =>\n\t\t\treduce(\n\t\t\t\tsubFields,\n\t\t\t\t(acc, val) => set(acc, val, ''),\n\t\t\t\ttypeField ? { [typeField]: types[0].value } : {}\n\t\t\t),\n\t\t[subFields, typeField, types]\n\t);\n\n\tconst generateNewTypedId = useCallback(\n\t\t(type) => {\n\t\t\tconst substring = `${type}${capitalize(name)}`;\n\t\t\tconst recursiveIdIncrement = (candidateId, increment) => {\n\t\t\t\tif (value[candidateId]) {\n\t\t\t\t\treturn recursiveIdIncrement(`${substring}${increment}`, increment + 1);\n\t\t\t\t}\n\t\t\t\treturn candidateId;\n\t\t\t};\n\t\t\treturn recursiveIdIncrement(\n\t\t\t\t`${substring}${typeCounts[type] > 0 ? typeCounts[type] + 1 : ''}`,\n\t\t\t\t2\n\t\t\t);\n\t\t},\n\t\t[value, name, typeCounts]\n\t);\n\n\tconst generateNewUntypedId = useCallback(() => {\n\t\tconst recursiveIdIncrement = (candidateId, increment) => {\n\t\t\tif (value[candidateId] || candidateId === 'email1') {\n\t\t\t\treturn recursiveIdIncrement(`${name}${increment}`, increment + 1);\n\t\t\t}\n\t\t\treturn candidateId;\n\t\t};\n\t\treturn recursiveIdIncrement(!value[name] ? name : name + 2, 1);\n\t}, [value, name]);\n\n\tconst addValue = useCallback(() => {\n\t\tdispatch({\n\t\t\ttype: op.setRowInput,\n\t\t\tpayload: {\n\t\t\t\t...value,\n\t\t\t\t[types && types[0].value ? generateNewTypedId(types[0].value) : generateNewUntypedId()]:\n\t\t\t\t\temptyValue\n\t\t\t},\n\t\t\tname\n\t\t});\n\t}, [dispatch, emptyValue, generateNewTypedId, generateNewUntypedId, name, types, value]);\n\n\tconst isLastElement = (mulObj) => {\n\t\tlet count = 0;\n\t\tObject.keys(mulObj).forEach((prop) => {\n\t\t\tif (!mulObj[prop].isRemove) {\n\t\t\t\tcount += 1;\n\t\t\t}\n\t\t});\n\t\treturn count === 0;\n\t};\n\tconst removeValue = useCallback(\n\t\t(index) => {\n\t\t\tconst newValue = { ...value };\n\t\t\tconst obj = newValue[index];\n\t\t\tconst updatedObj = { isRemove: 'true' };\n\t\t\tObject.keys(obj).forEach((prop) => {\n\t\t\t\tprop === 'type' ? (updatedObj.type = obj.type) : (updatedObj[prop] = '');\n\t\t\t});\n\t\t\tnewValue[index] = updatedObj;\n\t\t\tdispatch({\n\t\t\t\ttype: op.setRowInput,\n\t\t\t\tpayload: newValue,\n\t\t\t\tname\n\t\t\t});\n\t\t},\n\t\t[dispatch, name, value]\n\t);\n\n\tconst updateValue = useCallback(\n\t\t(newString, subField, id) => {\n\t\t\tif (newString === value[id][subField]) return;\n\t\t\tif (subField === typeField) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: op.setRowInput,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\t...omit(value, [id]),\n\t\t\t\t\t\t[generateNewTypedId(newString)]: {\n\t\t\t\t\t\t\t...value[id],\n\t\t\t\t\t\t\ttype: newString\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tname\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: op.setRowInput,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\t[id]: { ...value[id], [subField]: newString }\n\t\t\t\t\t},\n\t\t\t\t\tname\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[value, name, generateNewTypedId, dispatch, typeField]\n\t);\n\n\tuseEffect(() => {\n\t\tif (Object.values(value).length === 0 || isLastElement(value)) {\n\t\t\taddValue();\n\t\t}\n\t}, [addValue, value]);\n\tconst filteredValue = omitBy(value, (ele) => ele.isRemove);\n\n\treturn (\n\t\t<FormSection label={label}>\n\t\t\t{map(Object.entries(filteredValue), ([id, item], index) => (\n\t\t\t\t<ContactEditorRow wrap={wrap ? 'wrap' : 'nowrap'} key={`${label}${id}`}>\n\t\t\t\t\t{map(subFields, (subField, subIndex) => (\n\t\t\t\t\t\t<Padding\n\t\t\t\t\t\t\tright=\"small\"\n\t\t\t\t\t\t\ttop=\"small\"\n\t\t\t\t\t\t\tkey={`${fieldLabels[subIndex]}${id}`}\n\t\t\t\t\t\t\tstyle={{ width: wrap ? '32%' : '100%', flexGrow: 1 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tinputName={name}\n\t\t\t\t\t\t\t\tlabel={fieldLabels[subIndex]}\n\t\t\t\t\t\t\t\tdefaultValue={item[subField]}\n\t\t\t\t\t\t\t\tonChange={(ev) =>\n\t\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\t\ttype: op.setSelect,\n\t\t\t\t\t\t\t\t\t\tpayload: { ev: ev.target, id, subField }\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid lightgray' }}\n\t\t\t\t\t\t\t\tbackgroundColor=\"white\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Padding>\n\t\t\t\t\t))}\n\t\t\t\t\t<Container\n\t\t\t\t\t\tstyle={{ flexGrow: 1, minWidth: typeField ? '12.5rem' : '6.5rem' }}\n\t\t\t\t\t\twidth={typeField ? 'calc(32% + 0.5rem)' : '6.5rem'}\n\t\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t\tmainAlignment=\"space-between\"\n\t\t\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\t\t\tpadding={{ top: 'small', right: 'small' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Padding right=\"small\" style={{ width: 'calc(100% - 5.5rem)' }}>\n\t\t\t\t\t\t\t{typeField && typeLabel && types && types.length > 0 && (\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tstyle={{ border: '1px solid lightgray' }}\n\t\t\t\t\t\t\t\t\tbackgroundColor=\"white\"\n\t\t\t\t\t\t\t\t\titems={types}\n\t\t\t\t\t\t\t\t\tlabel={typeLabel}\n\t\t\t\t\t\t\t\t\tonChange={(val) => updateValue(val, typeField, id)}\n\t\t\t\t\t\t\t\t\tdefaultSelection={find(types, ['value', value[id][typeField]])}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t<Container\n\t\t\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t\t\tmainAlignment=\"flex-end\"\n\t\t\t\t\t\t\theight=\"fit\"\n\t\t\t\t\t\t\twidth=\"5.5rem\"\n\t\t\t\t\t\t\tstyle={{ minWidth: '5.5rem' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{index >= Object.entries(filteredValue).length - 1 ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Padding right=\"small\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\ticon=\"Plus\"\n\t\t\t\t\t\t\t\t\t\t\tcustomSize={{\n\t\t\t\t\t\t\t\t\t\t\t\ticonSize: 'medium',\n\t\t\t\t\t\t\t\t\t\t\t\tpaddingSize: 'medium'\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\ticonColor=\"gray6\"\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => addValue()}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\ticon=\"Minus\"\n\t\t\t\t\t\t\t\t\t\ticonColor=\"gray6\"\n\t\t\t\t\t\t\t\t\t\tcustomSize={{\n\t\t\t\t\t\t\t\t\t\t\ticonSize: 'medium',\n\t\t\t\t\t\t\t\t\t\t\tpaddingSize: 'medium'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tbackgroundColor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => removeValue(id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\ticon=\"Minus\"\n\t\t\t\t\t\t\t\t\ticonColor=\"gray6\"\n\t\t\t\t\t\t\t\t\tbackgroundColor=\"secondary\"\n\t\t\t\t\t\t\t\t\tonClick={() => removeValue(id)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Container>\n\t\t\t\t</ContactEditorRow>\n\t\t\t))}\n\t\t</FormSection>\n\t);\n};\n","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport React, { ReactElement } from 'react';\n\nimport {\n\tContainer,\n\tIcon,\n\tIconProps,\n\tPadding,\n\tRow,\n\tText,\n\tTextProps,\n\tgetColor\n} from '@zextras/carbonio-design-system';\nimport styled from 'styled-components';\n\nimport { CustomLabelFactoryProps } from '../../types/select';\n\nexport const Square = styled.div`\n\twidth: 1rem;\n\theight: 1rem;\n\tbackground: ${({ color }): string | undefined => color};\n\tborder-radius: 0.25rem;\n\topacity: ${({ disabled }: { disabled?: boolean }): number => (disabled ? 0.5 : 1)};\n`;\n\nexport const ColorContainer = styled(Container)`\n\tborder-bottom: 0.0625rem solid ${({ theme }): string => theme.palette.gray2.regular};\n\ttransition: background 0.2s ease-out;\n\t&:hover {\n\t\tbackground: ${({ theme, background }): string => getColor(`${background}.hover`, theme)};\n\t}\n`;\n\nexport const TextUpperCase = styled(Text)`\n\ttext-transform: capitalize;\n\tcolor: ${({ theme, disabled }): string =>\n\t\tdisabled ? theme.palette.text.disabled : theme.palette.text.regular};\n`;\nexport const LabelText = styled(Text)<TextProps & { $showPrimary?: boolean }>`\ncolor: ${({ theme, disabled, $showPrimary }): string =>\n\t// eslint-disable-next-line no-nested-ternary\n\tdisabled\n\t\t? theme.palette.text.disabled\n\t\t: $showPrimary\n\t\t\t? theme.palette.primary.regular\n\t\t\t: theme.palette.secondary.regular}};`;\n\nexport const StyledIcon = styled(Icon)<IconProps & { $showPrimary?: boolean }>`\ncolor: ${({ theme, disabled, $showPrimary }): string =>\n\t// eslint-disable-next-line no-nested-ternary\n\tdisabled\n\t\t? theme.palette.text.disabled\n\t\t: $showPrimary\n\t\t\t? theme.palette.primary.regular\n\t\t\t: theme.palette.secondary.regular}};`;\n\nexport const FolderSelectorLabelFactory = ({\n\tselected,\n\tlabel,\n\topen,\n\tfocus,\n\tdisabled\n}: CustomLabelFactoryProps): ReactElement => (\n\t<ColorContainer\n\t\torientation=\"horizontal\"\n\t\twidth=\"fill\"\n\t\tcrossAlignment=\"center\"\n\t\tmainAlignment=\"space-between\"\n\t\tborderRadius=\"half\"\n\t\tpadding={{\n\t\t\tall: 'small'\n\t\t}}\n\t\tbackground=\"gray5\"\n\t\tstyle={{ cursor: disabled ? 'no-drop' : 'pointer' }}\n\t>\n\t\t<Row width=\"100%\" takeAvailableSpace mainAlignment=\"space-between\">\n\t\t\t<Row\n\t\t\t\torientation=\"vertical\"\n\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\tmainAlignment=\"flex-start\"\n\t\t\t\tpadding={{ left: 'small' }}\n\t\t\t>\n\t\t\t\t<LabelText size=\"small\" disabled={disabled} $showPrimary={open || focus}>\n\t\t\t\t\t{label}\n\t\t\t\t</LabelText>\n\t\t\t\t<Row>\n\t\t\t\t\t<Padding right=\"small\">\n\t\t\t\t\t\t<Square color={selected[0].color} disabled={disabled} />\n\t\t\t\t\t</Padding>\n\t\t\t\t\t<TextUpperCase disabled={disabled}>{selected[0].label}</TextUpperCase>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t</Row>\n\t\t<StyledIcon\n\t\t\tsize=\"large\"\n\t\t\ticon={open ? 'ChevronUpOutline' : 'ChevronDownOutline'}\n\t\t\tdisabled={disabled}\n\t\t\t$showPrimary={open || focus}\n\t\t\tstyle={{ alignSelf: 'center' }}\n\t\t/>\n\t</ColorContainer>\n);\n","/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport React, { FC, ReactElement, useCallback, useMemo } from 'react';\n\nimport { Padding, Row, Select, SelectItem } from '@zextras/carbonio-design-system';\nimport { FOLDERS } from '@zextras/carbonio-shell-ui';\nimport { find, map } from 'lodash';\n\nimport { TextUpperCase } from './color-select';\nimport { FolderSelectorLabelFactory, Square } from './select-label-factory';\nimport { useRoot } from '../../store/zustand/folder';\nimport type { FolderSelectorItem } from '../../types/select';\n\ntype FolderSelectorProps = {\n\tdefaultFolderId: string;\n\tonChange: (selectedItem: SelectItem) => void;\n\tlabel?: string;\n\tfolderItems: FolderSelectorItem[];\n\tdisabled?: boolean;\n};\n\nconst FolderNameRender: FC<{ folder: FolderSelectorItem }> = ({ folder }) => {\n\tconst root = useRoot(folder.value ?? '');\n\treturn (\n\t\t<>\n\t\t\t<Row wrap={'nowrap'}>\n\t\t\t\t<Padding right=\"small\">\n\t\t\t\t\t<Square color={folder.color} />\n\t\t\t\t</Padding>\n\t\t\t\t<TextUpperCase>{folder.label}</TextUpperCase>\n\t\t\t\t<Row takeAvailableSpace>\n\t\t\t\t\t{root && root.id !== FOLDERS.USER_ROOT && (\n\t\t\t\t\t\t<Padding left=\"small\" style={{ overflow: 'hidden' }}>\n\t\t\t\t\t\t\t<TextUpperCase color={'gray1'}>{`(${root.name})`}</TextUpperCase>\n\t\t\t\t\t\t</Padding>\n\t\t\t\t\t)}\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t</>\n\t);\n};\n\nexport const FoldersSelector = ({\n\tdefaultFolderId,\n\tonChange,\n\tlabel,\n\tfolderItems,\n\tdisabled\n}: FolderSelectorProps): ReactElement | null => {\n\tconst items = useMemo(\n\t\t() =>\n\t\t\tmap(folderItems, (item) => ({\n\t\t\t\tlabel: item.label,\n\t\t\t\tvalue: item.value,\n\t\t\t\tcolor: item.color,\n\t\t\t\tcustomComponent: <FolderNameRender folder={item}></FolderNameRender>\n\t\t\t})),\n\t\t[folderItems]\n\t);\n\n\tconst defaultFolderSelection = useMemo(() => {\n\t\tconst defaultFold = find(items, ['value', defaultFolderId]);\n\t\tconst defaultFolder = {\n\t\t\tvalue: defaultFold?.value ?? items?.[0]?.value,\n\t\t\tlabel: defaultFold?.label ?? items?.[0]?.label,\n\t\t\tcolor: defaultFold?.color ?? items?.[0]?.color\n\t\t};\n\t\treturn find(items, ['value', defaultFolderId]) ?? defaultFolder;\n\t}, [items, defaultFolderId]);\n\n\tconst onSelectedFolderChange = useCallback((id) => onChange(id), [onChange]);\n\n\treturn items && defaultFolderSelection ? (\n\t\t<Select\n\t\t\tlabel={label}\n\t\t\tonChange={onSelectedFolderChange}\n\t\t\titems={items}\n\t\t\tdefaultSelection={defaultFolderSelection}\n\t\t\tdisablePortal\n\t\t\tdisabled={disabled}\n\t\t\tLabelFactory={FolderSelectorLabelFactory}\n\t\t/>\n\t) : null;\n};\n","/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport React, { useCallback, useEffect, useMemo, useReducer, useState } from 'react';\n\nimport {\n\tButton,\n\tContainer,\n\tInput,\n\tPadding,\n\tRow,\n\tText,\n\tTooltip,\n\tuseSnackbar\n} from '@zextras/carbonio-design-system';\nimport {\n\tFOLDERS,\n\tZIMBRA_STANDARD_COLORS,\n\tuseReplaceHistoryCallback,\n\treport\n} from '@zextras/carbonio-shell-ui';\nimport { filter, find, map, reduce } from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { ContactEditorRow, CustomMultivalueField } from './CustomMultivalueField';\nimport reducer, { op } from './form-reducer';\nimport { FoldersSelector } from '../../../carbonio-ui-commons/components/select/folders-selector';\nimport {\n\tgetFolderIdParts,\n\tisRoot,\n\tisSharedAccountFolder,\n\tisTrash\n} from '../../../carbonio-ui-commons/helpers/folders';\nimport { useFoldersMap } from '../../../carbonio-ui-commons/store/zustand/folder';\nimport { CompactView } from '../../commons/contact-compact-view';\nimport { useAppSelector } from '../../hooks/redux';\nimport { createContact } from '../../store/actions/create-contact';\nimport { modifyContact } from '../../store/actions/modify-contact';\nimport { selectContact } from '../../store/selectors/contacts';\nimport { getFolderTranslatedName } from '../../utils/helpers';\nimport { differenceObject } from '../settings/components/utils';\n\nconst ItalicText = styled(Text)`\n\tfont-style: italic;\n\tcolor: ${({ theme }) => theme.palette.gray1.regular};\n\tpadding-right: 0.5rem;\n`;\n\nconst filterEmptyValues = (values) =>\n\treduce(\n\t\tvalues,\n\t\t(acc, v, k) =>\n\t\t\tfilter(v, (field, key) => key !== 'name' && key !== 'type' && field !== '').length > 0\n\t\t\t\t? { ...acc, [k]: v }\n\t\t\t\t: acc,\n\t\t{}\n\t);\n\nconst cleanMultivalueFields = (contact) => ({\n\t...contact,\n\taddress: filterEmptyValues(contact.address),\n\temail: filterEmptyValues(contact.email),\n\tphone: filterEmptyValues(contact.phone),\n\tURL: filterEmptyValues(contact.URL)\n});\n\nconst CustomStringField = ({ name, label, value, dispatch, autoFocus = false }) => (\n\t<Container padding={{ all: 'small' }}>\n\t\t<Input\n\t\t\tbackgroundColor=\"white\"\n\t\t\tinputName={name}\n\t\t\tlabel={label}\n\t\t\tdefaultValue={value}\n\t\t\tonChange={(ev) => dispatch({ type: op.setInput, payload: ev.target })}\n\t\t\t// eslint-disable-next-line jsx-a11y/no-autofocus\n\t\t\tautoFocus={autoFocus}\n\t\t\tstyle={{ border: '1px solid lightgray' }}\n\t\t/>\n\t</Container>\n);\n\nexport default function EditView({ panel, onClose, onTitleChanged }) {\n\tconst { folderId, editId } = useParams();\n\tconst storeDispatch = useDispatch();\n\tconst existingContact = useAppSelector((state) => selectContact(state, folderId, editId));\n\tconst [contact, dispatch] = useReducer(reducer);\n\tconst [compareToContact, setCompareToContact] = useState(existingContact);\n\tconst [selectFolderId, setSelectFolderId] = useState(FOLDERS.CONTACTS);\n\tconst keys = Object.keys(existingContact ?? {});\n\tconst [t] = useTranslation();\n\tconst createSnackbar = useSnackbar();\n\n\tuseEffect(() => {\n\t\tif (!compareToContact && keys?.length > 0) setCompareToContact(existingContact);\n\t\tlet canSet = true;\n\t\tif (editId && editId !== 'new' && existingContact) {\n\t\t\tcanSet && dispatch({ type: op.setExistingContact, payload: { existingContact } });\n\t\t}\n\t\tif (editId && editId === 'new') {\n\t\t\tcanSet && dispatch({ type: op.setEmptyContact, payload: {} });\n\t\t}\n\t\tif (!panel) {\n\t\t\tcanSet && dispatch({ type: op.setEmptyContact, payload: {} });\n\t\t}\n\t\treturn () => {\n\t\t\tcanSet = false;\n\t\t};\n\t}, [compareToContact, editId, existingContact, keys?.length, panel]);\n\n\tconst fieldsToUpdate = useMemo(() => {\n\t\tif (!contact) {\n\t\t\treturn {};\n\t\t}\n\t\tconst updatedContact = cleanMultivalueFields(contact);\n\n\t\treturn differenceObject(compareToContact, updatedContact);\n\t}, [compareToContact, contact]);\n\n\tconst folders = useFoldersMap();\n\n\tconst selectedFolderName = useMemo(() => {\n\t\tconst selectedFolder = find(folders, ['id', selectFolderId]);\n\t\treturn getFolderTranslatedName(t, selectFolderId, selectedFolder.name);\n\t}, [folders, selectFolderId, t]);\n\tconst folderWithWritePerm = useMemo(\n\t\t() =>\n\t\t\tfilter(\n\t\t\t\tfolders,\n\t\t\t\t(folder) =>\n\t\t\t\t\t!isTrash(folder.id) &&\n\t\t\t\t\t!isRoot(folder.id) &&\n\t\t\t\t\t!isSharedAccountFolder(folder.id) &&\n\t\t\t\t\t(!folder.isLink || (folder.perm && folder.perm.indexOf('w') !== -1))\n\t\t\t),\n\t\t[folders]\n\t);\n\tconst allFolders = useMemo(\n\t\t() =>\n\t\t\tmap(folderWithWritePerm, (item) => ({\n\t\t\t\tlabel:\n\t\t\t\t\tgetFolderIdParts(item.id).id === FOLDERS.CONTACTS\n\t\t\t\t\t\t? t('folders.contacts', 'Contacts')\n\t\t\t\t\t\t: item.name,\n\t\t\t\tvalue: item.id,\n\t\t\t\tcolor: ZIMBRA_STANDARD_COLORS[item.color || 0].hex\n\t\t\t})),\n\t\t[folderWithWritePerm, t]\n\t);\n\n\tconst isDisabled = useMemo(() => {\n\t\tif (editId && editId !== 'new' && existingContact) {\n\t\t\treturn Object.keys(fieldsToUpdate).length < 1 || !(contact?.firstName || contact?.lastName);\n\t\t}\n\t\treturn !(contact?.firstName || contact?.lastName);\n\t}, [contact?.firstName, contact?.lastName, editId, existingContact, fieldsToUpdate]);\n\tconst title = useMemo(\n\t\t() =>\n\t\t\tcontact?.namePrefix ||\n\t\t\tcontact?.firstName ||\n\t\t\tcontact?.middleName ||\n\t\t\tcontact?.nickName ||\n\t\t\tcontact?.lastName ||\n\t\t\tcontact?.nameSuffix\n\t\t\t\t? `${contact?.namePrefix ?? ''} ${contact?.firstName ?? ''} ${contact?.middleName ?? ''} ${\n\t\t\t\t\t\tcontact?.nickName ?? ''\n\t\t\t\t\t} ${contact?.lastName ?? ''} ${contact?.nameSuffix ?? ''}`\n\t\t\t\t: t('label.new_contact', 'New contact'),\n\t\t[\n\t\t\tcontact?.firstName,\n\t\t\tcontact?.lastName,\n\t\t\tcontact?.middleName,\n\t\t\tcontact?.namePrefix,\n\t\t\tcontact?.nameSuffix,\n\t\t\tcontact?.nickName,\n\t\t\tt\n\t\t]\n\t);\n\n\tuseEffect(() => {\n\t\tif (!panel) {\n\t\t\tonTitleChanged && onTitleChanged(title);\n\t\t}\n\t}, [onTitleChanged, panel, title]);\n\n\tconst replaceHistory = useReplaceHistoryCallback();\n\n\tconst onSubmit = useCallback(() => {\n\t\tconst updatedContact = cleanMultivalueFields(contact);\n\t\tif (!updatedContact.id) {\n\t\t\tstoreDispatch(createContact(updatedContact))\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (panel && !res.error) {\n\t\t\t\t\t\treplaceHistory(`/folder/${folderId}/contacts/${res.payload[0].id}`);\n\t\t\t\t\t} else if (res.type.includes('fulfilled')) {\n\t\t\t\t\t\tonClose && onClose();\n\t\t\t\t\t\tcreateSnackbar({\n\t\t\t\t\t\t\tkey: `edit`,\n\t\t\t\t\t\t\treplace: true,\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\tlabel: t('label.new_contact_created', 'New contact created'),\n\t\t\t\t\t\t\tautoHideTimeout: 3000,\n\t\t\t\t\t\t\thideButton: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(report);\n\t\t} else {\n\t\t\tstoreDispatch(\n\t\t\t\tmodifyContact({\n\t\t\t\t\tupdatedContact,\n\t\t\t\t\texistingContact\n\t\t\t\t})\n\t\t\t)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (panel) {\n\t\t\t\t\t\treplaceHistory(`/folder/${folderId}/contacts/${res.payload[0].id}`);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(report);\n\t\t}\n\t}, [\n\t\tcontact,\n\t\tcreateSnackbar,\n\t\texistingContact,\n\t\tfolderId,\n\t\tonClose,\n\t\tpanel,\n\t\treplaceHistory,\n\t\tstoreDispatch,\n\t\tt\n\t]);\n\n\tconst defaultTypes = useMemo(\n\t\t() => [\n\t\t\t{ label: t('types.work', 'work'), value: 'work' },\n\t\t\t{ label: t('types.home', 'home'), value: 'home' },\n\t\t\t{ label: t('types.other', 'other'), value: 'other' }\n\t\t],\n\t\t[t]\n\t);\n\n\tconst mobileTypes = useMemo(\n\t\t() => [\n\t\t\t{ label: t('types.mobile', 'mobile'), value: 'mobile' },\n\t\t\t{ label: t('types.work', 'work'), value: 'work' },\n\t\t\t{ label: t('types.home', 'home'), value: 'home' },\n\t\t\t{ label: t('types.other', 'other'), value: 'other' }\n\t\t],\n\t\t[t]\n\t);\n\n\treturn contact ? (\n\t\t<Container\n\t\t\tmainAlignment=\"flex-start\"\n\t\t\tcrossAlignment=\"flex-start\"\n\t\t\tbackground=\"gray6\"\n\t\t\theight=\"fill\"\n\t\t>\n\t\t\t<Container\n\t\t\t\tpadding={{ all: 'medium' }}\n\t\t\t\theight=\"fit\"\n\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\tbackground=\"gray6\"\n\t\t\t\tdata-testid=\"EditContact\"\n\t\t\t>\n\t\t\t\t<Row orientation=\"horizontal\" mainAlignment=\"space-between\" width=\"fill\">\n\t\t\t\t\t<Container height=\"fit\" width=\"fit\">\n\t\t\t\t\t\t{!editId && (\n\t\t\t\t\t\t\t<ItalicText>\n\t\t\t\t\t\t\t\t{t('label.contact_created_in_folder', {\n\t\t\t\t\t\t\t\t\tname: selectedFolderName,\n\t\t\t\t\t\t\t\t\tdefaultValue: 'This contact will be created in the \"{{name}}\" folder'\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</ItalicText>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Container>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tlabel={t('message.require_field', 'Fill one required * field')}\n\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\tdisabled={!isDisabled}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button label={t('label.save', 'Save')} onClick={onSubmit} disabled={isDisabled} />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Row>\n\t\t\t\t<Padding value=\"medium small\">\n\t\t\t\t\t<CompactView contact={contact} />\n\t\t\t\t</Padding>\n\t\t\t\t<ContactEditorRow>\n\t\t\t\t\t<CustomStringField\n\t\t\t\t\t\tname=\"namePrefix\"\n\t\t\t\t\t\tlabel={t('name.prefix', 'Prefix')}\n\t\t\t\t\t\tvalue={contact.namePrefix}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t/>\n\t\t\t\t\t<CustomStringField\n\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\tlabel={`${t('name.first_name', 'First Name')}*`}\n\t\t\t\t\t\tvalue={contact.firstName}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-autofocus\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t/>\n\t\t\t\t\t<CustomStringField\n\t\t\t\t\t\tname=\"middleName\"\n\t\t\t\t\t\tlabel={t('name.middle_name', 'Middle Name')}\n\t\t\t\t\t\tvalue={contact.middleName}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t/>\n\t\t\t\t</ContactEditorRow>\n\t\t\t\t<ContactEditorRow>\n\t\t\t\t\t<CustomStringField\n\t\t\t\t\t\tname=\"nickName\"\n\t\t\t\t\t\tlabel={t('name.nickName', 'Nickname')}\n\t\t\t\t\t\tvalue={contact.nickName}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t/>\n\t\t\t\t\t<CustomStringField\n\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\tlabel={`${t('name.last_name', 'Last Name')}*`}\n\t\t\t\t\t\tvalue={contact.lastName}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t/>\n\t\t\t\t\t<CustomStringField\n\t\t\t\t\t\tname=\"nameSuffix\"\n\t\t\t\t\t\tlabel={t('name.suffix', 'Suffix')}\n\t\t\t\t\t\tvalue={contact.nameSuffix}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t/>\n\t\t\t\t</ContactEditorRow>\n\t\t\t\t<ContactEditorRow>\n\t\t\t\t\t<CustomStringField\n\t\t\t\t\t\tname=\"jobTitle\"\n\t\t\t\t\t\tlabel={t('job.title', 'Job Role')}\n\t\t\t\t\t\tvalue={contact.jobTitle}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t/>\n\t\t\t\t\t<CustomStringField\n\t\t\t\t\t\tname=\"department\"\n\t\t\t\t\t\tlabel={t('job.department', 'Department')}\n\t\t\t\t\t\tvalue={contact.department}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t/>\n\t\t\t\t\t<CustomStringField\n\t\t\t\t\t\tname=\"company\"\n\t\t\t\t\t\tlabel={t('job.company', 'Company')}\n\t\t\t\t\t\tvalue={contact.company}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t/>\n\t\t\t\t</ContactEditorRow>\n\t\t\t\t<ContactEditorRow>\n\t\t\t\t\t<CustomStringField\n\t\t\t\t\t\tname=\"notes\"\n\t\t\t\t\t\tlabel={t('label.notes', 'Notes')}\n\t\t\t\t\t\tvalue={contact.notes}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t/>\n\t\t\t\t</ContactEditorRow>\n\t\t\t\t{!editId && (\n\t\t\t\t\t<ContactEditorRow>\n\t\t\t\t\t\t<Padding horizontal=\"small\" top=\"small\" style={{ width: '100%' }}>\n\t\t\t\t\t\t\t<Row padding={{ bottom: 'small' }} crossAlignment=\"flex-start\" orientation=\"vertical\">\n\t\t\t\t\t\t\t\t<Text size=\"large\" weight={'medium'} overflow=\"break-word\">\n\t\t\t\t\t\t\t\t\t{t('label.destination_address_book', 'Destination address book')}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<FoldersSelector\n\t\t\t\t\t\t\t\tdefaultFolderId={selectFolderId}\n\t\t\t\t\t\t\t\tonChange={(selectedItem) => {\n\t\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\t\ttype: op.setInput,\n\t\t\t\t\t\t\t\t\t\tpayload: { name: 'parent', value: selectedItem }\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tsetSelectFolderId(selectedItem);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tlabel={t('share.contact_folder', 'Address Book')}\n\t\t\t\t\t\t\t\tfolderItems={allFolders}\n\t\t\t\t\t\t\t\tdisabled={false}\n\t\t\t\t\t\t\t></FoldersSelector>\n\t\t\t\t\t\t</Padding>\n\t\t\t\t\t</ContactEditorRow>\n\t\t\t\t)}\n\t\t\t\t<CustomMultivalueField\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tlabel={t('section.title.mail', 'E-mail address')}\n\t\t\t\t\tsubFields={['mail']}\n\t\t\t\t\tfieldLabels={[t('label.email', 'E-mail')]}\n\t\t\t\t\tvalue={contact.email}\n\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t/>\n\t\t\t\t<CustomMultivalueField\n\t\t\t\t\tname=\"phone\"\n\t\t\t\t\tlabel={t('section.title.phone_number', 'Phone contact')}\n\t\t\t\t\ttypeLabel={t('select.default', 'Select type')}\n\t\t\t\t\ttypeField=\"type\"\n\t\t\t\t\ttypes={mobileTypes}\n\t\t\t\t\tsubFields={['number']}\n\t\t\t\t\tfieldLabels={[t('section.field.number', 'Number')]}\n\t\t\t\t\tvalue={contact.phone}\n\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t/>\n\t\t\t\t<CustomMultivalueField\n\t\t\t\t\tname=\"URL\"\n\t\t\t\t\tlabel={t('label.website', 'Website')}\n\t\t\t\t\ttypeLabel={t('select.default', 'Select type')}\n\t\t\t\t\ttypeField=\"type\"\n\t\t\t\t\ttypes={defaultTypes}\n\t\t\t\t\tsubFields={['url']}\n\t\t\t\t\tfieldLabels={[t('section.field.website', 'Website URL')]}\n\t\t\t\t\tvalue={contact.URL}\n\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t/>\n\t\t\t\t<CustomMultivalueField\n\t\t\t\t\tname=\"address\"\n\t\t\t\t\tlabel={t('section.title.address', 'Address')}\n\t\t\t\t\ttypeField=\"type\"\n\t\t\t\t\ttypeLabel={t('select.default', 'Select type')}\n\t\t\t\t\ttypes={defaultTypes}\n\t\t\t\t\tsubFields={['street', 'city', 'postalCode', 'country', 'state']}\n\t\t\t\t\tfieldLabels={[\n\t\t\t\t\t\tt('section.field.street', 'Street'),\n\t\t\t\t\t\tt('section.field.city', 'City'),\n\t\t\t\t\t\tt('section.field.postalCode', 'PostalCode'),\n\t\t\t\t\t\tt('section.field.country', 'Country'),\n\t\t\t\t\t\tt('section.field.state', 'State')\n\t\t\t\t\t]}\n\t\t\t\t\twrap\n\t\t\t\t\tvalue={contact.address}\n\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t/>\n\t\t\t</Container>\n\t\t</Container>\n\t) : null;\n}\n","/*\n * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport { isEqual, transform, isObject, filter } from 'lodash';\n\nexport const differenceObject = (object, base) => {\n\t// eslint-disable-next-line no-shadow\n\tfunction changes(object, base) {\n\t\treturn transform(object, (result, value, key) => {\n\t\t\tif (!isEqual(value, base[key])) {\n\t\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\t\tresult[key] = isObject(value) && isObject(base[key]) ? changes(value, base[key]) : value;\n\t\t\t}\n\t\t});\n\t}\n\treturn changes(object, base);\n};\n\nexport const findLabel = (list, value) => filter(list, (item) => item.value === value)[0].label;\n"],"names":["AvatarMobile","styled","Avatar","withConfig","displayName","componentId","AvatarHeader","Row","theme","bg","avatarColors","bg2","calcColor","label","sum","i","length","charCodeAt","CompactView","contact","toggleOpen","open","useDisplayName","displayMailAndPhone","useMemo","trim","Object","values","email","mail","phone","number","React","Responsive","mode","target","window","top","Drag","style","width","height","mainAlignment","firstName","lastName","picture","image","size","fallbackIcon","orientation","takeAvailableSpace","crossAlignment","padding","horizontal","vertical","Text","weight","color","jobTitle","department","company","IconButton","onClick","icon","Button","backgroundColor","getDisplayName","middleName","nameSuffix","emailsTypes","keys","t","useTranslation","selectAllContactsInFolder","contacts","id","selectContact","folderId","find","selectFolderStatus","status","op","setEmptyContact","setExistingContact","setInput","setRowInput","setSelect","reducer","state","action","type","parent","address","URL","namePrefix","nickName","notes","payload","existingContact","ev","name","subField","value","levelContext","createContext","background","children","ref","level","useContext","Container","overflow","Provider","ContactEditorRow","wrap","CustomMultivalueField","types","typeField","typeLabel","subFields","fieldLabels","dispatch","typeCounts","reduce","acc","filter","v","emptyValue","val","set","generateNewTypedId","useCallback","substring","lower","replace","c","toUpperCase","recursiveIdIncrement","candidateId","increment","generateNewUntypedId","addValue","removeValue","index","newValue","obj","updatedObj","isRemove","forEach","prop","updateValue","newString","omit","useEffect","mulObj","count","isLastElement","filteredValue","omitBy","ele","FormSection","map","entries","item","key","subIndex","Padding","right","flexGrow","Input","inputName","defaultValue","onChange","border","minWidth","Select","items","defaultSelection","customSize","iconSize","paddingSize","iconColor","Square","disabled","ColorContainer","palette","gray2","regular","getColor","TextUpperCase","text","LabelText","$showPrimary","primary","secondary","StyledIcon","Icon","FolderSelectorLabelFactory","selected","focus","borderRadius","all","cursor","left","alignSelf","FolderNameRender","folder","root","useRoot","FOLDERS","USER_ROOT","FoldersSelector","defaultFolderId","folderItems","customComponent","defaultFolderSelection","defaultFold","defaultFolder","onSelectedFolderChange","disablePortal","LabelFactory","ItalicText","gray1","filterEmptyValues","k","field","cleanMultivalueFields","CustomStringField","autoFocus","EditView","panel","onClose","onTitleChanged","editId","useParams","storeDispatch","useDispatch","useAppSelector","useReducer","compareToContact","setCompareToContact","useState","selectFolderId","setSelectFolderId","CONTACTS","createSnackbar","useSnackbar","canSet","fieldsToUpdate","updatedContact","differenceObject","folders","useFoldersMap","selectedFolderName","selectedFolder","getFolderTranslatedName","folderWithWritePerm","isTrash","isRoot","isSharedAccountFolder","isLink","perm","indexOf","allFolders","getFolderIdParts","ZIMBRA_STANDARD_COLORS","hex","isDisabled","title","replaceHistory","useReplaceHistoryCallback","onSubmit","modifyContact","then","res","catch","report","createContact","error","includes","autoHideTimeout","hideButton","defaultTypes","mobileTypes","Tooltip","placement","bottom","selectedItem","object","base","changes","transform","result","isEqual","isObject"],"sourceRoot":""}