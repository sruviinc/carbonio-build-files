{"version":3,"file":"87.a05b2f96.chunk.js","mappings":"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","sources":["webpack://@zextras/carbonio-shell-ui/webpack/runtime/chunk loaded","webpack://@zextras/carbonio-shell-ui/webpack/runtime/startup chunk dependencies","webpack://@zextras/carbonio-shell-ui/./src/utils/utils.ts","webpack://@zextras/carbonio-shell-ui/./src/workers/folder.ts","webpack://@zextras/carbonio-shell-ui/webpack/bootstrap","webpack://@zextras/carbonio-shell-ui/webpack/runtime/ensure chunk","webpack://@zextras/carbonio-shell-ui/webpack/runtime/get javascript chunk filename","webpack://@zextras/carbonio-shell-ui/webpack/runtime/get mini-css chunk filename","webpack://@zextras/carbonio-shell-ui/webpack/runtime/global","webpack://@zextras/carbonio-shell-ui/webpack/runtime/hasOwnProperty shorthand","webpack://@zextras/carbonio-shell-ui/webpack/runtime/node module decorator","webpack://@zextras/carbonio-shell-ui/webpack/runtime/publicPath","webpack://@zextras/carbonio-shell-ui/webpack/runtime/importScripts chunk loading","webpack://@zextras/carbonio-shell-ui/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(530).then(next);\n};","/*\n * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport type { CSSProperties } from 'react';\nimport type React from 'react';\n\nimport { reduce } from 'lodash';\n\nexport type ElementPosition = {\n\ttop: number;\n\tleft: number;\n};\n\nexport type ElementSize = {\n\twidth: number;\n\theight: number;\n};\n\nexport type SizeAndPosition = ElementPosition & ElementSize;\n\nexport const testFolderIsChecked = ({ string }: { string: string | undefined }): boolean =>\n\t/#/.test(string || '');\n\nexport function setGlobalCursor(cursor: CSSProperties['cursor']): void {\n\t// remove previously set cursor\n\tconst cursors: string[] = [];\n\tdocument.body.classList.forEach((item) => {\n\t\tif (item.startsWith('global-cursor-')) {\n\t\t\tcursors.push(item);\n\t\t}\n\t});\n\tdocument.body.classList.remove(...cursors);\n\tif (cursor) {\n\t\tdocument.body.classList.add(`global-cursor-${cursor}`);\n\t}\n}\n\nexport function setElementSizeAndPosition(\n\telement: HTMLElement,\n\tkey: keyof SizeAndPosition,\n\tvalue: number | undefined\n): void {\n\t// eslint-disable-next-line no-param-reassign\n\telement.style[key] = value !== undefined ? `${value}px` : '';\n}\n\nexport function stopPropagation(event: Event | React.SyntheticEvent): void {\n\tevent.stopPropagation();\n}\n\nexport function createExportForTestOnly<TObj extends Record<string, unknown>>(\n\tobjToExport: TObj\n): { [K in keyof TObj]: TObj[K] | undefined } {\n\treturn process.env.NODE_ENV === 'test'\n\t\t? objToExport\n\t\t: reduce(\n\t\t\t\tobjToExport,\n\t\t\t\t(accumulator, value, key) => {\n\t\t\t\t\taccumulator[key as keyof TObj] = undefined;\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{} as Record<keyof TObj, undefined>\n\t\t\t);\n}\n","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport type { Folder, Folders, LinkFolder, Roots, Searches, UserFolder } from '../types/folder';\nimport type { BaseFolder, LinkFolderFields, SearchFolderFields } from '../types/misc';\nimport type { SoapFolder, SoapLink, SoapNotify, SoapSearchFolder } from '../types/network';\nimport type { FolderMessage } from '../types/workers';\nimport { testFolderIsChecked } from '../utils/utils';\n\nconst IM_LOGS = '14';\nconst ROOT_NAME = 'USER_ROOT';\nconst DEFAULT_ROOT = 'USER';\n\nconst folders: Folders = {};\nconst roots: Roots = {};\nconst searches: Searches = {};\n\nconst omit = ({\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tlink: _1,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tfolder: _2,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tsearch: _3,\n\t...obj\n}: Partial<SoapFolder>): Partial<SoapFolder> => obj;\n\nconst hasId = (f: SoapFolder, id: string): boolean => f.id.split(':').includes(id);\nconst normalize = (f: SoapFolder, p?: Folder): BaseFolder => ({\n\tid: f.id,\n\tuuid: f.uuid,\n\tname: f.name,\n\tabsFolderPath: f.absFolderPath,\n\tl: f.l,\n\tluuid: f.luuid,\n\tchecked: testFolderIsChecked({ string: f.f }),\n\tf: f.f,\n\tcolor: f.color || p?.color,\n\trgb: f.rgb,\n\tu: f.u,\n\ti4u: f.i4u,\n\tview: f.view,\n\trev: f.rev,\n\tms: f.ms,\n\tmd: f.md,\n\tn: f.n,\n\ti4n: f.i4n,\n\ts: f.s,\n\ti4ms: f.i4ms,\n\ti4next: f.i4next,\n\turl: f.url,\n\tactivesyncdisabled: !!f.activesyncdisabled,\n\twebOfflineSyncDays: f.webOfflineSyncDays,\n\tperm: f.perm,\n\trecursive: !!f.recursive,\n\trest: f.rest,\n\tdeletable: !!f.deletable,\n\tmeta: f.meta,\n\tacl: f.acl,\n\tretentionPolicy: f.retentionPolicy\n});\n\nconst normalizeSearch = (s: SoapSearchFolder): BaseFolder & SearchFolderFields => ({\n\t...normalize(s),\n\tquery: s.query,\n\tsortBy: s.sortBy,\n\ttypes: s.types\n});\n\nconst normalizeLink = (l: SoapLink, p?: Folder): BaseFolder & LinkFolderFields => ({\n\t...normalize(l, p),\n\towner: l.owner,\n\tzid: l.zid,\n\trid: l.rid,\n\truuid: l.ruuid,\n\toname: l.oname,\n\treminder: !!l.reminder,\n\tbroken: !!l.broken\n});\n\nconst processSearch = (soapSearch: SoapSearchFolder, parent: Folder): void => {\n\tconst search = {\n\t\t...normalizeSearch(soapSearch),\n\t\tparent,\n\t\tisLink: parent?.isLink\n\t};\n\tsearches[search.id] = search;\n};\n\nconst processLink = (soapLink: SoapLink, depth: number, parent?: Folder): LinkFolder => {\n\tconst link = {\n\t\t...normalizeLink(soapLink, parent),\n\t\tisLink: true,\n\t\tchildren: [],\n\t\tparent,\n\t\tdepth\n\t} as LinkFolder;\n\t// eslint-disable-next-line no-param-reassign\n\tfolders[soapLink.id] = link;\n\tif (link.oname === ROOT_NAME) {\n\t\troots[link.owner ?? 'unknown'] = link;\n\t}\n\tsoapLink?.folder?.forEach((f) => {\n\t\tif (!hasId(f, IM_LOGS)) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-use-before-define\n\t\t\tconst child = processFolder(f, depth + 1, link);\n\t\t\tlink.children.push(child);\n\t\t}\n\t});\n\tsoapLink?.link?.forEach((l) => {\n\t\tif (!hasId(l, IM_LOGS)) {\n\t\t\tconst child = processLink(l, depth + 1, link);\n\t\t\tlink.children.push(child);\n\t\t}\n\t});\n\tsoapLink?.search?.forEach((s) => {\n\t\tprocessSearch(s, link);\n\t});\n\n\treturn link;\n};\n\nconst processFolder = (soapFolder: SoapFolder, depth: number, parent?: Folder): UserFolder => {\n\tconst folder: UserFolder = {\n\t\t...normalize(soapFolder, parent),\n\t\tisLink: false,\n\t\tchildren: [],\n\t\tparent,\n\t\tdepth\n\t};\n\tfolders[soapFolder.id] = folder;\n\tif (folder.name === ROOT_NAME) {\n\t\troots[DEFAULT_ROOT] = folder;\n\t}\n\tsoapFolder?.folder?.forEach((f) => {\n\t\tif (!hasId(f, IM_LOGS)) {\n\t\t\tconst child = processFolder(f, depth + 1, folder);\n\t\t\tfolder.children.push(child);\n\t\t}\n\t});\n\tsoapFolder?.link?.forEach((l) => {\n\t\tif (!hasId(l, IM_LOGS)) {\n\t\t\tconst child = processLink(l, depth + 1, folder);\n\t\t\tfolder.children.push(child);\n\t\t}\n\t});\n\tsoapFolder?.search?.forEach((s) => {\n\t\tprocessSearch(s, folder);\n\t});\n\treturn folder;\n};\n\nconst handleFolderRefresh = (soapFolders: Array<SoapFolder>): UserFolder =>\n\tprocessFolder(soapFolders[0], 0);\n\nexport const handleFolderCreated = (created: Array<SoapFolder>): void =>\n\tcreated.forEach((val: SoapFolder) => {\n\t\tif (val.id && val.l) {\n\t\t\tconst parent = folders[val.l];\n\t\t\tconst folder: UserFolder = {\n\t\t\t\t...normalize(val, parent),\n\t\t\t\tisLink: false,\n\t\t\t\tchildren: [],\n\t\t\t\tparent,\n\t\t\t\tdepth: parent?.depth ? parent.depth + 1 : 0\n\t\t\t};\n\t\t\tfolders[val.id] = folder;\n\t\t\tparent.children.push(folder);\n\t\t}\n\t});\nexport const handleLinkCreated = (created: Array<SoapLink>): void =>\n\tcreated.forEach((val: SoapLink) => {\n\t\tif (val.id && val.l) {\n\t\t\tconst parent = folders[val.l];\n\t\t\tconst folder: LinkFolder = {\n\t\t\t\t...normalizeLink(val, parent),\n\t\t\t\tisLink: true,\n\t\t\t\tchildren: [],\n\t\t\t\tparent,\n\t\t\t\tdepth: parent?.depth ? parent.depth + 1 : 0\n\t\t\t};\n\t\t\tfolders[val.id] = folder;\n\t\t\tparent.children.push(folder);\n\t\t}\n\t});\nexport const handleFolderModified = (modified: Array<Partial<UserFolder>>): void =>\n\tmodified.forEach((val: Partial<SoapFolder>): void => {\n\t\tif (val.id) {\n\t\t\tconst folder = folders[val.id];\n\t\t\tif (folder) {\n\t\t\t\tObject.assign(folder, omit(val));\n\t\t\t\tif (typeof val.f !== 'undefined') {\n\t\t\t\t\tfolder.checked = testFolderIsChecked({ string: val.f });\n\t\t\t\t}\n\t\t\t\tif (val.l) {\n\t\t\t\t\tconst oldParent = folders[val.id].parent;\n\t\t\t\t\tconst newParent = folders[val.l];\n\t\t\t\t\tif (oldParent) {\n\t\t\t\t\t\toldParent.children = oldParent.children.filter((f) => f.id !== val.id);\n\t\t\t\t\t\tnewParent.children.push(folder);\n\t\t\t\t\t}\n\t\t\t\t\tfolder.parent = newParent;\n\t\t\t\t}\n\t\t\t\tfolders[val.id] = folder;\n\t\t\t}\n\t\t}\n\t});\nexport const handleFolderDeleted = (deleted: string[]): void =>\n\tdeleted.forEach((val) => {\n\t\tconst folder = folders[val];\n\t\tif (folder) {\n\t\t\tif (folder.parent) {\n\t\t\t\tfolder.parent.children = folder.parent.children.filter((f) => f.id !== val);\n\t\t\t}\n\t\t\tdelete folders[val];\n\t\t\tdelete roots[val];\n\t\t\tdelete searches[val];\n\t\t}\n\t});\nexport const handleFolderNotify = (notify: SoapNotify): void => {\n\thandleFolderCreated(notify.created?.folder ?? []);\n\thandleLinkCreated(notify.created?.link ?? []);\n\thandleFolderModified(notify.modified?.folder ?? notify.modified?.link ?? []);\n\thandleFolderDeleted(notify.deleted ?? []);\n};\nonmessage = ({ data }: FolderMessage): void => {\n\tif (data.op === 'refresh' && data.folder) {\n\t\thandleFolderRefresh(data.folder);\n\t}\n\tif (data.op === 'notify') {\n\t\thandleFolderNotify(data.notify);\n\t}\n\tpostMessage({ folders, roots, searches });\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [530], () => (__webpack_require__(8087)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + \"da27f7fa\" + \".chunk.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/static/iris/carbonio-shell-ui/bffe48bfdd05ef35ddd484dcd16aa96833107898/\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t87: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunk_zextras_carbonio_shell_ui\"] = self[\"webpackChunk_zextras_carbonio_shell_ui\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["deferred","next","testFolderIsChecked","string","test","IM_LOGS","ROOT_NAME","folders","roots","searches","hasId","f","id","split","includes","normalize","p","uuid","name","absFolderPath","l","luuid","checked","color","rgb","u","i4u","view","rev","ms","md","n","i4n","s","i4ms","i4next","url","activesyncdisabled","webOfflineSyncDays","perm","recursive","rest","deletable","meta","acl","retentionPolicy","normalizeLink","owner","zid","rid","ruuid","oname","reminder","broken","processSearch","soapSearch","parent","search","query","sortBy","types","isLink","processLink","soapLink","depth","link","children","folder","forEach","child","processFolder","push","soapFolder","onmessage","data","soapFolders","notify","op","created","val","modified","Object","assign","omit","_1","_2","_3","obj","oldParent","newParent","filter","deleted","postMessage","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","x","__webpack_exports__","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","keys","every","key","splice","r","e","chunkId","Promise","all","reduce","promises","miniCssF","g","globalThis","this","Function","window","o","prop","prototype","hasOwnProperty","nmd","paths","installedChunks","importScripts","chunkLoadingGlobal","self","parentChunkLoadingFunction","bind","moreModules","runtime","pop","then"],"sourceRoot":""}