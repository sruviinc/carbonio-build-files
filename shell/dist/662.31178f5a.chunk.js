(self.webpackChunk_zextras_carbonio_shell_ui=self.webpackChunk_zextras_carbonio_shell_ui||[]).push([[662],{957:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DefaultViewsRegister:()=>Bi,default:()=>Di});var n={};a.r(n),a.d(n,{ACCOUNTS_APP_ID:()=>v,ACTION_TYPES:()=>E,BASENAME:()=>A,BASE_FONT_SIZE:()=>B,BOARD_CONTAINER_ZINDEX:()=>H,BOARD_HEADER_HEIGHT:()=>$,BOARD_MIN_VISIBILITY:()=>W,BOARD_TAB_WIDTH:()=>U,CUSTOM_EVENTS:()=>K,DARK_READER_PROP_KEY:()=>N,DARK_READER_VALUES:()=>S,DELEGATED_SEND_SAVE_TARGET:()=>q,EMAIL_VALIDATION_REGEX:()=>z,FOLDERS:()=>g,FOLDER_VIEW:()=>T,HEADER_BAR_HEIGHT:()=>G,IS_FOCUS_MODE:()=>k,JSNS:()=>Y,LOCAL_STORAGE_BOARD_SIZE:()=>P,LOCAL_STORAGE_LAST_PRIMARY_KEY:()=>M,LOCAL_STORAGE_SEARCH_KEY:()=>I,LOCAL_STORAGE_SETTINGS_KEY:()=>R,LOGIN_V3_CONFIG_PATH:()=>V,PRIMARY_BAR_WIDTH:()=>j,RESULT_LABEL_TYPE:()=>F,ROOT_NAME:()=>x,SCALING_LIMIT:()=>D,SCALING_OPTIONS:()=>O,SEARCH_APP_ID:()=>y,SENTRY_SHELL_DSN:()=>L,SETTINGS_APP_ID:()=>b,SHELL_APP_ID:()=>h,ZIMBRA_STANDARD_COLORS:()=>f,darkReaderDynamicThemeFixes:()=>w});var l={};a.r(l),a.d(l,{changeTagColor:()=>Wn,closeBoard:()=>tn,createTag:()=>$n,deleteTag:()=>Un,getAction:()=>Gn,getActionFactory:()=>jn,getActions:()=>Ln,getActionsFactory:()=>Fn,getAppDependantFunctions:()=>cl,getBoardById:()=>pn,getBoardContextById:()=>gn,getCurrentRoute:()=>Kn,getFolder:()=>Kt,getFolders:()=>Zt,getIntegratedComponent:()=>Nn,getIntegratedFunction:()=>Vn,getNotificationManager:()=>rl,getRoot:()=>Jt,getRootByUser:()=>aa,getRoots:()=>ea,getSearchFolder:()=>la,getSearchFolders:()=>ia,getTags:()=>da,getUserAccount:()=>se,getUserAccounts:()=>ce,getUserRight:()=>pe,getUserRights:()=>me,getUserSetting:()=>de,getUserSettings:()=>ue,goBackHistory:()=>tl,minimizeBoards:()=>ln,pushHistory:()=>Qn,renameTag:()=>Hn,reopenBoards:()=>rn,replaceHistory:()=>el,runSearch:()=>il,setCurrentBoard:()=>cn,updateBoard:()=>un,updateBoardContext:()=>dn,useAction:()=>Bn,useActionFactory:()=>Dn,useActions:()=>Pn,useActionsFactory:()=>On,useAuthenticated:()=>te,useBoard:()=>En,useBoardById:()=>mn,useBoardContextById:()=>fn,useBoardHooks:()=>yn,useCurrentRoute:()=>qn,useFolder:()=>qt,useFolders:()=>Yt,useFoldersAccordionByView:()=>sa,useFoldersByView:()=>oa,useGoBackHistoryCallback:()=>Jn,useIntegratedComponent:()=>In,useIntegratedFunction:()=>Mn,useIsMobile:()=>sl,useLocalStorage:()=>Ha,useNotify:()=>Vt,usePushHistoryCallback:()=>Zn,useRefresh:()=>Nt,useReplaceHistoryCallback:()=>Xn,useRoot:()=>Xt,useRootByUser:()=>ta,useRoots:()=>Qt,useSearchFolder:()=>na,useSearchFolders:()=>ra,useTags:()=>ua,useUserAccount:()=>ae,useUserAccounts:()=>ne,useUserRight:()=>re,useUserRights:()=>le,useUserSetting:()=>oe,useUserSettings:()=>ie});var r={};a.r(r),a.d(r,{getAppDependantSetters:()=>ul,registerActions:()=>kl,registerFunctions:()=>_l,removeActions:()=>Al,removeBoardView:()=>gl,removeComponents:()=>zl,removeFunctions:()=>Cl,removePrimaryAccessoryView:()=>yl,removeRoute:()=>fl,removeSearchView:()=>bl,removeSecondaryAccessoryView:()=>El,removeSettingsView:()=>hl,removeUtilityView:()=>vl,setRouteVisibility:()=>pl,updatePrimaryBadge:()=>dl,updateUtilityBadge:()=>ml,upsertApp:()=>wl});var i=a(679),o=a.n(i),s=a(5931),c=a(1517),u=a(5439),d=a(783),m=a(6428);const p=({children:e})=>{const t=(0,i.useCallback)((e=>{console.error(e)}),[]);return o().createElement(s.Catcher,{onError:t},e)},f=[{zValue:0,hex:"#000000",zLabel:"black"},{zValue:1,hex:"#2b73d2",zLabel:"blue"},{zValue:2,hex:"#29B6F6",zLabel:"cyan"},{zValue:3,hex:"#66BB6A",zLabel:"green"},{zValue:4,hex:"#7e57c2",zLabel:"purple"},{zValue:5,hex:"#ef5350",zLabel:"red"},{zValue:6,hex:"#ffc107",zLabel:"yellow"},{zValue:7,hex:"#edaeab",zLabel:"pink"},{zValue:8,hex:"#828282",zLabel:"gray"},{zValue:9,hex:"#FF7043",zLabel:"orange"}],g={USER_ROOT:"1",INBOX:"2",TRASH:"3",SPAM:"4",SENT:"5",DRAFTS:"6",CONTACTS:"7",TAGS:"8",CONVERSATIONS:"9",CALENDAR:"10",ROOT:"11",NOTEBOOK:"12",AUTO_CONTACTS:"13",IM_LOGS:"14",TASKS:"15",BRIEFCASE:"16",LAST_SYSTEM_FOLDER_POSITION:"16.1"},h="carbonio-shell-ui",b="settings",v="accounts",y="search",E={CONVERSATION:"conversation",CONVERSATION_lIST:"conversation_list",MESSAGE:"message",MESSAGE_lIST:"message_list",CONTACT:"contact",CONTACT_lIST:"contact_list",INVITE:"invite",INVITE_lIST:"invite_list",APPOINTMENT:"appointment",APPOINTMENT_lIST:"appointment_list",FOLDER:"folder",FOLDER_lIST:"folder_list",CALENDAR:"calendar",CALENDAR_lIST:"calendar_list",NEW:"new"},w={ignoreImageAnalysis:[".no-dr-invert *"],invert:[],css:"\n\t\t.tox, .force-white-bg, .tox-swatches-menu, .tox .tox-edit-area__iframe {\n\t\t\tbackground-color: #fff !important;\n\t\t\tbackground: #fff !important;\n\t\t}\n\t",ignoreInlineStyle:[".tox-menu *"],disableStyleSheetsProxy:!1},_="/carbonio/",C=`${_}focus-mode`,k=window.location.pathname.startsWith(C),A=k?C:_,z=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,x="USER_ROOT",S=["auto","enabled","disabled"],T={search_folder:"search folder",tag:"tag",conversation:"conversation",message:"message",contact:"contact",document:"document",appointment:"appointment",virtual_conversation:"virtual conversation",remote_folder:"remote folder",wiki:"wiki",task:"task",chat:"chat"},R="settings",M="config",I="search_suggestions",P="board_size",O=[{value:75,label:"xs"},{value:87.5,label:"s"},{value:100,label:"m"},{value:112.5,label:"l"},{value:125,label:"xl"}],B=100,D={width:1400,height:900,dpr:2},V="/zx/login/v3/config",N="zappDarkreaderMode",L="https://0ce2448c05b94f0182c47ae52c7ff52c@feedback.zextras.tools/6",F={normal:"normal",warning:"warning",error:"error"},G="3.75rem",j="3.0625rem",$="3rem",U="calc(3rem + 15ch)",H=10,W={top:50,left:30},q=["owner","sender","both","none"],K={updateView:"updateView"},Y={account:"urn:zimbraAccount",admin:"urn:zimbraAdmin",mail:"urn:zimbraMail",all:"urn:zimbra",sync:"urn:zimbraSync"};var Z=a(764),X=a(7042),J=a(1932),Q=a(1621);a(3619);const ee=(0,Q.vt)()((()=>({authenticated:!1,account:void 0,version:"",settings:{prefs:{},attrs:{},props:[]},usedQuota:0,lastNotificationTime:Date.now()}))),te=()=>ee((e=>e.authenticated)),ae=()=>ee((e=>e.account)),ne=()=>{const e=ee((e=>e.account));return(0,i.useMemo)((()=>e?[e]:[]),[e])},le=()=>ee((e=>e.account?.rights??{targets:[]})),re=e=>{const{targets:t}=le();return(0,i.useMemo)((()=>(0,m.find)(t,["right",e])?.target??[]),[e,t])},ie=()=>ee((e=>e.settings)),oe=(...e)=>ee((t=>(0,m.get)(t.settings,(0,m.join)(e,".")))),se=()=>ee.getState().account,ce=()=>{const{account:e}=ee.getState(),t=[];return e&&t.push(e),t},ue=()=>ee.getState().settings,de=(...e)=>(0,m.get)(ee.getState().settings,(0,m.join)(e,".")),me=()=>ee.getState().account?.rights??{targets:[]},pe=e=>(0,m.find)(me().targets,["right",e])?.target??[],{settings:fe}=ee.getState(),ge=fe?.prefs?.zimbraPrefLocale??fe?.attrs?.zimbraLocale??"en",he=Z.Ay.createInstance({lng:ge}),be={returnEmptyString:!0,returnNull:!1,compatibilityJSON:"v4",lng:ge,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},missingKeyHandler:(e,t,a)=>{console.warn(`Missing translation with key '${a}'`)},backend:{loadPath:"/static/iris/carbonio-shell-ui/bffe48bfdd05ef35ddd484dcd16aa96833107898//i18n/{{lng}}.json"}},ve=(0,Q.vt)()((e=>({instances:{},defaultI18n:he,locale:"en",setLocale:t=>{e((0,J.jM)((e=>{e.locale=t,(0,m.forEach)(e.instances,(e=>e.changeLanguage(t)))})))},addI18n:(t,a)=>{const n=(e=>[...e,{commit:"",description:"",js_entrypoint:"",name:h,priority:-1,version:"",type:"shell",attrKey:"",icon:"",display:"Shell"}])(t);e((0,J.jM)((e=>{e.instances=(0,m.reduce)(n,((e,t)=>{const n=Z.Ay.createInstance();return n.use(X.A).init({...be,lng:a,backend:{loadPath:t.name===h?"/static/iris/carbonio-shell-ui/bffe48bfdd05ef35ddd484dcd16aa96833107898//i18n/{{lng}}.json":`${(0,m.dropRight)(t.js_entrypoint.split("/")).join("/")}/i18n/{{lng}}.json`}}),e[t.name]=n,e}),{}),e.defaultI18n.t=e.instances[h].t,e.locale=a})))}})));he.use(X.A).use(c.initReactI18next).init(be);const ye=({pkg:e,children:t})=>{const{instances:a,defaultI18n:n}=ve.getState(),l=a[e]??a[h]??n;return o().createElement(c.I18nextProvider,{i18n:l},t)},Ee=({pkg:e,children:t})=>o().createElement(ye,{pkg:e},o().createElement(p,null,t)),we=()=>o().createElement("p",null,"Missing Component"),_e=e=>({show:e.show??!1,count:e.count??0,showCount:e.showCount??!1,color:e.color??"primary"}),Ce=(0,Q.vt)()(((e,t)=>({query:[],searchDisabled:!1,tooltip:void 0,setSearchDisabled:(t,a)=>e({searchDisabled:t,tooltip:a}),updateQuery:a=>e({query:(0,m.isFunction)(a)?a(t().query):a}),updateModule:t=>e({module:t})}))),ke="search_module",Ae=e=>{sessionStorage.setItem(ke,e),Ce.getState().updateModule(e)},ze=()=>{const{module:e}=Ce();return[e??sessionStorage.getItem(ke)??void 0,Ae]},xe="focus-mode";function Se(e,t,a){(0,m.some)(e,(e=>e.id===t.id))||(e.push(t),a?.(e,t))}function Te(e){e.sort(((e,t)=>e.position-t.position))}function Re(e,t){Se(e,t,Te)}function Me(e,t){const a=(0,m.findIndex)(e,(e=>e.id===t));-1!==a&&e.splice(a,1)}const Ie={focusMode:!1,apps:{},appContexts:{},shell:{commit:"",description:"",js_entrypoint:"",name:h,priority:-1,version:"",type:"shell",attrKey:"",icon:"",display:"Shell"},entryPoints:{},routes:{},views:{primaryBar:[],secondaryBar:[],appView:[],board:[],utilityBar:[],settings:[],search:[],primaryBarAccessories:[],secondaryBarAccessories:[]}},Pe=(0,Q.vt)()(((e,t)=>({...Ie,setApps:t=>{e((()=>{const{moduleApps:e,shellApp:a,appContexts:n}=(0,m.reduce)(t,((e,t)=>{if(t.name){const a=(e=>({commit:e.commit??"",description:e.description??"A carbonio Module",js_entrypoint:e.js_entrypoint??"",name:e.name??"module",priority:e.priority??99,version:e.version??"",type:e.type??"carbonio",attrKey:e.attrKey,icon:e.icon??"Cube",display:e.display??"Module",sentryDsn:e.sentryDsn}))(t);t.name!==h?e.moduleApps[t.name]=a:e.shellApp=a,e.appContexts[t.name]={}}return e}),{moduleApps:{},shellApp:{},appContexts:{}});return{apps:e,shell:a,appContexts:n}}))},upsertApp:t=>{e((0,J.jM)((e=>{e.apps[t.name]={...e.apps[t.name],...t}})))},setAppContext:t=>a=>{e((0,J.jM)((e=>{e.appContexts[t]=(0,m.merge)(e.appContexts[t],a)})))},addRoute:a=>{const{focusMode:n}=t();return!n||a.route===n&&a.focusMode?(e((0,J.jM)((e=>{e.routes[a.id]=a,a.primaryBar&&!a.focusMode&&Re(e.views.primaryBar,{app:a.app,id:a.id,route:a.route,component:a.primaryBar,badge:a.badge,position:a.position,visible:a.visible,label:a.label}),a.secondaryBar&&Se(e.views.secondaryBar,{app:a.app,id:a.id,route:a.route,component:a.secondaryBar}),a.appView&&Se(e.views.appView,{app:a.app,id:a.id,route:a.route,component:a.appView}),a.app&&e.apps[a.app]&&!0!==a.focusMode&&(e.apps[a.app].display=a.label)}))),a.id):xe},setRouteVisibility:(t,a)=>{e((0,J.jM)((e=>{const n=(0,m.findIndex)(e.views.primaryBar,(e=>e.id===t));n>=0&&(e.views.primaryBar[n].visible=a)})))},removeRoute:t=>{e((0,J.jM)((e=>{delete e.routes[t],Me(e.views.primaryBar,t),Me(e.views.secondaryBar,t),Me(e.views.appView,t)})))},addBoardView:t=>(e((0,J.jM)((e=>{Se(e.views.board,t)}))),t.id),removeBoardView:t=>{e((0,J.jM)((e=>{Me(e.views.board,t)})))},addSettingsView:a=>{const{focusMode:n}=t();return n&&a.route!==n?xe:(e((0,J.jM)((e=>{Re(e.views.settings,a)}))),a.id)},removeSettingsView:t=>{e((0,J.jM)((e=>{Me(e.views.settings,t)})))},addSearchView:a=>{const{focusMode:n,views:{search:l}}=t(),r=sessionStorage.getItem(ke)??void 0,i=Ce.getState().module;if(i!==r||void 0===i){const e=l.find((e=>e.route===i));(!e||a.position<e?.position||a.route===r)&&Ce.getState().updateModule(a.route)}return n&&a.route!==n?xe:(e((0,J.jM)((e=>{Re(e.views.search,a)}))),a.id)},removeSearchView:t=>{e((0,J.jM)((e=>{Me(e.views.search,t)})))},addUtilityView:t=>(e((0,J.jM)((e=>{Re(e.views.utilityBar,t)}))),t.id),removeUtilityView:t=>{e((0,J.jM)((e=>{Me(e.views.utilityBar,t)})))},addPrimaryAccessoryView:t=>(e((0,J.jM)((e=>{Re(e.views.primaryBarAccessories,t)}))),t.id),removePrimaryAccessoryView:t=>{e((0,J.jM)((e=>{Me(e.views.primaryBarAccessories,t)})))},addSecondaryAccessoryView:t=>(e((0,J.jM)((e=>{Re(e.views.secondaryBarAccessories,t)}))),t.id),removeSecondaryAccessoryView:t=>{e((0,J.jM)((e=>{Me(e.views.secondaryBarAccessories,t)})))},updatePrimaryBadge:(t,a)=>{e((0,J.jM)((e=>{const n=(0,m.findIndex)(e.views.primaryBar,(e=>e.id===a));n>=0&&(e.views.primaryBar[n].badge={...e.views.primaryBar[n].badge,...t})})))},updateUtilityBadge:(t,a)=>{e((0,J.jM)((e=>{const n=(0,m.findIndex)(e.views.utilityBar,(e=>e.id===a));n>=0&&(e.views.utilityBar[n].badge={...e.views.utilityBar[n].badge,...t})})))}}))),Oe=e=>()=>Pe((t=>t.apps[e])),Be=()=>{const e=Pe((e=>e.apps));return(0,i.useMemo)((()=>(0,m.sortBy)(e,(e=>e.priority))),[e])},De=e=>()=>Pe.getState().apps[e],Ve=e=>()=>Pe.getState().appContexts[e],Ne=()=>Pe.getState().routes,Le=()=>Pe((e=>e.routes)),Fe=({children:e,appId:t})=>o().createElement("div",{key:t,id:t},o().createElement(Ee,{key:t,pkg:t},e)),Ge=()=>{const e=Pe((e=>e.entryPoints)),t=(0,i.useMemo)((()=>(0,m.map)(e,((e,t)=>o().createElement(Fe,{key:t,appId:t},o().createElement(e,null))))),[e]);return o().createElement("div",{"data-testid":"app-mounter",key:"app-mounter",hidden:!0,style:{height:0,overflow:"hidden"}},t)},je=e=>{const{instances:t,defaultI18n:a}=ve.getState();return t[e]?.t??a.t},$e=()=>{const{instances:e,defaultI18n:t}=ve.getState();return e[h]?.t??t.t};var Ue=a(7233),He=a(5305),We=a(8548),qe=a(4819),Ke=a(350);function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ye.apply(null,arguments)}const Ze=()=>Ce((e=>[e.query,e.updateQuery])),Xe=()=>Ce((e=>[e.searchDisabled,e.setSearchDisabled])),Je=({label:e,labelType:t=F.normal})=>{const a=$e(),[n,l]=Ze(),[,r]=Xe(),c=(0,i.useCallback)((()=>{l([]),r(!1)}),[l,r]),u=(0,i.useMemo)((()=>{if(t===F.normal)return o().createElement(o().Fragment,null);const[e,a]=(e=>e===F.warning?["AlertTriangle","warning"]:e===F.error?["CloseSquare","error"]:["",""])(t);return o().createElement(s.Padding,{right:"small"},o().createElement(s.Icon,{icon:e,size:"large",color:a}))}),[t]),d=(0,i.useMemo)((()=>(0,m.map)(n,((e,t)=>o().createElement(s.Padding,{key:`${t}${e.label}`,all:"extrasmall"},o().createElement(s.Chip,Ye({},e,{background:"gray5"})))))),[n]);return o().createElement("div",{style:{display:"flex",width:"100%",maxHeight:"7.5rem"}},o().createElement(Ue.A,{container:!0,sx:{width:"100%",height:"100%"}},o().createElement(Ue.A,{size:8,sx:{padding:"16px"}},o().createElement("div",{style:{display:"flex",flexDirection:"row"}},u,o().createElement(He.A,{variant:"body1",style:{marginLeft:"8px"}},e),d)),o().createElement(Ue.A,{size:4,sx:{padding:"16px"}},o().createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},n?.length>0&&o().createElement(We.A,{onClick:c,variant:"contained",startIcon:o().createElement(qe.A,{style:{color:Ke.Tb}}),sx:{backgroundColor:Ke.kb,color:Ke.XW}},a("label.clear_search_query","CLEAR SEARCH")))),o().createElement(Ue.A,null,o().createElement(s.Divider,{color:"gray3"}))))},Qe=()=>{const e=Pe((e=>e.views.search)),[t]=ze(),a=(0,i.useMemo)((()=>e.find((e=>e.route===t))),[t,e]);return o().createElement(o().Fragment,null,a&&o().createElement(Ee,{pkg:a.app},o().createElement(a.component,{useQuery:Ze,ResultsHeader:Je,useDisableSearch:Xe})))};var et=a(7366),tt=a(362);function at(e){return`${e.getUTCFullYear()+(e.getUTCMonth()+1).toString().padStart(2,"0")+e.getUTCDate().toString().padStart(2,"0")+e.getUTCHours().toString().padStart(2,"0")+e.getUTCMinutes().toString().padStart(2,"0")+e.getUTCSeconds().toString().padStart(2,"0")}Z`}const nt=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},lt=e=>{const t=new Date(e);return t.setHours(23,59,59,0),t},rt=e=>[{id:"zh_CN",...tt.d.zh_CN,localName:e("locale.chinese_china","Chinese (China)"),label:e("locale.label_chinese",{value:tt.d.zh_CN.name,defaultValue:"Chinese (China) - {{value}}"})},{id:"nl",...tt.d.nl,localName:e("locale.dutch","Dutch"),label:e("locale.label_dutch",{value:tt.d.nl.name,defaultValue:"Dutch - {{value}}"})},{id:"en",...tt.d.en,localName:e("locale.English","English"),label:e("locale.label_english",{value:tt.d.en.name,defaultValue:"English - {{value}}"})},{id:"de",...tt.d.de,localName:e("locale.german","German"),label:e("locale.label_german",{value:tt.d.de.name,defaultValue:"German - {{value}}"})},{id:"hi",...tt.d.hi,localName:e("locale.hindi","Hindi"),label:e("locale.label_hindi",{value:tt.d.hi.name,defaultValue:"Hindi - {{value}}"})},{id:"it",...tt.d.it,localName:e("locale.italian","Italian"),label:e("locale.label_italian",{value:tt.d.it.name,defaultValue:"Italian - {{value}}"})},{id:"ja",...tt.d.ja,localName:e("locale.japanese","Japanese"),label:e("locale.label_japanese",{value:tt.d.ja.name,defaultValue:"Japanese - {{value}}"})},{id:"pt",...tt.d.pt,localName:e("locale.portuguese","Portuguese"),label:e("locale.label_portuguese",{value:tt.d.pt.name,defaultValue:"Portuguese - {{value}}"})},{id:"pl",...tt.d.pl,localName:e("locale.polish","Polish"),label:e("locale.label_polish",{value:tt.d.pl.name,defaultValue:"Polish - {{value}}"})},{id:"pt_BR",...tt.d.pt_BR,localName:e("locale.portuguese_brazil","Portuguese (Brazil)"),label:e("locale.label_portuguese_brazil",{value:tt.d.pt_BR.name,defaultValue:"Portuguese - {{value}}"})},{id:"ro",...tt.d.ro,localName:e("locale.romanian","Romanian"),label:e("locale.label_romanian",{value:tt.d.ro.name,defaultValue:"Romanian - {{value}}"})},{id:"ru",...tt.d.ru,localName:e("locale.russian","Russian"),label:e("locale.label_russian",{value:tt.d.ru.name,defaultValue:"Russian - {{value}}"})},{id:"es",...tt.d.es,localName:e("locale.spanish","Spanish"),label:e("locale.label_spanish",{value:tt.d.es.name,defaultValue:"Spanish - {{value}}"})},{id:"th",...tt.d.th,localName:e("locale.thai","Thai"),label:e("locale.label_thai",{value:tt.d.th.name,defaultValue:"Thai - {{value}}"})},{id:"tr",...tt.d.tr,localName:e("locale.turkish","Turkish"),label:e("locale.label_turkish",{value:tt.d.tr.name,defaultValue:"Turkish - {{value}}"})},{id:"fr",...tt.d.fr,localName:e("locale.french","French"),label:e("locale.label_french",{value:tt.d.fr.name,defaultValue:"French - {{value}}"})},{id:"vi",...tt.d.vi,localName:e("locale.vietnamese","Vietnamese"),label:e("locale.label_vietnamese",{value:tt.d.vi.name,defaultValue:"Vietnamese - {{value}}"})}];function it(e){return(t,a)=>{void 0===a?e("prefs",t,""):(0,m.isBoolean)(a)?e("prefs",t,a?"TRUE":"FALSE"):e("prefs",t,a)}}function ot(e){return"DEFAULT"===e.name}var st=a(3963),ct=a(4695);const ut=(0,et.default)(s.ListV2).withConfig({displayName:"accounts-list__List",componentId:"sc-bwoixl-0"})(["flex-shrink:0;"]);function dt(e,t,a){const n=a("settings.account.new_identity",{defaultValue:"New Persona {{number}}",number:e});return t.includes(n)?dt(e+1,t,a):n}const mt=({accountName:e,selectedIdentityId:t,identities:a,identitiesDefault:n,setSelectedIdentityId:l,removeIdentity:r,addIdentity:u})=>{const[d]=(0,c.useTranslation)(),p=(0,s.useModal)(),f=(0,i.useRef)(0),g=(0,i.useCallback)((()=>{const e=dt(1,(0,m.map)([...n,...a],(e=>e._attrs?.zimbraPrefIdentityName??"")),d);u(`${f.current}`,{zimbraPrefIdentityName:e,zimbraPrefFromDisplay:a[0]._attrs?.zimbraPrefFromDisplay,zimbraPrefFromAddress:a[0]._attrs?.zimbraPrefFromAddress,zimbraPrefFromAddressType:"sendAs",zimbraPrefReplyToEnabled:"FALSE"}),f.current+=1,l(a.length)}),[n,a,u,l,d]),h=(0,i.useCallback)((()=>{r(a[t].id),l(t-1)}),[a,r,t,l]),b=(0,i.useCallback)((()=>{const e=p({title:d("label.permanent_delete_title","Are you sure to permanently delete this Persona?"),onConfirm:()=>{h(),e()},confirmLabel:d("label.delete_permanently","Delete permanently"),confirmColor:"error",showCloseIcon:!0,onClose:()=>e(),children:o().createElement(s.Padding,{all:"small"},o().createElement(s.Text,{overflow:"break-word"},d("messages.permanent_delete_body","If you permanently delete this Persona you will not be able to recover it. Continue?")))})}),[p,d,h]),v=(0,i.useMemo)((()=>(0,m.map)(a,((a,n)=>o().createElement(s.ListItem,{key:a.id,active:t===n},(()=>o().createElement(o().Fragment,null,o().createElement(s.Container,{role:"listitem","data-testid":`account-list-item-${a._attrs?.zimbraPrefIdentityId}`,onClick:()=>{l(n)},orientation:"horizontal",mainAlignment:"flex-start",padding:{all:"small"}},o().createElement(s.Row,{width:"fill",mainAlignment:"space-between"},o().createElement(s.Container,{orientation:"horizontal",mainAlignment:"flex-start",width:"fit"},o().createElement(s.Padding,{right:"small"},o().createElement(s.Icon,{icon:"CheckmarkCircle2Outline",size:"large",color:"primary"})),o().createElement(s.Padding,{right:"small"},o().createElement(s.Text,{weight:"regular",size:"small"},a._attrs?.zimbraPrefIdentityName)),o().createElement(s.Padding,{right:"small"},o().createElement(s.Text,{weight:"regular",size:"small",color:"secondary"},"(",ot(a)?e:a._attrs?.zimbraPrefFromAddress,")"))),o().createElement(s.Container,{width:"fit",mainAlignment:"flex-end"},o().createElement(s.Text,{weight:"regular",size:"small"},ot(a)?d("label.primary","Primary"):d("label.persona","Persona"))))),o().createElement(s.Divider,null))))))),[e,a,t,l,d]);return o().createElement(o().Fragment,null,o().createElement(s.Container,{minWidth:"calc(min(100%, 32rem))",width:"fill",padding:{all:"large"},height:"fit",background:Ke.l7,mainAlignment:"flex-start"},o().createElement(s.Padding,{horizontal:"medium",bottom:"large",width:"100%"},o().createElement(s.Text,{weight:"bold"},d("label.accounts_list","Accounts list"))),o().createElement(ut,null,v)),o().createElement(s.Row,{padding:{horizontal:"large",bottom:"large"},width:"fill",mainAlignment:"flex-start",background:Ke.l7},o().createElement(We.A,{variant:"contained",size:"medium",onClick:g,style:{backgroundColor:Ke.kb,color:Ke.XW},startIcon:o().createElement(ct.A,{style:{color:Ke.Tb}})},d("label.add_persona","Add persona")),o().createElement(We.A,{disabled:ot(a[t]),variant:"contained",size:"medium",onClick:b,style:{backgroundColor:ot(a[t])?Ke.d3:Ke.g4,color:Ke.sH,marginLeft:"16px"},startIcon:o().createElement(st.A,{style:{color:Ke.WR}})},d("label.delete","Delete"))),o().createElement(s.Padding,{bottom:"large"}))};var pt=a(2891);const ft=({identityAttrs:e,updateIdentities:t})=>{const[a]=(0,c.useTranslation)(),[n,l]=(0,i.useState)(e.zimbraPrefIdentityName),r=(0,i.useMemo)((()=>a("label.persona_name","Persona Name")),[a]);(0,i.useEffect)((()=>{l(e.zimbraPrefIdentityName)}),[e.zimbraPrefIdentityName]);const u=(0,i.useCallback)((a=>{l(a.target.value),e.zimbraPrefIdentityId&&t(e.zimbraPrefIdentityId,"zimbraPrefIdentityName",a.target.value)}),[e.zimbraPrefIdentityId,t]);return o().createElement(o().Fragment,null,o().createElement(s.Container,{minWidth:"calc(min(100%, 32rem))",width:"fill",padding:{all:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(s.Padding,{horizontal:"medium",width:"100%"},o().createElement(s.Text,{weight:"bold"},a("label.persona_settings","Persona Settings")))),o().createElement(s.Row,{width:"fill",padding:{horizontal:"large",bottom:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(s.Row,{orientation:"vertical",mainAlignment:"flex-start",width:"fill"},o().createElement(s.Row,{orientation:"horizontal",width:"100%",mainAlignment:"flex-start"},o().createElement(s.Text,{color:"secondary"},a("label.use_personas_line1","Use personas to quickly change many settings when sending e-mail messages."))),o().createElement(s.Row,{orientation:"horizontal",width:"100%",mainAlignment:"flex-start"},o().createElement(s.Text,{color:"secondary"},a("label.use_personas_line2","For example, if you sometimes send e-mails in a particular role at work, create a persona for that."))))),o().createElement(s.Row,{width:"fill",padding:{horizontal:"large",bottom:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(s.Row,{takeAvailableSpace:!0},o().createElement(pt.A,{fullWidth:!0,variant:"outlined",value:n,label:r,onChange:u}))),o().createElement(s.Padding,{bottom:"large"}))},gt=({account:e,identity:t,updateIdentities:a})=>{const[n]=(0,c.useTranslation)(),l=(0,i.useMemo)((()=>n("label.email_address","E-mail address")),[n]),[r,u]=(0,i.useState)(t?._attrs?.zimbraPrefIdentityName);(0,i.useEffect)((()=>u(t._attrs?.zimbraPrefIdentityName)),[t._attrs?.zimbraPrefIdentityName]);const d=(0,i.useMemo)((()=>n("label.account_name","Account Name")),[n]),m=(0,i.useCallback)((()=>null),[]),p=(0,i.useCallback)((e=>{u(e.target.value),a(t.id,"zimbraPrefIdentityName",e.target.value)}),[t.id,a]);return o().createElement(o().Fragment,null,o().createElement(s.Container,{minWidth:"calc(min(100%, 32rem))",width:"fill",padding:{all:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(s.Padding,{horizontal:"medium",width:"100%"},o().createElement(s.Text,{weight:"bold"},n("primary_account.title","Primary Account Settings")))),o().createElement(s.Row,{width:"fill",padding:{horizontal:"large",bottom:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(s.Row,{width:"50%",padding:{right:"small"}},o().createElement(pt.A,{fullWidth:!0,variant:"outlined",size:"medium",label:l,value:e.name||" ",onChange:m})),o().createElement(s.Row,{width:"50%"},o().createElement(pt.A,{fullWidth:!0,variant:"outlined",size:"medium",label:d,value:r,onChange:p}))),o().createElement(s.Padding,{bottom:"large"}))},ht={label:"",value:""},bt=({identityAttrs:e,updateIdentities:t,availableEmailAddresses:a})=>{const[n]=(0,c.useTranslation)(),l=(0,i.useMemo)((()=>n("label.settings_sent_messages","Settings for Sent Messages")),[n]),[r,u]=(0,i.useState)("TRUE"===e.zimbraPrefReplyToEnabled),[d,p]=(0,i.useState)(e.zimbraPrefReplyToAddress||""),[f,g]=(0,i.useState)(!1),[h,b]=(0,i.useState)(e.zimbraPrefFromDisplay||""),[v,y]=(0,i.useState)(e.zimbraPrefReplyToDisplay||""),E=(0,i.useMemo)((()=>a?a.map((e=>({value:e,label:e}))):[ht]),[a]),[w,_]=(0,i.useState)((()=>(0,m.find)(E,(t=>t.value===e.zimbraPrefFromAddress))??ht));(0,i.useEffect)((()=>{u("TRUE"===e.zimbraPrefReplyToEnabled)}),[e.zimbraPrefReplyToEnabled]),(0,i.useEffect)((()=>{b(e.zimbraPrefFromDisplay||"")}),[e.zimbraPrefFromDisplay]),(0,i.useEffect)((()=>{_((0,m.find)(E,(t=>t.value===e.zimbraPrefFromAddress))??ht)}),[E,e.zimbraPrefFromAddress]),(0,i.useEffect)((()=>{y(e.zimbraPrefReplyToDisplay??"")}),[e.zimbraPrefReplyToDisplay]),(0,i.useEffect)((()=>{p(e.zimbraPrefReplyToAddress||"")}),[e.zimbraPrefReplyToAddress]);const C=(0,i.useCallback)((()=>{u((a=>{const n=!a;return e.zimbraPrefIdentityId&&t(e.zimbraPrefIdentityId,"zimbraPrefReplyToEnabled",a?"FALSE":"TRUE"),n}))}),[e.zimbraPrefIdentityId,t]),k=(0,i.useMemo)((()=>n("label.from_name",'From: "Name"')),[n]),A=(0,i.useMemo)((()=>n("label.address","Address")),[n]),x=(0,i.useCallback)((a=>{a&&w?.value!==a&&(_((0,m.filter)(E,(e=>e.value===a))[0]),e.zimbraPrefIdentityId&&t(e.zimbraPrefIdentityId,"zimbraPrefFromAddress",a))}),[w?.value,E,e.zimbraPrefIdentityId,t]),S=n("label.set_reply_to_field",'Set the "Reply-to" field of e-mail message to:'),T=(0,i.useMemo)((()=>n("label.reply_to_field_example","e.g. Bob Smith")),[n]),R=(0,i.useCallback)((a=>{y(a.target.value),e.zimbraPrefIdentityId&&t(e.zimbraPrefIdentityId,"zimbraPrefReplyToDisplay",a.target.value)}),[e.zimbraPrefIdentityId,t]),M=(0,i.useMemo)((()=>n("label.choose_account","Choose an account")),[n]),I=(0,i.useCallback)((a=>{p(a),e.zimbraPrefIdentityId&&t(e.zimbraPrefIdentityId,"zimbraPrefReplyToAddress",a)}),[t,e.zimbraPrefIdentityId]),P=(0,i.useMemo)((()=>[{id:"0",label:e.zimbraPrefFromAddress??"",onClick:()=>I(e.zimbraPrefFromAddress??"")}]),[e.zimbraPrefFromAddress,I]),O=(0,i.useMemo)((()=>r&&!z.test(d||"")),[r,d]);return o().createElement(o().Fragment,null,o().createElement(s.Container,{minWidth:"calc(min(100%, 32rem))",width:"fill",padding:{all:"large"},height:"fit",background:Ke.l7,mainAlignment:"flex-start"},o().createElement(s.Padding,{horizontal:"medium",width:"100%"},o().createElement(s.Text,{weight:"bold"},l))),o().createElement(s.Row,{width:"fill",padding:{horizontal:"large",bottom:"large"},height:"fit",background:Ke.l7,mainAlignment:"flex-start"},o().createElement(s.Row,{width:"50%",padding:{right:"small"}},o().createElement(pt.A,{fullWidth:!0,label:k,value:h,onChange:a=>{b(a.target.value),e.zimbraPrefIdentityId&&t(e.zimbraPrefIdentityId,"zimbraPrefFromDisplay",a.target.value)}})),o().createElement(s.Row,{width:"50%"},o().createElement(s.Select,{label:A,selection:w,items:E,showCheckbox:!1,background:Ke.X9,onChange:x,style:{width:"100%",border:"1px solid lightgray"}}))),o().createElement(s.Row,{width:"fill",background:"gray6",mainAlignment:"flex-start",padding:{horizontal:"large",bottom:"large"}},o().createElement(s.Checkbox,{label:S,value:r,onClick:C})),o().createElement(s.Row,{width:"fill",padding:{horizontal:"large",bottom:"large"},height:"fit",background:Ke.l7,mainAlignment:"flex-start"},o().createElement(s.Row,{width:"50%",padding:{right:"small"}},o().createElement(pt.A,{fullWidth:!0,label:T,value:v,onChange:R})),o().createElement(s.Row,{width:"50%"},o().createElement(s.Dropdown,{items:P,placement:"bottom-start",style:{flexGrow:"1"},onClose:()=>g(!1),onOpen:()=>g(!0),disabled:!r},o().createElement(s.Input,{label:M,value:d,onChange:e=>I(e.target.value),hasError:O,CustomIcon:()=>o().createElement(s.Icon,{icon:f?"ArrowUp":"ArrowDown"}),disabled:!r})))),o().createElement(s.Padding,{bottom:"large"}))},vt=({children:e,when:t,onSave:a,dataHasError:n=!1})=>{const l=(0,u.W6)(),r=(0,i.useMemo)((()=>l.location),[l]),[c,d]=(0,i.useState)(!1),p=(0,i.useRef)(r),f=(0,i.useRef)(!1),g=$e(),h=(0,i.useCallback)((()=>{d(!1),f.current=!1}),[]),b=(0,i.useCallback)((()=>{f.current=!0,p.current&&l.push(p.current)}),[l]),v=(0,i.useCallback)((e=>!(!f.current&&`${e.pathname}${e.search||""}`!=`${l.location.pathname}${l.location.search}`&&(d(!0),p.current=e,1))),[l.location.pathname,l.location.search]),y=(0,i.useCallback)((()=>{a().then((e=>{const t=(0,m.filter)(e,(e=>"rejected"===e.status));t.length>0?(console.error(t),h()):(d(!1),b())})).catch((e=>{console.error(e),h()}))}),[h,b,a]),E=(0,i.useCallback)((()=>{d(!1),b()}),[b]);return o().createElement(o().Fragment,null,o().createElement(u.XG,{when:t,message:v}),o().createElement(s.Modal,{showCloseIcon:!0,closeIconTooltip:g("label.close","Close"),open:c,title:n?g("label.cannot_save_changes","Some changes cannot be saved"):g("label.unsaved_changes","You have unsaved changes"),onClose:h,onConfirm:n?E:y,confirmLabel:n?g("label.leave_anyway","Leave anyway"):g("label.save_and_leave","Save and leave"),onSecondaryAction:n?h:E,secondaryActionLabel:n?g("label.cancel","Cancel"):g("label.leave_anyway","Leave anyway"),optionalFooter:n?void 0:o().createElement(s.Button,{color:"secondary",type:"outlined",label:g("label.cancel","Cancel"),onClick:h})},e))};var yt=a(3517),Et=a(6467);const wt=(0,et.default)(s.Breadcrumbs).withConfig({displayName:"settings-header__CustomBreadcrumbs",componentId:"sc-147sgu6-0"})([".breadcrumbCrumb{cursor:default;}"]),_t=({onSave:e,onCancel:t,isDirty:a,title:n})=>{const l=$e(),r=(0,u.W6)(),c=(0,u.g)(),d=(0,i.useMemo)((()=>[{id:"settings",label:l("settings.app","Settings"),className:"breadcrumbCrumb"},{id:"general",label:n,className:"breadcrumbCrumb"}]),[l,n]),m=r.location?.search;return(0,i.useEffect)((()=>{m&&setTimeout((()=>document.querySelector(`#${r.location.search}`.replace("?section=",""))?.scrollIntoView()),1)}),[r,r.location,r.location.search,m,c]),o().createElement(o().Fragment,null,o().createElement(vt,{when:a,onSave:e},o().createElement(s.Text,null,l("label.unsaved_changes_line1","Are you sure you want to leave this page without saving?")),o().createElement(s.Text,null,l("label.unsaved_changes_line2","All your unsaved changes will be lost"))),o().createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",flexDirection:"row",backgroundColor:Ke.l7}},o().createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px"}},o().createElement("div",{style:{marginLeft:"8px"}},o().createElement(wt,{crumbs:d})),o().createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",marginRight:"8px"}},o().createElement(We.A,{variant:"contained",size:"medium",onClick:t,disabled:!a,style:{backgroundColor:a?Ke.d3:Ke.g4,color:Ke.sH,marginRight:"8px"},startIcon:o().createElement(yt.A,{style:{color:Ke.WR}})},l("label.discard_changes","DISCARD")),o().createElement(We.A,{variant:"contained",size:"medium",onClick:e,disabled:!a,style:{backgroundColor:a?Ke.kb:Ke.d6,color:Ke.XW},startIcon:o().createElement(Et.A,{style:{color:Ke.Tb}})},l("label.save","Save"))))),o().createElement(s.Divider,null))};var Ct=a(4221),kt=a.n(Ct);const{os:At,browser:zt}=kt()(),xt=`CarbonioWebClient - ${zt.name} ${zt.version} (${At.name})`;function St(){window.location.assign(`${window.location.origin}/static/login`)}var Tt=a(1020),Rt=a(3812),Mt=a(7230),It=a(7881),Pt=a(6126);const Ot=(0,Q.vt)()((e=>({clients:{[h]:new Tt.YZ(new Rt.y({transport:Mt._,stackParser:It.lG,integrations:Pt.xg,dsn:L,release:"0",maxValueLength:500}))},setClients:t=>{e((e=>({clients:(0,m.reduce)(t,((t,a)=>(a.sentryDsn&&(e.clients[a.name]=new Tt.YZ(new Rt.y({transport:Mt._,stackParser:It.lG,integrations:Pt.xg,dsn:a.sentryDsn,release:a.version,maxValueLength:500}))),t)),e.clients)})))}}))),Bt=e=>(t,a)=>{const n=Ot.getState(),l=n.clients[e]?.captureException(t,{...a});return l&&console.info("Reported event ",l),l},Dt=(0,Q.vt)()((()=>({pollingInterval:3e4,seq:0}))),Vt=()=>Dt((e=>e.notify??[])),Nt=()=>Dt((e=>e.refresh??{}));a(8608),a(9727),a(3717);const Lt=new Worker(new URL(a.p+a.u(61),a.b)),Ft=new Worker(new URL(a.p+a.u(87),a.b)),Gt=(0,Q.vt)()((()=>({folders:{},roots:{},searches:{}})));Ft.onmessage=({data:e})=>{Gt.setState(e)};const jt=e=>{const t=(e=>{const t=e.id.split(":");return t[1]??t[0]})(e);return t===g.TRASH?g.LAST_SYSTEM_FOLDER_POSITION:parseInt(t,10)<17?`   ${t}`:e.name.toLowerCase()},$t=e=>e.id===g.USER_ROOT||e.oname===x,Ut=e=>t=>a=>a.view===e||!t||void 0===a.view&&!$t(a),Ht=(e,t,a,n)=>(a?(0,m.sortBy)(e,a):e).filter(t(n)).map((e=>({...e,children:Ht(e.children,t,a,!0)}))),Wt=(e,{mapFunction:t,filterFunction:a,recursionKey:n,sortFunction:l,deep:r})=>(0,m.sortBy)(e,l).reduce(((e,i)=>(a(r)(i)&&e.push({...t(i),[n]:Wt(i.children,{mapFunction:t,filterFunction:a,recursionKey:n,sortFunction:l,deep:!0})}),e)),[]),qt=e=>Gt((t=>t.folders?.[e])),Kt=e=>Gt.getState()?.folders?.[e],Yt=()=>Gt((e=>e.folders)),Zt=()=>Gt.getState().folders,Xt=e=>Gt((t=>t.roots?.[e])),Jt=e=>Gt.getState().roots?.[e],Qt=()=>Gt((e=>e.roots)),ea=()=>Gt.getState().roots,ta=e=>Gt((t=>t.roots?t.roots[e]:{})),aa=e=>{const t=Gt.getState();return t.roots?t.roots[e]:{}},na=e=>Gt((t=>t.searches?.[e])),la=e=>Gt.getState().searches[e],ra=()=>Gt((e=>e.searches)),ia=()=>Gt.getState().searches,oa=e=>{const t=Qt();return(0,i.useMemo)((()=>t?Ht(Object.values(t),Ut(e),jt):[]),[t,e])},sa=(e,t,a)=>{const n=Qt();return(0,i.useMemo)((()=>n?Wt(Object.values(n),{mapFunction:e=>{const n={id:e.id,label:e.name,CustomComponent:t,items:[],folder:e,disableHover:$t(e)},l=a?.(n)??{};return{...n,...l}},filterFunction:Ut(e),recursionKey:"items",sortFunction:jt,deep:!1}):[]),[t,a,n,e])},ca=(0,Q.vt)()((()=>({tags:{}})));Lt.onmessage=({data:e})=>{ca.setState(e)};const ua=e=>ca((t=>e?(0,m.pick)(t.tags,e):t.tags)),da=e=>e?(0,m.pick)(ca.getState().tags,e):ca.getState().tags,ma=e=>{const t=e.prefs?.zimbraPrefMailPollingInterval??"";if("500"===t)return 500;const a=parseInt(t,10);return Number.isNaN(a)?3e4:t.includes("m")?60*a*1e3:1e3*a},pa=()=>{va(h)("NoOp",500===Dt.getState().pollingInterval?{_jsns:Y.mail,limitToOneBlocked:1,wait:1}:{_jsns:Y.mail})},fa=(e,t)=>{if(t)return{by:"name",_content:t};if(e){if(e.name)return{by:"name",_content:e.name};if(e.id)return{by:"id",_content:e.id}}},ga=(e,t)=>{if(t)return`<account by="name">${t}</account>`;if(e){if(e.name)return`<account by="name">${e.name}</account>`;if(e.id)return`<account by="id">${e.id}</account>`}return""},ha=()=>{const e=Dt.getState().session?.id;return e?`<session id="${e}"/>`:""},ba=(e,t)=>{const{noOpTimeout:a}=Dt.getState(),{usedQuota:n}=ee.getState();if(clearTimeout(a),t.Body.Fault&&((0,m.find)(["service.AUTH_REQUIRED","service.AUTH_EXPIRED"],(e=>e===t.Body.Fault.Detail?.Error?.Code))&&(k?ee.setState({authenticated:!1}):St()),console.error(new Error(`${t.Body.Fault.Detail?.Error?.Detail}: ${t.Body.Fault.Reason?.Text}`))),t.Header?.context){const e=t.Header.context?.refresh?.mbx?.[0]?.s??t.Header.context?.notify?.[0]?.modified?.mbx?.[0]?.s,a=(({notify:e,...t})=>{const a={...t,notify:[]};return e&&(a.notify=(0,m.map)(e,(e=>({...e,deleted:e.deleted?.id?.split(",")??[]})))),a})(t.Header.context),l=(0,m.maxBy)(a.notify,"seq")?.seq??0;(({refresh:e,notify:t})=>{new Promise((a=>{const{seq:n}=Dt.getState();e&&(Lt.postMessage({op:"refresh",tags:e.tags}),Ft.postMessage({op:"refresh",folder:e.folder??[]})),t?.length&&(0,m.forEach)(t,(e=>{e.seq>n&&(Lt.postMessage({op:"notify",notify:e,state:ca.getState().tags}),Ft.postMessage({op:"notify",notify:e,state:Gt.getState().folders}))})),a()}))})(a),ee.setState({usedQuota:e??n});const r=(e=>{const{pollingInterval:t}=Dt.getState(),{settings:a}=ee.getState(),n=e.Body&&!("Fault"in e.Body)&&e.Body.waitDisallowed,l=e.Body&&"Fault"in e.Body&&e.Body.Fault;return l?6e4:n?1e4:l?t:ma(a)})(t);Dt.setState({noOpTimeout:setTimeout((()=>pa()),r),pollingInterval:r,seq:l,...a})}return t?.Body?.Fault?t.Body:t.Body[`${e}Response`]},va=e=>(t,a,n,l)=>{const{zimbraVersion:r,account:i}=ee.getState(),{notify:o,session:s}=Dt.getState();return fetch(`/service/soap/${t}Request`,{signal:l,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Body:{[`${t}Request`]:a},Header:{context:{_jsns:Y.all,notify:o?.[0]?.seq?{seq:o?.[0]?.seq}:void 0,session:s??{},account:fa(i,n),userAgent:{name:xt,version:r}}}})}).then((e=>e?.json())).then((e=>ba(t,e))).catch((t=>{throw Bt(e)(t),t}))},ya=e=>(t,a,n)=>{const{zimbraVersion:l,account:r}=ee.getState();return fetch(`/service/soap/${t}Request`,{method:"POST",headers:{"content-type":"application/soap+xml"},body:`<?xml version="1.0" encoding="utf-8"?>\n\t\t<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">\n\t\t\t<soap:Header><context xmlns="urn:zimbra"><userAgent name="${xt}" version="${l}"/>${ha()}${ga(r,n)}<format type="js"/></context></soap:Header>\n\t\t\t<soap:Body>${a}</soap:Body>\n\t\t</soap:Envelope>`}).then((e=>e?.json())).then((e=>ba(t,e))).catch((t=>{throw Bt(e)(t),t}))};va(h);const Ea=()=>{const[e]=(0,c.useTranslation)(),t=(0,s.useSnackbar)(),a=ae(),n=ie(),l=(0,i.useRef)({}),r=(0,i.useRef)([]),u=(0,i.useRef)({}),[d,p]=(0,i.useState)(!1),f=(0,i.useCallback)((()=>{p(!(0,m.isEmpty)(l.current)||!(0,m.isEmpty)(r.current)||!(0,m.isEmpty)(u.current))}),[]),g=(0,i.useCallback)((()=>{l.current={},r.current=[],u.current={},f()}),[f]),[b,v]=(0,i.useState)(0),y=(0,i.useMemo)((()=>function(e){const t=e.findIndex(ot),a=(0,m.cloneDeep)(e),n=a.splice(t,1);return a.unshift(n[0]),a}(a.identities.identity)),[a.identities.identity]),[E,w]=(0,i.useState)(y),_=n.attrs.zimbraIdentityMaxNumEntries||0,C=(0,i.useCallback)(((e,t)=>{l.current[e]=t,f(),w((a=>[...a,{id:e,name:t.zimbraPrefIdentityName,_attrs:{...t,zimbraPrefIdentityId:e}}]))}),[f]),k=(0,i.useCallback)(((e,t,a)=>{if(l.current[e])l.current[e][t]=a;else if(u.current[e]){const n=(0,m.find)(y,(t=>t.id===e));u.current[e][t]=a,n&&n._attrs[t]===a&&delete u.current[e][t],0===(0,m.size)(u.current[e])&&delete u.current[e]}else u.current[e]={[t]:a};f(),w((n=>(0,m.map)(n,(n=>n.id===e?{...n,_attrs:{...n._attrs,[t]:a}}:n))))}),[f,y]),A=(0,i.useCallback)((e=>{l.current[e]?delete l.current[e]:(r.current=[...r.current,e],delete u.current[e]),f(),w((t=>(0,m.filter)(t,(t=>t.id!==e))))}),[f]);(0,i.useEffect)((()=>{w(y),g()}),[y,g]);const z=(0,i.useCallback)((()=>{if(y.length+(0,m.size)(l.current)-r.current.length>_)return t({key:"new",replace:!0,type:"error",label:e("message.snackbar.identities_quota_exceeded","The identity could not be created because you have exceeded your identity quota"),autoHideTimeout:5e3,hideButton:!0}),Promise.allSettled([Promise.reject(new Error("The identity could not be created because you have exceeded your identity quota"))]);const a=(n=l.current,(0,m.map)(n,(e=>({_jsns:Y.account,identity:{name:e.zimbraPrefIdentityName,_attrs:{...e,zimbraPrefFromAddressType:e.zimbraPrefFromAddressType||"sendAs"}}}))));var n;const i=(o=r.current,(0,m.map)(o,((e,t)=>({_jsns:Y.account,identity:{id:e},requestId:t.toString()}))));var o;const s=(c=u.current,(0,m.map)(c,((e,t)=>({_jsns:Y.account,identity:{id:t,_attrs:e}}))));var c;const d=va(h)("Batch",{_jsns:Y.all,DeleteIdentityRequest:i.length>0?i:void 0,CreateIdentityRequest:a.length>0?a:void 0,ModifyIdentityRequest:s.length>0?s:void 0}).then((a=>{t({key:"new",replace:!0,type:"info",label:e("message.snackbar.settings_saved","Edits saved correctly"),autoHideTimeout:3e3,hideButton:!0}),ee.setState((0,J.jM)((e=>{e.account&&(e.account.identities.identity=function(e,t,a,n){const l=(0,m.filter)(e,(e=>!t.includes(e.id))),r=(0,m.reduce)(n,((e,t,a)=>{const n=(0,m.findIndex)(e,(e=>e.id===a));return n>-1&&(e[n]._attrs={...e[n]._attrs,...t},t.zimbraPrefIdentityName&&!ot(e[n])&&(e[n].name=t.zimbraPrefIdentityName)),e}),l);return r.splice(-1,0,...a),r}(e.account.identities.identity,r.current,(0,m.map)(a.CreateIdentityResponse,(e=>e.identity[0])),u.current),e.account.displayName=(0,m.find)(u.current,(t=>t.zimbraPrefIdentityId===e?.account?.id))?.zimbraPrefIdentityName||e.account?.displayName)}))),g()})).catch((a=>{if(t({key:"new",replace:!0,type:"error",label:e("snackbar.error","Something went wrong, please try again"),autoHideTimeout:3e3,hideButton:!0}),a instanceof Error)throw a;throw new Error("string"==typeof a?a:"edit setting error")}));return Promise.allSettled([d])}),[_,y.length,t,e,g]),x=(0,i.useMemo)((()=>((e,t)=>{const a=[];return a.push(e.name),e.rights?.targets&&e.rights?.targets.forEach((e=>{!e.target||"sendAs"!==e.right&&"sendOnBehalfOf"!==e.right||e.target.forEach((e=>{"account"===e.type&&e.email&&e.email.forEach((e=>{a.push(e.addr)}))}))})),t.attrs.zimbraMailAlias&&((0,m.isArray)(t.attrs.zimbraMailAlias)?a.push(...t.attrs.zimbraMailAlias):a.push(String(t.attrs.zimbraMailAlias))),(0,m.uniq)(a)})(a,n)),[a,n]),S=(0,i.useCallback)((()=>{g(),w(y),v((0,m.size)(y)-1)}),[y,g]),T=(0,i.useMemo)((()=>{const e=E[b];return e?o().createElement(ft,{identityAttrs:e._attrs,updateIdentities:k}):null}),[E,b,k]),R=(0,i.useMemo)((()=>{const e=E[b];return e?o().createElement(bt,{identityAttrs:e._attrs,updateIdentities:k,availableEmailAddresses:x}):null}),[x,E,b,k]);return o().createElement(o().Fragment,null,o().createElement(_t,{onSave:z,onCancel:S,isDirty:d,title:e("label.accounts","Accounts")}),o().createElement(s.Container,{background:Ke.l7,padding:{top:"large"},height:"fit"}),o().createElement(s.Container,{background:Ke.l7,mainAlignment:"flex-start",padding:{all:"large"},style:{overflow:"auto"}},o().createElement(mt,{accountName:a.name,identities:E,selectedIdentityId:b,setSelectedIdentityId:v,removeIdentity:A,addIdentity:C,identitiesDefault:y}),ot(E[b])?o().createElement(o().Fragment,null,o().createElement(gt,{account:a,identity:E[0],updateIdentities:k}),R):o().createElement(o().Fragment,null,T,R)))},wa=()=>o().createElement(s.ModalManager,null,o().createElement(Ea,null)),_a=(0,Q.vt)()((()=>({loaded:!1,carbonioWebUiTitle:"Carbonio Client",carbonioWebUiFavicon:"/static/iris/carbonio-shell-ui/bffe48bfdd05ef35ddd484dcd16aa96833107898/favicon.png"})));function Ca(){return va(h)("EndSession",{_jsns:Y.account,logoff:!0}).then((()=>fetch("/logout",{redirect:"manual"}))).then((()=>{const e=_a.getState().carbonioWebUiLogoutURL;var t;e?(t=e,window.location.assign(t)):St()})).catch((e=>{console.error(e)}))}const ka=e=>({label:e("settings.timezone_and_language","Time Zone"),id:"timezone_and_language"}),Aa=e=>({label:e("settings.out_of_office.headings.settings_label","Out of Office Settings"),id:"out_of_office"}),za=e=>({label:e("search.app","Search"),id:"search_prefs"}),xa=e=>({label:e("user_quota.title","User's quota"),id:"user_quota"}),Sa=e=>[ka(e),Aa(e),za(e),xa(e)];var Ta=a(4558);const Ra=()=>{const[e]=(0,c.useTranslation)(),t=(0,i.useMemo)((()=>(e=>({label:e("settings.general.account","Account"),id:"account"}))(e)),[e]);return o().createElement(s.FormSubSection,{label:t.label,minWidth:"calc(min(100%, 32rem))",width:"100%",id:t.id},o().createElement(We.A,{variant:"contained",size:"medium",onClick:Ca,style:{backgroundColor:Ke.d3,color:Ke.sH},startIcon:o().createElement(Ta.A,{style:{color:Ke.WR}})},e("settings.general.account_logout","Logout")))};function Ma(e,t){(0,i.useImperativeHandle)(e,(()=>({reset:t})),[t])}function Ia(e){return e?function(e){const t=new Date;return t.setUTCFullYear(Number(e.substring(0,4))),t.setUTCMonth(Number(e.substring(4,6))-1),t.setUTCDate(Number(e.substring(6,8))),t.setUTCHours(Number(e.substring(8,10))),t.setUTCMinutes(Number(e.substring(10,12))),t.setUTCSeconds(Number(e.substring(12,14))),t.setUTCMilliseconds(0),t}(e):new Date}const Pa=({addMod:e,disabled:t,prefOutOfOfficeFromDate:a,prefOutOfOfficeUntilDate:n,resetRef:l})=>{const r=$e(),[c,u]=(0,i.useState)(Ia(a)),[d,m]=(0,i.useState)(Ia(n)),[p,f]=(0,i.useState)(!1),g=(0,i.useMemo)((()=>t||p),[t,p]),h=(0,i.useMemo)((()=>it(e)),[e]),b=(0,i.useCallback)((()=>{const e=Ia(a),t=Ia(n);u(e),m(t);const l=nt(e),r=lt(t);f(e.getTime()===l.getTime()&&t.getTime()===r.getTime())}),[a,n]);(0,i.useEffect)((()=>{b()}),[b]),Ma(l,b);const v=(0,i.useCallback)((e=>{if(e){if(u((t=>(e.getTime()!==t.getTime()&&h("zimbraPrefOutOfOfficeFromDate",at(e)),e))),e.getTime()>d.getTime()){const t=new Date(e);m(t),h("zimbraPrefOutOfOfficeUntilDate",at(t))}}else u((e=>new Date(e)))}),[d,h]),y=(0,i.useCallback)((e=>{if(e){if(m((t=>(e.getTime()!==t.getTime()&&h("zimbraPrefOutOfOfficeUntilDate",at(e)),e))),e.getTime()<c.getTime()){const t=new Date(e);u(t),h("zimbraPrefOutOfOfficeFromDate",at(t))}}else m((e=>new Date(e)))}),[c,h]),E=(0,i.useCallback)((()=>{f((e=>{const t=!e;return t&&(u((e=>{const t=nt(e);return t.getTime()!==e.getTime()&&h("zimbraPrefOutOfOfficeFromDate",at(t)),t})),m((e=>{const t=lt(e);return t.getTime()!==e.getTime()&&h("zimbraPrefOutOfOfficeUntilDate",at(t)),t}))),t}))}),[h]);return o().createElement(s.Container,{padding:{vertical:"small"},gap:"0.5rem",crossAlignment:"flex-start"},o().createElement(s.Container,{orientation:"horizontal",gap:"0.5rem"},o().createElement(s.DateTimePicker,{label:r("settings.out_of_office.labels.start_date","Start Date"),dateFormat:"P",disabled:t,defaultValue:c,onChange:v,includeTime:!1,width:"fill",backgroundColor:t?"transparent":"white"}),o().createElement(s.DateTimePicker,{label:r("settings.out_of_office.labels.end_date","End Date"),dateFormat:"P",disabled:t,timeLabel:"",defaultValue:d,onChange:y,includeTime:!1,width:"fill",backgroundColor:t?"transparent":"white"})),o().createElement(s.Checkbox,{disabled:t,label:r("settings.out_of_office.labels.all_day","All Day:"),value:p,onClick:E}),o().createElement(s.Container,{orientation:"horizontal",gap:"0.5rem"},o().createElement(s.DateTimePicker,{label:r("settings.out_of_office.labels.start_time","Start Time"),showTimeSelect:!0,showTimeSelectOnly:!0,timeLabel:"",dateFormat:"p",defaultValue:c,onChange:v,disabled:g,width:"fill",backgroundColor:t?"transparent":"white"}),o().createElement(s.DateTimePicker,{label:r("settings.out_of_office.labels.end_time","End Time"),showTimeSelect:!0,showTimeSelectOnly:!0,timeLabel:"",dateFormat:"p",defaultValue:d,onChange:y,disabled:g,width:"fill",backgroundColor:t?"transparent":"white"})))},Oa=e=>({SEND_AUTO_REPLY:{label:e("settings.out_of_office.external_senders.send_standard_auto_reply","Send standard auto-reply message"),value:"SEND_AUTO_REPLY"},SHOW_EXTERNAL_INPUT:{label:e("settings.out_of_office.external_senders.send_custom_in_organisation","Send custom message to those who are not in my organization"),value:"SHOW_EXTERNAL_INPUT"},SEND_NOT_IN_ORG:{label:e("settings.out_of_office.external_senders.send_custom_not_in_organisation","Send custom message to those who are not in my organization or address book"),value:"SEND_NOT_IN_ORG"},SUPPRESS_EXTERNAL:{label:e("settings.out_of_office.external_senders.do_not_send_to_external","Don't send an auto-reply message to external sender"),value:"SUPPRESS_EXTERNAL"}}),Ba=(e,t)=>{const a=Oa(t);return"FALSE"===e.prefs.zimbraPrefOutOfOfficeSuppressExternalReply&&"FALSE"===e.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled?a.SEND_AUTO_REPLY:"ALL"===e.prefs.zimbraPrefExternalSendersType&&"TRUE"===e.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled?a.SHOW_EXTERNAL_INPUT:"ALLNOTINAB"===e.prefs.zimbraPrefExternalSendersType&&"TRUE"===e.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled?a.SEND_NOT_IN_ORG:a.SUPPRESS_EXTERNAL},Da=({settings:e,addMod:t,resetRef:a})=>{const n=$e(),l=(0,i.useMemo)((()=>Aa(n)),[n]),[r,c]=(0,i.useState)("TRUE"===e.prefs.zimbraPrefOutOfOfficeReplyEnabled),[u,d]=(0,i.useState)(e.prefs.zimbraPrefOutOfOfficeReply??""),[p,f]=(0,i.useState)("TRUE"===e.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled),[g,h]=(0,i.useState)(e.prefs.zimbraPrefOutOfOfficeExternalReply??""),[b,v]=(0,i.useState)(Ba(e,n)),[y,E]=(0,i.useState)(!!e.prefs.zimbraPrefOutOfOfficeFromDate&&!!e.prefs.zimbraPrefOutOfOfficeUntilDate),w=(0,i.useRef)(null),_=(0,i.useCallback)((()=>{c("TRUE"===e.prefs.zimbraPrefOutOfOfficeReplyEnabled),d(e.prefs.zimbraPrefOutOfOfficeReply??""),f("TRUE"===e.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled),h(e.prefs.zimbraPrefOutOfOfficeExternalReply??""),v(Ba(e,n)),E(!!e.prefs.zimbraPrefOutOfOfficeFromDate&&!!e.prefs.zimbraPrefOutOfOfficeUntilDate),w.current?.reset()}),[e,n]);(0,i.useEffect)((()=>{_()}),[_]),Ma(a,_);const C=(0,i.useMemo)((()=>it(t)),[t]),k=(0,i.useMemo)((()=>(e=>[{label:e("settings.out_of_office.send_auto_replies","Send auto-replies"),value:!0},{label:e("settings.out_of_office.do_not_send_auto_replies","Do not send auto-replies"),value:!1}])(n)),[n]),A=(0,i.useMemo)((()=>(0,m.find)(k,(e=>e.value===r))),[r,k]),z=(0,i.useCallback)((e=>{null!==e&&(C("zimbraPrefOutOfOfficeReplyEnabled",e),c(e))}),[C]),x=(0,i.useMemo)((()=>Object.values(Oa(n))),[n]),S=(0,i.useCallback)((e=>{"SEND_AUTO_REPLY"===e?(C("zimbraPrefExternalSendersType","INSD"),C("zimbraPrefOutOfOfficeExternalReplyEnabled",!1),C("zimbraPrefOutOfOfficeSuppressExternalReply",!1),f(!1)):"SHOW_EXTERNAL_INPUT"===e?(C("zimbraPrefExternalSendersType","ALL"),C("zimbraPrefOutOfOfficeExternalReplyEnabled",!0),C("zimbraPrefOutOfOfficeSuppressExternalReply",!1),f(!0)):"SEND_NOT_IN_ORG"===e?(C("zimbraPrefExternalSendersType","ALLNOTINAB"),C("zimbraPrefOutOfOfficeExternalReplyEnabled",!0),C("zimbraPrefOutOfOfficeSuppressExternalReply",!1),f(!0)):"SUPPRESS_EXTERNAL"===e&&(C("zimbraPrefExternalSendersType","INAB"),C("zimbraPrefOutOfOfficeExternalReplyEnabled",!1),C("zimbraPrefOutOfOfficeSuppressExternalReply",!0),f(!1))}),[C]),T=(0,i.useCallback)((e=>{if(null!==e){S(e);const t=(0,m.find)(x,(t=>t.value===e));t&&v(t)}}),[S,x]),R=(0,i.useCallback)((e=>{d(e.target.value),C("zimbraPrefOutOfOfficeReply",e.target.value)}),[C]),M=(0,i.useCallback)((e=>{h(e.target.value),C("zimbraPrefOutOfOfficeExternalReply",e.target.value)}),[C]),I=(0,i.useCallback)((()=>{E((t=>{const a=!t;return a?(e.prefs.zimbraPrefOutOfOfficeFromDate||C("zimbraPrefOutOfOfficeFromDate",at(new Date)),e.prefs.zimbraPrefOutOfOfficeUntilDate||C("zimbraPrefOutOfOfficeUntilDate",at(new Date))):(C("zimbraPrefOutOfOfficeFromDate",void 0),C("zimbraPrefOutOfOfficeUntilDate",void 0)),a}))}),[e.prefs.zimbraPrefOutOfOfficeFromDate,e.prefs.zimbraPrefOutOfOfficeUntilDate,C]);return o().createElement(s.FormSubSection,{label:l.label,minWidth:"calc(min(100%, 32rem))",width:"100%",id:l.id},o().createElement(s.Container,{crossAlignment:"baseline",padding:{all:"small"},gap:"0.5rem"},o().createElement(Ue.A,{container:!0,spacing:4,sx:{width:"100%"}},o().createElement(Ue.A,{size:6},o().createElement("div",{style:{width:"100%"}},o().createElement(s.Select,{items:k,label:n("label.out_of_office","Out of Office"),onChange:z,selection:A,style:{width:"100%",border:"1px solid lightgray"},background:Ke.X9,dropdownWidth:"100%"}))),o().createElement(Ue.A,{size:6},o().createElement("div",{style:{width:"100%"}},o().createElement(s.Select,{disabled:!r,items:x,label:n("settings.out_of_office.labels.external_senders","External Senders"),onChange:T,selection:b,dropdownWidth:"auto",dropdownMaxWidth:"unset",placement:"bottom-start",background:r?Ke.X9:Ke.ez,style:{width:"100%",border:"1px solid lightgray"}}))),o().createElement(Ue.A,{size:12},o().createElement(pt.A,{label:n("settings.out_of_office.labels.auto_reply_message","Auto-Reply Message:"),multiline:!0,rows:4,sx:{borderColor:"lightgray",backgroundColor:r?Ke.X9:Ke.ez},fullWidth:!0,value:u,disabled:!r,onChange:R})),o().createElement(Ue.A,{size:12},p&&o().createElement(pt.A,{fullWidth:!0,multiline:!0,rows:4,value:g,disabled:!r,label:n("settings.out_of_office.labels.auto_reply_message_external","Auto-Reply Message for External senders:"),onChange:M,sx:{borderColor:"lightgray",backgroundColor:r?Ke.X9:Ke.ez}})))),o().createElement(s.Container,{crossAlignment:"baseline",padding:{all:"small"}},o().createElement(s.Row,{padding:{all:"small"},mainAlignment:"baseline",crossAlignment:"baseline",width:"100%"},o().createElement(s.Text,{size:"large",weight:"bold"},n("settings.out_of_office.headings.time_period","Time Period"))),o().createElement(s.Padding,{vertical:"small"}),o().createElement(s.Checkbox,{label:n("settings.out_of_office.labels.send_auto_reply_period","Send auto-replies during the following period:"),value:y,onClick:I,disabled:!r}),o().createElement(Pa,{addMod:t,disabled:!r||!y,prefOutOfOfficeFromDate:e.prefs.zimbraPrefOutOfOfficeFromDate,prefOutOfOfficeUntilDate:e.prefs.zimbraPrefOutOfOfficeUntilDate,resetRef:w})))},Va=({settings:e,addMod:t,resetRef:a})=>{const n=$e(),[l,r]=(0,i.useState)("TRUE"===e.prefs.zimbraPrefIncludeSpamInSearch),[c,u]=(0,i.useState)("TRUE"===e.prefs.zimbraPrefIncludeTrashInSearch),[d,m]=(0,i.useState)("TRUE"===e.prefs.zimbraPrefIncludeSharedItemsInSearch),p=(0,i.useMemo)((()=>it(t)),[t]),f=(0,i.useCallback)((()=>{r("TRUE"===e.prefs.zimbraPrefIncludeSpamInSearch),u("TRUE"===e.prefs.zimbraPrefIncludeTrashInSearch),m("TRUE"===e.prefs.zimbraPrefIncludeSharedItemsInSearch)}),[e.prefs.zimbraPrefIncludeSharedItemsInSearch,e.prefs.zimbraPrefIncludeSpamInSearch,e.prefs.zimbraPrefIncludeTrashInSearch]);Ma(a,f),(0,i.useEffect)((()=>{f()}),[f]);const g=(0,i.useCallback)((()=>{r((e=>{const t=!e;return p("zimbraPrefIncludeSpamInSearch",t),t}))}),[p]),h=(0,i.useCallback)((()=>{u((e=>{const t=!e;return p("zimbraPrefIncludeTrashInSearch",t),t}))}),[p]),b=(0,i.useCallback)((()=>{m((e=>{const t=!e;return p("zimbraPrefIncludeSharedItemsInSearch",t),t}))}),[p]),v=(0,i.useMemo)((()=>za(n)),[n]);return o().createElement(s.FormSubSection,{label:v.label,minWidth:"calc(min(100%, 32rem))",width:"100%",id:v.id},o().createElement(s.Container,{crossAlignment:"baseline",padding:{all:"small"}},o().createElement(s.Checkbox,{label:n("settings.search_settings.labels.include_search_in_spam_folder","Include Spam Folder in Searches"),value:l,onClick:g}),o().createElement(s.Checkbox,{label:n("settings.search_settings.labels.include_search_in_trash_folder","Include Trash Folder in Searches"),value:c,onClick:h}),o().createElement(s.Checkbox,{label:n("settings.search_settings.labels.include_search_in_shared_folder","Include Shared Folder in Searches"),value:d,onClick:b})))},Na=({mobileView:e})=>{const t=$e(),a=ie(),n=ee((e=>e.usedQuota)),l=(0,i.useMemo)((()=>{const e=Number(a?.attrs?.zimbraMailQuota);return e>0?Math.round(n/e*100):-1}),[a?.attrs?.zimbraMailQuota,n]),r=(0,i.useMemo)((()=>-1===l||l>=100?100:l),[l]),c=(0,i.useMemo)((()=>{switch(!0){case l<0:return t("user_quota.unlimited","You have unlimited space available");case 100===l:return t("user_quota.space_full","It seems that all available space is full");default:return t("user_quota.limited",{defaultValue:"You have filled {{quota}}% of the available space",quota:l})}}),[l,t]),u=(0,i.useMemo)((()=>{switch(!0){case l>=95:return"error";case l>=90:return"warning";case-1===l:return"gray4";default:return"primary"}}),[l]),d=(0,i.useMemo)((()=>xa(t)),[t]);return e?o().createElement(s.Container,{width:"fit",padding:{right:"medium"}},o().createElement(s.Tooltip,{label:c,placement:"bottom"},o().createElement(s.Quota,{fill:r,fillBackground:u}))):o().createElement(s.FormSubSection,{label:d.label,minWidth:"calc(min(100%, 32rem))",width:"100%",id:d.id},o().createElement(s.Container,{width:"fill",padding:{vertical:"medium"}},o().createElement(s.Container,{orientation:"horizontal",mainAlignment:"flex-start",padding:{bottom:"medium"}},o().createElement(s.Text,null,c)),o().createElement(s.Quota,{fill:r,fillBackground:u})))},La=({settings:e,addMod:t,open:a,setOpen:n,resetRef:l})=>{const r=$e(),c=(0,i.useMemo)((()=>rt(r)),[r]),u=(0,i.useMemo)((()=>(e=>[{value:"Etc/GMT+12",label:e("timezone.etc_gmt+12",{value:"GMT -12:00",defaultValue:"{{value}} Dateline"})},{value:"Pacific/Midway",label:e("timezone.pacific_midway",{value:"GMT -11:00",defaultValue:"{{value}} Samoa"})},{value:"America/Adak",label:e("timezone.america_adak",{value:"GMT -10:00",defaultValue:"{{value}} Adak"})},{value:"Pacific/Honolulu",label:e("timezone.pacific_honolulu",{value:"GMT -10:00",defaultValue:"{{value}} Hawaii"})},{value:"Pacific/Marquesas",label:e("timezone.pacific_marquesas",{value:"GMT -09:30",defaultValue:"{{value}} Marquesas"})},{value:"America/Anchorage",label:e("timezone.america_anchorage",{value:"GMT -09:00",defaultValue:"{{value}} Alaska"})},{value:"America/Los_Angeles",label:e("timezone.america_los_angeles",{value:"GMT -08:00",defaultValue:"{{value}} US/Canada Pacific"})},{value:"America/Tijuana",label:e("timezone.america_tijuana",{value:"GMT -08:00",defaultValue:"{{value}} Baja California"})},{value:"America/Chihuahua",label:e("timezone.america_chihuahua",{value:"GMT -07:00",defaultValue:"{{value}} Chihuahua, La Paz, Mazatlan"})},{value:"America/Denver",label:e("timezone.america_denver",{value:"GMT -07:00",defaultValue:"{{value}} US/Canada Mountain"})},{value:"America/Fort_Nelson",label:e("timezone.america_fort_nelson",{value:"GMT -07:00",defaultValue:"{{value}} Fort Nelson"})},{value:"America/Phoenix",label:e("timezone.america_phoenix",{value:"GMT -07:00",defaultValue:"{{value}} Arizona"})},{value:"America/Whitehorse",label:e("timezone.america_whitehorse",{value:"GMT -07:00",defaultValue:"{{value}} Yukon"})},{value:"America/Chicago",label:e("timezone.america_chicago",{value:"GMT -06:00",defaultValue:"{{value}} US/Canada Central"})},{value:"America/Guatemala",label:e("timezone.america_guatemala",{value:"GMT -06:00",defaultValue:"{{value}} Central America"})},{value:"America/Mexico_City",label:e("timezone.america_mexico_city",{value:"GMT -06:00",defaultValue:"{{value}} Guadalajara, Mexico City, Monterrey"})},{value:"America/Regina",label:e("timezone.america_regina",{value:"GMT -06:00",defaultValue:"{{value}} Saskatchewan"})},{value:"Pacific/Easter",label:e("timezone.pacific_easter",{value:"GMT -06:00",defaultValue:"{{value}} Easter"})},{value:"America/Bogota",label:e("timezone.america_bogota",{value:"GMT -05:00",defaultValue:"{{value}} Colombia"})},{value:"America/Cancun",label:e("timezone.america_cancun",{value:"GMT -05:00",defaultValue:"{{value}} Cancun, Chetumal"})},{value:"America/Grand_Turk",label:e("timezone.america_grand_turk",{value:"GMT -05:00",defaultValue:"{{value}} Turks and Caicos Islands"})},{value:"America/Havana",label:e("timezone.america_havana",{value:"GMT -05:00",defaultValue:"{{value}} Havana"})},{value:"America/Indiana/Indianapolis",label:e("timezone.america_indiana_indianapolis",{value:"GMT -05:00",defaultValue:"{{value}} Indiana (East)"})},{value:"America/New_York",label:e("timezone.america_new_york",{value:"GMT -05:00",defaultValue:"{{value}} US/Canada Eastern"})},{value:"America/Port-au-Prince",label:e("timezone.america_port-au-prince",{value:"GMT -05:00",defaultValue:"{{value}} Port-au-Prince"})},{value:"America/Asuncion",label:e("timezone.america_asuncion",{value:"GMT -04:00",defaultValue:"{{value}} Asuncion"})},{value:"America/Caracas",label:e("timezone.america_caracas",{value:"GMT -04:00",defaultValue:"{{value}} Caracas"})},{value:"America/Cuiaba",label:e("timezone.america_cuiaba",{value:"GMT -04:00",defaultValue:"{{value}} Cuiaba"})},{value:"America/Guyana",label:e("timezone.america_guyana",{value:"GMT -04:00",defaultValue:"{{value}} Georgetown, La Paz, Manaus, San Juan"})},{value:"America/Halifax",label:e("timezone.america_halifax",{value:"GMT -04:00",defaultValue:"{{value}} Atlantic Time (Canada)"})},{value:"America/Santiago",label:e("timezone.america_santiago",{value:"GMT -04:00",defaultValue:"{{value}} Pacific South America"})},{value:"America/St_Johns",label:e("timezone.america_st_johns",{value:"GMT -03:30",defaultValue:"{{value}} Newfoundland"})},{value:"America/Araguaina",label:e("timezone.america_araguaina",{value:"GMT -03:00",defaultValue:"{{value}} Araguaina"})},{value:"America/Argentina/Buenos_Aires",label:e("timezone.america_argentina_buenos_aires",{value:"GMT -03:00",defaultValue:"{{value}} Argentina"})},{value:"America/Bahia",label:e("timezone.america_bahia",{value:"GMT -03:00",defaultValue:"{{value}} Salvador"})},{value:"America/Cayenne",label:e("timezone.america_cayenne",{value:"GMT -03:00",defaultValue:"{{value}} Cayenne, Fortaleza"})},{value:"America/Miquelon",label:e("timezone.america_miquelon",{value:"GMT -03:00",defaultValue:"{{value}} Miquelon"})},{value:"America/Montevideo",label:e("timezone.america_montevideo",{value:"GMT -03:00",defaultValue:"{{value}} Montevideo"})},{value:"America/Punta_Arenas",label:e("timezone.america_punta_arenas",{value:"GMT -03:00",defaultValue:"{{value}} Punta_Arenas"})},{value:"America/Sao_Paulo",label:e("timezone.america_sao_paulo",{value:"GMT -03:00",defaultValue:"{{value}} Brasilia"})},{value:"Atlantic/South_Georgia",label:e("timezone.atlantic_south_georgia",{value:"GMT -02:00",defaultValue:"{{value}} Mid-Atlantic"})},{value:"Atlantic/Azores",label:e("timezone.atlantic_azores",{value:"GMT -01:00",defaultValue:"{{value}} Azores"})},{value:"Atlantic/Cape_Verde",label:e("timezone.atlantic_cape_verde",{value:"GMT -01:00",defaultValue:"{{value}} Cape Verde Is."})},{value:"Africa/Monrovia",label:e("timezone.africa_monrovia",{value:"GMT +00:00",defaultValue:"{{value}} Monrovia"})},{value:"Africa/Sao_Tome",label:e("timezone.africa_sao_tome",{value:"GMT +00:00",defaultValue:"{{value}} Sao Tome"})},{value:"Europe/London",label:e("timezone.europe_london",{value:"GMT +00:00",defaultValue:"{{value}} Britain, Ireland, Portugal"})},{value:"UTC",label:e("timezone.utc",{value:"GMT/UTC",defaultValue:"{{value}} Coordinated Universal Time"})},{value:"Africa/Algiers",label:e("timezone.africa_algiers",{value:"GMT +01:00",defaultValue:"{{value}} West Central Africa"})},{value:"Africa/Casablanca",label:e("timezone.africa_casablanca",{value:"GMT +01:00",defaultValue:"{{value}} Casablanca"})},{value:"Europe/Belgrade",label:e("timezone.europe_belgrade",{value:"GMT +01:00",defaultValue:"{{value}} Belgrade, Bratislava, Budapest, Ljubljana, Prague"})},{value:"Europe/Berlin",label:e("timezone.europe_berlin",{value:"GMT +01:00",defaultValue:"{{value}} Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"})},{value:"Europe/Brussels",label:e("timezone.europe_brussels",{value:"GMT +01:00",defaultValue:"{{value}} Brussels, Copenhagen, Madrid, Paris"})},{value:"Europe/Warsaw",label:e("timezone.europe_warsaw",{value:"GMT +01:00",defaultValue:"{{value}} Sarajevo, Skopje, Warsaw, Zagreb"})},{value:"Africa/Cairo",label:e("timezone.africa_cairo",{value:"GMT +02:00",defaultValue:"{{value}} Egypt"})},{value:"Africa/Harare",label:e("timezone.africa_harare",{value:"GMT +02:00",defaultValue:"{{value}} Harare, Pretoria"})},{value:"Africa/Juba",label:e("timezone.africa_juba",{value:"GMT +02:00",defaultValue:"{{value}} Juba"})},{value:"Africa/Khartoum",label:e("timezone.africa_khartoum",{value:"GMT +02:00",defaultValue:"{{value}} Khartoum"})},{value:"Africa/Tripoli",label:e("timezone.africa_tripoli",{value:"GMT +02:00",defaultValue:"{{value}} Tripoli"})},{value:"Africa/Windhoek",label:e("timezone.africa_windhoek",{value:"GMT +02:00",defaultValue:"{{value}} Namibia"})},{value:"Asia/Amman",label:e("timezone.asia_amman",{value:"GMT +02:00",defaultValue:"{{value}} Jordan"})},{value:"Asia/Beirut",label:e("timezone.asia_beirut",{value:"GMT +02:00",defaultValue:"{{value}} Beirut"})},{value:"Asia/Damascus",label:e("timezone.asia_damascus",{value:"GMT +02:00",defaultValue:"{{value}} Damascus"})},{value:"Asia/Gaza",label:e("timezone.asia_gaza",{value:"GMT +02:00",defaultValue:"{{value}} Gaza"})},{value:"Asia/Jerusalem",label:e("timezone.asia_jerusalem",{value:"GMT +02:00",defaultValue:"{{value}} Jerusalem"})},{value:"Europe/Athens",label:e("timezone.europe_athens",{value:"GMT +02:00",defaultValue:"{{value}} Athens, Beirut, Bucharest, Istanbul"})},{value:"Europe/Bucharest",label:e("timezone.europe_bucharest",{value:"GMT +02:00",defaultValue:"{{value}} Bucharest"})},{value:"Europe/Chisinau",label:e("timezone.europe_chisinau",{value:"GMT +02:00",defaultValue:"{{value}} Chisinau"})},{value:"Europe/Helsinki",label:e("timezone.europe_helsinki",{value:"GMT +02:00",defaultValue:"{{value}} Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"})},{value:"Europe/Kaliningrad",label:e("timezone.europe_kaliningrad",{value:"GMT +02:00",defaultValue:"{{value}} Kaliningrad (RTZ 1)"})},{value:"Africa/Nairobi",label:e("timezone.africa_nairobi",{value:"GMT +03:00",defaultValue:"{{value}} Nairobi"})},{value:"Asia/Baghdad",label:e("timezone.asia_baghdad",{value:"GMT +03:00",defaultValue:"{{value}} Iraq"})},{value:"Asia/Kuwait",label:e("timezone.asia_kuwait",{value:"GMT +03:00",defaultValue:"{{value}} Kuwait, Riyadh"})},{value:"Europe/Istanbul",label:e("timezone.europe_istanbul",{value:"GMT +03:00",defaultValue:"{{value}} Istanbul"})},{value:"Europe/Minsk",label:e("timezone.europe_minsk",{value:"GMT +03:00",defaultValue:"{{value}} Minsk"})},{value:"Europe/Moscow",label:e("timezone.europe_moscow",{value:"GMT +03:00",defaultValue:"{{value}} Moscow, St. Petersburg, Volgograd (RTZ 2)"})},{value:"Europe/Volgograd",label:e("timezone.europe_volgograd",{value:"GMT +03:00",defaultValue:"{{value}} Volgograd"})},{value:"Asia/Tehran",label:e("timezone.asia_tehran",{value:"GMT +03:30",defaultValue:"{{value}} Tehran"})},{value:"Asia/Baku",label:e("timezone.asia_baku",{value:"GMT +04:00",defaultValue:"{{value}} Baku"})},{value:"Asia/Muscat",label:e("timezone.asia_muscat",{value:"GMT +04:00",defaultValue:"{{value}} Abu Dhabi, Muscat"})},{value:"Asia/Tbilisi",label:e("timezone.asia_tbilisi",{value:"GMT +04:00",defaultValue:"{{value}} Tbilisi"})},{value:"Asia/Yerevan",label:e("timezone.asia_yerevan",{value:"GMT +04:00",defaultValue:"{{value}} Yerevan"})},{value:"Europe/Astrakhan",label:e("timezone.europe_astrakhan",{value:"GMT +04:00",defaultValue:"{{value}} Astrakhan"})},{value:"Europe/Samara",label:e("timezone.europe_samara",{value:"GMT +04:00",defaultValue:"{{value}} Izhevsk, Samara (RTZ 3)"})},{value:"Europe/Saratov",label:e("timezone.europe_saratov",{value:"GMT +04:00",defaultValue:"{{value}} Saratov"})},{value:"Indian/Mauritius",label:e("timezone.indian_mauritius",{value:"GMT +04:00",defaultValue:"{{value}} Port Louis"})},{value:"Asia/Kabul",label:e("timezone.asia_kabul",{value:"GMT +04:30",defaultValue:"{{value}} Kabul"})},{value:"Asia/Karachi",label:e("timezone.asia_karachi",{value:"GMT +05:00",defaultValue:"{{value}} Islamabad, Karachi"})},{value:"Asia/Qyzylorda",label:e("timezone.asia_qyzylorda",{value:"GMT +05:00",defaultValue:"{{value}} Qyzylorda"})},{value:"Asia/Tashkent",label:e("timezone.asia_tashkent",{value:"GMT +05:00",defaultValue:"{{value}} Tashkent"})},{value:"Asia/Yekaterinburg",label:e("timezone.asia_yekaterinburg",{value:"GMT +05:00",defaultValue:"{{value}} Ekaterinburg (RTZ 4)"})},{value:"Asia/Colombo",label:e("timezone.asia_colombo",{value:"GMT +05:30",defaultValue:"{{value}} Sri Jayawardenepura Kotte"})},{value:"Asia/Kolkata",label:e("timezone.asia_kolkata",{value:"GMT +05:30",defaultValue:"{{value}} Chennai, Kolkata, Mumbai, New Delhi"})},{value:"Asia/Kathmandu",label:e("timezone.asia_kathmandu",{value:"GMT +05:45",defaultValue:"{{value}} Kathmandu"})},{value:"Asia/Almaty",label:e("timezone.asia_almaty",{value:"GMT +06:00",defaultValue:"{{value}} Astana"})},{value:"Asia/Dhaka",label:e("timezone.asia_dhaka",{value:"GMT +06:00",defaultValue:"{{value}} Dhaka"})},{value:"Asia/Omsk",label:e("timezone.asia_omsk",{value:"GMT +06:00",defaultValue:"{{value}} Omsk"})},{value:"Asia/Yangon",label:e("timezone.asia_yangon",{value:"GMT +06:30",defaultValue:"{{value}} Yangon"})},{value:"Asia/Bangkok",label:e("timezone.asia_bangkok",{value:"GMT +07:00",defaultValue:"{{value}} Bangkok, Hanoi, Jakarta"})},{value:"Asia/Barnaul",label:e("timezone.asia_barnaul",{value:"GMT +07:00",defaultValue:"{{value}} Barnaul"})},{value:"Asia/Hovd",label:e("timezone.asia_hovd",{value:"GMT +07:00",defaultValue:"{{value}} Hovd"})},{value:"Asia/Krasnoyarsk",label:e("timezone.asia_krasnoyarsk",{value:"GMT +07:00",defaultValue:"{{value}} Krasnoyarsk (RTZ 6)"})},{value:"Asia/Novosibirsk",label:e("timezone.asia_novosibirsk",{value:"GMT +07:00",defaultValue:"{{value}} Novosibirsk (RTZ 5)"})},{value:"Asia/Tomsk",label:e("timezone.asia_tomsk",{value:"GMT +07:00",defaultValue:"{{value}} Tomsk"})},{value:"Asia/Hong_Kong",label:e("timezone.asia_hong_kong",{value:"GMT +08:00",defaultValue:"{{value}} Beijing, Chongqing, Hong Kong, Urumqi"})},{value:"Asia/Irkutsk",label:e("timezone.asia_irkutsk",{value:"GMT +08:00",defaultValue:"{{value}} Irkutsk (RTZ 7)"})},{value:"Asia/Kuala_Lumpur",label:e("timezone.asia_kuala_lumpur",{value:"GMT +08:00",defaultValue:"{{value}} Kuala Lumpur"})},{value:"Asia/Singapore",label:e("timezone.asia_singapore",{value:"GMT +08:00",defaultValue:"{{value}} Singapore"})},{value:"Asia/Taipei",label:e("timezone.asia_taipei",{value:"GMT +08:00",defaultValue:"{{value}} Taipei"})},{value:"Asia/Ulaanbaatar",label:e("timezone.asia_ulaanbaatar",{value:"GMT +08:00",defaultValue:"{{value}} Ulaanbaatar"})},{value:"Australia/Perth",label:e("timezone.australia_perth",{value:"GMT +08:00",defaultValue:"{{value}} Perth"})},{value:"Australia/Eucla",label:e("timezone.australia_eucla",{value:"GMT +08:45",defaultValue:"{{value}} Eucla"})},{value:"Asia/Chita",label:e("timezone.asia_chita",{value:"GMT +09:00",defaultValue:"{{value}} Chita"})},{value:"Asia/Pyongyang",label:e("timezone.asia_pyongyang",{value:"GMT +09:00",defaultValue:"{{value}} Pyongyang"})},{value:"Asia/Seoul",label:e("timezone.asia_seoul",{value:"GMT +09:00",defaultValue:"{{value}} Korea"})},{value:"Asia/Tokyo",label:e("timezone.asia_tokyo",{value:"GMT +09:00",defaultValue:"{{value}} Japan"})},{value:"Asia/Yakutsk",label:e("timezone.asia_yakutsk",{value:"GMT +09:00",defaultValue:"{{value}} Yakutsk (RTZ 8)"})},{value:"Australia/Adelaide",label:e("timezone.australia_adelaide",{value:"GMT +09:30",defaultValue:"{{value}} Adelaide"})},{value:"Australia/Darwin",label:e("timezone.australia_darwin",{value:"GMT +09:30",defaultValue:"{{value}} Darwin"})},{value:"Asia/Vladivostok",label:e("timezone.asia_vladivostok",{value:"GMT +10:00",defaultValue:"{{value}} Vladivostok, Magadan (RTZ 9)"})},{value:"Australia/Brisbane",label:e("timezone.australia_brisbane",{value:"GMT +10:00",defaultValue:"{{value}} Brisbane"})},{value:"Australia/Hobart",label:e("timezone.australia_hobart",{value:"GMT +10:00",defaultValue:"{{value}} Hobart"})},{value:"Australia/Sydney",label:e("timezone.australia_sydney",{value:"GMT +10:00",defaultValue:"{{value}} Canberra, Melbourne, Sydney"})},{value:"Pacific/Guam",label:e("timezone.pacific_guam",{value:"GMT +10:00",defaultValue:"{{value}} Guam, Port Moresby"})},{value:"Australia/Lord_Howe",label:e("timezone.australia_lord_howe",{value:"GMT +10:30",defaultValue:"{{value}} Lord_Howe"})},{value:"Asia/Magadan",label:e("timezone.asia_magadan",{value:"GMT +11:00",defaultValue:"{{value}} Magadan"})},{value:"Asia/Sakhalin",label:e("timezone.asia_sakhalin",{value:"GMT +11:00",defaultValue:"{{value}} Sakhalin"})},{value:"Asia/Srednekolymsk",label:e("timezone.asia_srednekolymsk",{value:"GMT +11:00",defaultValue:"{{value}} Chokurdakh (RTZ 10)"})},{value:"Pacific/Bougainville",label:e("timezone.pacific_bougainville",{value:"GMT +11:00",defaultValue:"{{value}} Bougainville Standard Time"})},{value:"Pacific/Guadalcanal",label:e("timezone.pacific_guadalcanal",{value:"GMT +11:00",defaultValue:"{{value}} Solomon Is. / New Caledonia"})},{value:"Pacific/Norfolk",label:e("timezone.pacific_norfolk",{value:"GMT +11:00",defaultValue:"{{value}} Norfolk"})},{value:"Asia/Kamchatka",label:e("timezone.asia_kamchatka",{value:"GMT +12:00",defaultValue:"{{value}} Anadyr, Petropavlovsk-Kamchatsky (RTZ 11)"})},{value:"Pacific/Auckland",label:e("timezone.pacific_auckland",{value:"GMT +12:00",defaultValue:"{{value}} New Zealand"})},{value:"Pacific/Fiji",label:e("timezone.pacific_fiji",{value:"GMT +12:00",defaultValue:"{{value}} Fiji"})},{value:"Pacific/Chatham",label:e("timezone.pacific_chatham",{value:"GMT +12:45",defaultValue:"{{value}} Chatham"})},{value:"Pacific/Apia",label:e("timezone.pacific_apia",{value:"GMT +13:00",defaultValue:"{{value}} Samoa"})},{value:"Pacific/Tongatapu",label:e("timezone.pacific_tongatapu",{value:"GMT +13:00",defaultValue:"{{value}} Nukualofa"})},{value:"Pacific/Kiritimati",label:e("timezone.pacific_kiritimati",{value:"GMT +14:00",defaultValue:"{{value}} Kiritimati Island"})}])(r)),[r]),d=(0,i.useMemo)((()=>ka(r)),[r]),p=(0,i.useMemo)((()=>it(t)),[t]),[f,g]=(0,i.useState)(e.prefs.zimbraPrefLocale??""),[h,b]=((0,i.useMemo)((()=>(0,m.find)(c,(e=>e.value===f))),[c,f]),(0,i.useCallback)((e=>{e&&(p("zimbraPrefLocale",e),g(e))}),[p]),(0,i.useState)(e.prefs.zimbraPrefTimeZoneId??"")),v=(0,i.useMemo)((()=>(0,m.find)(u,(e=>e.value===h))),[u,h]),y=(0,i.useCallback)((e=>{e&&(p("zimbraPrefTimeZoneId",e),b(e))}),[p]);return Ma(l,(0,i.useCallback)((()=>{g(e.prefs.zimbraPrefLocale??""),b(e.prefs.zimbraPrefTimeZoneId??"")}),[e.prefs.zimbraPrefLocale,e.prefs.zimbraPrefTimeZoneId])),o().createElement(s.FormSubSection,{label:d.label,minWidth:"calc(min(100%, 32rem))",width:"100%",id:d.id},o().createElement(s.Container,{crossAlignment:"baseline",padding:{all:"small"},gap:"0.5rem"},o().createElement(s.Select,{items:u,background:Ke.X9,label:r("label.time_zone","Time Zone"),onChange:y,selection:v,showCheckbox:!1,dropdownMaxHeight:"12.5rem",selectedBackgroundColor:"highlight",style:{width:"100%",border:"1px solid lightgray"}}),o().createElement(s.Modal,{title:r("label.reload","Reload"),open:a,dismissLabel:r("label.no","No"),onConfirm:()=>window.location.reload(),confirmLabel:r("label.reload","Reload"),onClose:()=>n(!1)},o().createElement(s.Text,{overflow:"break-word"},r("message.reload","\tWould you like to reload the application now to show the new language?\n\t\t\t\t\t\t\t(Otherwise, the new language will appear the next time you sign in.)")))))};function Fa(e){const t=[];document.body.classList.forEach((e=>{e.startsWith("global-cursor-")&&t.push(e)})),document.body.classList.remove(...t),e&&document.body.classList.add(`global-cursor-${e}`)}function Ga(e,t,a){e.style[t]=void 0!==a?`${a}px`:""}function ja(e){return(0,m.reduce)(e,((e,t,a)=>(e[a]=void 0,e)),{})}const $a=(0,Q.vt)()((e=>({storage:{},readValue(t,a){const n=window.localStorage.getItem(t);let l;try{l=null!==n?JSON.parse(n):a}catch(e){console.error(`Cannot read local storage ${t} with value "${n}":`,e),l=a}e((e=>void 0===e.storage[t]?{storage:{...e.storage,[t]:l}}:e))},setValue(t,a){e((e=>{const n=a instanceof Function?a(e.storage[t]):a;return l=n,r=e.storage[t],JSON.stringify(l)!==JSON.stringify(r)?(window.localStorage.setItem(t,JSON.stringify(n)),{storage:{...e.storage,[t]:n}}):e;var l,r}))}}))),Ua={keepSyncedWithStorage:!0};function Ha(e,t,a=Ua){const n=$a((a=>a.storage[e]??t)),l=(0,i.useRef)(!1),r=(0,i.useMemo)((()=>({...Ua,...a})),[a]),o=(0,i.useCallback)((()=>{$a.getState().readValue(e,t)}),[e,t]);(0,i.useEffect)((()=>{o()}),[o]);const s=(0,i.useCallback)((t=>{$a.getState().setValue(e,t),l.current=!0}),[e]);return(0,i.useEffect)((()=>(r?.keepSyncedWithStorage&&window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)})),[r?.keepSyncedWithStorage,o]),(0,i.useEffect)((()=>{l.current&&(window.dispatchEvent(new Event("storage")),l.current=!1)}),[n]),[n,s]}ja({useLocalStorageStore:$a});const Wa=()=>{const[e,t]=(0,i.useState)({}),a=$e(),n=ie(),[l,r]=(0,i.useState)({}),[c,u]=Ha(R,{}),[d,p]=(0,i.useState)(!1),f=((0,i.useCallback)(((e,t)=>{r((a=>({...a,[e]:t})))}),[]),(0,i.useCallback)((e=>{r((t=>{const a={...t};return delete a[e],a}))}),[]),(0,i.useCallback)(((e,a,n)=>{t((t=>({...t,[e]:{...t?.[e],[a]:n}})))}),[])),g=((0,i.useCallback)(((e,a)=>{t((t=>{const n=t[e];if(n&&void 0!==n[a]){const n={...t,[e]:{...t[e]}},l=n[e];return l&&void 0!==l[a]&&delete l[a],0===(0,m.size)(n[e])&&delete n[e],n}return t}))}),[]),(0,s.useSnackbar)()),b=(0,i.useCallback)((()=>{if(r((e=>(0,m.size)(e)>0?(u((t=>({...t,...e}))),{}):e)),(0,m.size)(e)>0){let n,l;if(e.props){const t=(0,m.map)(e.props,((e,t)=>({name:t,zimlet:e.app,_content:e.value})));n={_jsns:Y.account,prop:t}}if(e.prefs){const t=e.prefs;"zimbraPrefMailTrustedSenderList"in t&&(t.zimbraPrefMailTrustedSenderList=t.zimbraPrefMailTrustedSenderList instanceof Array&&0===t.zimbraPrefMailTrustedSenderList.length?"":t.zimbraPrefMailTrustedSenderList),l={_jsns:Y.account,_attrs:t}}const r=va(h)("Batch",{_jsns:Y.all,ModifyPropertiesRequest:n,ModifyPrefsRequest:l}).then((()=>{ee.setState((t=>({settings:{...t.settings,prefs:(0,m.reduce)(e.prefs,((e,t,a)=>({...e,[a]:t})),t.settings.prefs),props:(0,m.reduce)(e.props,((e,{app:t,value:a},n)=>{const l=(0,m.findIndex)(e,(e=>e.name===n&&e.zimlet===t));return l>=0?e[l]={name:n,zimlet:t,_content:a}:e.push({name:n,zimlet:t,_content:a}),e}),t.settings.props)}}))),e.prefs&&(0,m.includes)(Object.keys(e.prefs),"zimbraPrefLocale")&&p(!0),g({key:"new",replace:!0,type:"info",label:a("message.snackbar.settings_saved","Edits saved correctly"),autoHideTimeout:3e3,hideButton:!0}),t({})})).catch((e=>{if(g({key:"new",replace:!0,type:"error",label:a("snackbar.error","Something went wrong, please try again"),autoHideTimeout:3e3,hideButton:!0}),e instanceof Error)throw e;throw new Error("string"==typeof e?e:"edit setting error")}));return Promise.allSettled([r])}return Promise.allSettled([Promise.resolve()])}),[e,u,g,a]),v=(0,i.useRef)(null),y=(0,i.useRef)(null),E=(0,i.useRef)(null),w=(0,i.useRef)(null),_=(0,i.useRef)(null),C=(0,i.useCallback)((()=>{t({}),(0,m.size)(l)>0&&v.current?.reset(),y.current?.reset(),E.current?.reset(),w.current?.reset(),_?.current?.reset()}),[l]),k=(0,i.useMemo)((()=>!(0,m.isEmpty)(e)||!(0,m.isEmpty)(l)),[e,l]),A=(0,i.useMemo)((()=>a("settings.general.general","General Settings")),[a]);return o().createElement(o().Fragment,null,o().createElement(_t,{title:A,onCancel:C,onSave:b,isDirty:k}),o().createElement(s.Container,{background:Ke.l7,mainAlignment:"flex-start",crossAlignment:"flex-start",padding:{all:"medium"},style:{overflow:"auto"}},o().createElement(La,{settings:n,addMod:f,open:d,setOpen:p,resetRef:E}),o().createElement(Da,{settings:n,addMod:f,resetRef:w}),o().createElement(Va,{settings:n,addMod:f,resetRef:_}),o().createElement(Na,{mobileView:!1}),o().createElement(Ra,null)))},qa=()=>{const e=Pe((e=>e.views.settings)),t=(0,i.useMemo)((()=>(0,m.map)(e,(e=>o().createElement(u.qh,{key:e.route,exact:!0,path:`/${b}/${e.route}`},o().createElement(Ee,{pkg:e.app},o().createElement(e.component,null)))))),[e]);return o().createElement(u.dO,null,t,o().createElement(u.rd,{from:`/${b}`,exact:!0,strict:!0,to:`/${b}/general`}))},Ka=({expanded:e})=>{const t=Pe((e=>e.views.settings)),a=(0,u.W6)(),n=(0,u.zy)(),l=(0,i.useMemo)((()=>t.map((e=>({id:e.route,label:e.label,icon:e.icon,active:n.pathname===`/${b}/${e.route}`&&""===n.search,disableHover:n.pathname===`/${b}/${e.route}`&&""===n.search,onClick:t=>{t.stopPropagation(),a.push(`/${b}/${e.route}`)},items:(0,m.map)(e.subSections,(t=>({...t,active:n.search===`?section=${t.id}`,disableHover:n.search===`?section=${t.id}`,onClick:n=>{n.stopPropagation(),a.replace(`/${b}/${e.route}?section=${t.id}`)}})))})))),[a,n.pathname,n.search,t]),r=(0,i.useMemo)((()=>t.map((e=>o().createElement(s.Tooltip,{label:e.label,placement:"right",key:e.id},o().createElement("div",null,o().createElement(s.IconButton,{icon:e.icon,onClick:()=>a.push(`/${b}/${e.route}`),size:"large"})))))),[a,t]);return e?o().createElement(s.Accordion,{background:"transparent",items:l}):o().createElement(o().Fragment,null,r)},Ya={packageDependentFunctions:{},functions:{}},Za=(0,Q.vt)()((e=>({...Ya,add:({packageDependentFunctions:t,functions:a})=>{e((e=>({packageDependentFunctions:(0,m.reduce)(t??{},((e,t,a)=>(e[a]=t,e)),e.packageDependentFunctions),functions:(0,m.reduce)(a??{},((e,t,a)=>(e[a]=t,e)),e.functions)})))}}))),Xa=Za.getState().add,Ja=()=>{const e=(0,u.W6)();return Xa({functions:{getHistory:()=>e}}),null},Qa=(0,Q.vt)()((()=>({orderedBoards:[],boards:{},expanded:!1,minimized:!1}))),en=e=>(t,a)=>{const n=t.id??(0,m.uniqueId)("board-");return Qa.setState((0,J.jM)((l=>{l.boards[n]={...t,app:e,id:n,icon:t.icon??De(e)()?.icon??"CubeOutline",url:(0,m.trimStart)(t.url,"/")},l.current=n,l.minimized=!1,l.expanded=a??l.expanded,l.orderedBoards.unshift(n)}))),Qa.getState().boards[n]},tn=e=>{Qa.setState((0,J.jM)((t=>{t.boards[e]?.onClose?.(t.boards[e]),delete t.boards[e];const a=t.orderedBoards.findIndex((t=>t===e));t.current===e&&(t.current=t.orderedBoards[a+1]||t.orderedBoards[a-1]),-1!==a&&t.orderedBoards.splice(a,1)})))},an=()=>{Qa.setState((0,J.jM)((e=>{(0,m.forEach)(e.boards,(t=>{t?.onClose?.(t),delete e.boards[t.id]})),e.orderedBoards=[]})))},nn=()=>{Qa.setState((0,J.jM)((e=>{const t=e.current;if(t){e.boards[t]?.onGoToPanel?.(e.boards[t]),delete e.boards[t];const a=e.orderedBoards.findIndex((e=>e===t));-1!==a&&e.orderedBoards.splice(a,1)}})))},ln=()=>{Qa.setState({minimized:!0})},rn=()=>{Qa.setState({minimized:!1})},on=()=>{Qa.setState({expanded:!0})},sn=()=>{Qa.setState({expanded:!1})},cn=e=>{Qa.setState({current:e})},un=(e,t)=>{Qa.setState((0,J.jM)((a=>{a.boards[e]&&(a.boards[e]={...a.boards[e],...t})})))},dn=(e,t)=>{Qa.setState((0,J.jM)((a=>{a.boards[e]&&(a.boards[e].context=t)})))},mn=e=>Qa((t=>t.boards[e])),pn=e=>Qa.getState().boards[e],fn=e=>Qa((t=>t.boards[e]?.context)),gn=e=>Qa.getState().boards[e]?.context,hn=(0,i.createContext)(void 0),bn=(0,i.createContext)(void 0),vn=({children:e,id:t})=>{const a=mn(t),n=(0,i.useMemo)((()=>({getBoardContext:()=>gn(t),getBoard:()=>pn(t),closeBoard:()=>tn(t),updateBoard:e=>un(t,e),setCurrentBoard:()=>cn(t)})),[t]);return o().createElement(bn.Provider,{value:n},o().createElement(hn.Provider,{value:a},e))},yn=()=>{const e=(0,i.useContext)(bn);if(void 0===e)throw new Error("board hooks is undefined. This hook is meant to be used only from inside boards. Check that the hook is invoked from a board");return e},En=()=>{const e=(0,i.useContext)(hn);if(void 0===e)throw new Error("board is undefined. This hook is meant to be used only from inside boards. Check that the hook is invoked from a board");return e};var wn=a(8736),_n=a(920),Cn=a.n(_n);function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},kn.apply(null,arguments)}a(1399),a(7404),a(746),a(1240),a(1830),a(2536),a(176),a(9335),a(3310),a(35),a(2726),a(376),a(2016),a(8539),a(6091),a(3080),a(6837),a(2365),a(3188),a(1325),a(6453),a(2617),a(1642);const An=et.default.input.withConfig({displayName:"composer__FileInput",componentId:"sc-o7p0p5-0"})(["display:none;"]),zn={actions:{},components:{composer:{Item:({onEditorChange:e,onFileSelect:t,inline:a=!1,value:n,initialValue:l,customInitOptions:r,...c})=>{const u=(0,i.useCallback)(((t,a)=>{e?.([a.getContent({format:"text"}),a.getContent({format:"html"})])}),[e]),{prefs:d}=ie(),m=(0,i.useMemo)((()=>({font:d?.zimbraPrefHtmlEditorDefaultFontFamily,fontSize:d?.zimbraPrefHtmlEditorDefaultFontSize,color:d?.zimbraPrefHtmlEditorDefaultFontColor})),[d]),p=(0,i.useRef)(null),f=(0,i.useCallback)((()=>{p.current&&(p.current.value="",p.current.click())}),[]),g=$e(),{locale:h}=ve.getState(),b=(0,i.useMemo)((()=>{const e=h in tt.d&&tt.d[h];return e&&("tinymceLocale"in e&&e?.tinymceLocale||e?.value)||h}),[h]),v=(0,i.useMemo)((()=>g("label.add_inline_image","Add inline image")),[g]),y=(0,i.useCallback)((e=>{t&&e.ui.registry.addMenuButton("imageSelector",{icon:"gallery",tooltip:g("label.select_image","Select image"),fetch:e=>{e([{type:"menuitem",text:v,onAction:()=>{f()}}])}})}),[v,f,t,g]),E=(0,i.useMemo)((()=>({content_css:"/static/iris/carbonio-shell-ui/bffe48bfdd05ef35ddd484dcd16aa96833107898//tinymce/skins/content/default/content.css",language_url:`/static/iris/carbonio-shell-ui/bffe48bfdd05ef35ddd484dcd16aa96833107898/tinymce/langs/${b}.js`,language:b,setup:y,min_height:350,auto_focus:!0,menubar:!1,statusbar:!1,branding:!1,resize:!0,inline:a,font_size_formats:"8pt 9pt 10pt 11pt 12pt 13pt 14pt 16pt 18pt 24pt 30pt 36pt 48pt 60pt 72pt 96pt",object_resizing:"img",style_formats:[{title:"Headers",items:[{title:"h1",block:"h1"},{title:"h2",block:"h2"},{title:"h3",block:"h3"},{title:"h4",block:"h4"},{title:"h5",block:"h5"},{title:"h6",block:"h6"}]},{title:"Blocks",items:[{title:"p",block:"p"},{title:"div",block:"div"},{title:"pre",block:"pre"}]},{title:"Containers",items:[{title:"section",block:"section",wrapper:!0,merge_siblings:!1},{title:"article",block:"article",wrapper:!0,merge_siblings:!1},{title:"blockquote",block:"blockquote",wrapper:!0},{title:"hgroup",block:"hgroup",wrapper:!0},{title:"aside",block:"aside",wrapper:!0},{title:"figure",block:"figure",wrapper:!0}]}],plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","code","fullscreen","insertdatetime","media","table","code","help","quickbars","directionality","autoresize","visualblocks"],toolbar:!a&&["fontfamily fontsize styles visualblocks","bold italic underline strikethrough","removeformat code","alignleft aligncenter alignright alignjustify","forecolor backcolor","bullist numlist outdent indent","ltr rtl","link","insertfile image","imageSelector"].join(" | "),quickbars_insert_toolbar:a?"bullist numlist":"",quickbars_selection_toolbar:a?"bold italic underline | forecolor backcolor | removeformat | link":"link",contextmenu:"",toolbar_mode:"wrap",content_style:`body  {  color: ${m?.color}; font-size: ${m?.fontSize}; font-family: ${m?.font}; }`,visualblocks_default_state:!1,end_container_on_empty_block:!0,relative_urls:!1,remove_script_host:!1,newline_behavior:"default",browser_spellcheck:!0,convert_unsafe_embeds:!0,...r})),[b,y,a,m?.color,m?.fontSize,m?.font,r]),w=(0,i.useCallback)((()=>{t?.({editor:Cn(),files:p?.current?.files})}),[t]);return o().createElement(s.Container,{height:"100%",crossAlignment:"baseline",mainAlignment:"flex-start",style:{overflowY:"hidden"}},o().createElement(An,{type:"file",ref:p,accept:"image/*",onChange:w,multiple:!0}),o().createElement(wn.K,kn({initialValue:l,value:n,init:E,onEditorChange:u},c)))},app:h}},functions:{}},xn=(0,Q.vt)()((e=>({...zn,registerActions:(...t)=>e((0,J.jM)((e=>{(0,m.forEach)(t,(({id:t,action:a,type:n})=>{e.actions[n]||(e.actions[n]={}),e.actions[n][t]=a}))}))),registerComponents:t=>(...a)=>e((0,J.jM)((e=>{(0,m.forEach)(a,(({id:a,component:n})=>{e.components[a]={app:t,Item:n}}))}))),registerFunctions:(...t)=>e((0,J.jM)((e=>{(0,m.forEach)(t,(({id:t,fn:a})=>{e.functions[t]=a}))}))),removeActions:(...t)=>e((0,J.jM)((e=>{(0,m.forEach)(e.actions,((a,n)=>{(0,m.forEach)(a,((a,l)=>{(0,m.includes)(t,l)&&delete e.actions[n][l]}))}))}))),removeComponents:(...t)=>e((e=>({...e,components:(0,m.omit)(e.components,t)}))),removeFunctions:(...t)=>e((e=>({...e,functions:(0,m.omit)(e.functions,t)})))})));function Sn(e){return e?[t=>o().createElement(Ee,{pkg:e.app},o().createElement(e.Item,t)),!0]:[()=>null,!1]}function Tn(e,t){return(0,m.compact)((0,m.map)(e,(e=>{try{return e(t)}catch(e){return void console.error(e)}})))}function Rn(e,t){try{return[e?.(t),!0]}catch(e){return[void 0,!1]}}const Mn=e=>{return(t=xn((t=>t.functions?.[e])))?[t,!0]:[()=>{},!1];var t},In=e=>{const t=xn((t=>t.components?.[e]));return(0,i.useMemo)((()=>Sn(t)),[t])},Pn=(e,t)=>{const a=xn((e=>e.actions[t]));return(0,i.useMemo)((()=>Tn(a,e)),[a,e])},On=e=>{const t=xn((t=>t.actions[e]));return(0,i.useCallback)((e=>Tn(t,e)),[t])},Bn=(e,t,a)=>{const n=xn((a=>a.actions[e][t]));return(0,i.useMemo)((()=>Rn(n,a)),[n,a])},Dn=(e,t)=>{const a=xn((a=>a.actions[e][t]));return[a,!!a]},Vn=e=>{const t=xn.getState().functions?.[e];return t?[t,!0]:[()=>{},!1]},Nn=e=>{const t=xn.getState().components?.[e];return Sn(t)},Ln=(e,t)=>Tn(xn.getState().actions[t],e),Fn=e=>{const t=xn.getState().actions[e];return e=>Tn(t,e)},Gn=(e,t,a)=>{const n=xn.getState().actions[e]?.[t];return Rn(n,a)},jn=(e,t)=>{const a=xn.getState().actions[e]?.[t];return[a,!!a]},$n=e=>va(h)("CreateTag",{_jsns:Y.mail,tag:e}),Un=e=>va(h)("TagAction",{_jsns:Y.mail,action:{op:"delete",id:e}}),Hn=(e,t)=>va(h)("TagAction",{_jsns:Y.mail,action:{op:"rename",id:e,name:t}}),Wn=(e,t)=>va(h)("TagAction",{_jsns:Y.mail,action:"number"==typeof t?{op:"color",color:t,id:e}:{op:"color",rgb:t,id:e}}),qn=()=>{const e=(0,u.zy)(),t=Le();return(0,i.useMemo)((()=>(0,m.find)(t,(({route:t})=>(0,m.startsWith)((0,m.trim)(e.pathname,"/"),t)))),[e.pathname,t])},Kn=()=>{const e=Za.getState().functions.getHistory?.(),t=Ne();return(0,m.find)(t,(t=>(0,m.startsWith)((0,m.trim)(e.location.pathname,"/"),t.route)))},Yn=e=>{if("string"==typeof e)return(0,m.replace)(`/${Kn()?.route}/${e}`,"//","/");const t=e.route?(0,m.find)(Ne(),(t=>t.id===e.route||t.route===e.route)):Kn();return"string"==typeof e.path?(0,m.replace)(`/${t?.route}/${e.path}`,"//","/"):{search:e.path.search,hash:e.path.hash,pathname:(0,m.replace)(`/${t?.route}/${e.path.pathname}`,"//","/")}},Zn=()=>{const e=(0,u.W6)();return(0,i.useCallback)((t=>e.push(Yn(t))),[e])},Xn=()=>{const e=(0,u.W6)();return(0,i.useCallback)((t=>e.replace(Yn(t))),[e])};function Jn(){return(0,u.W6)().goBack}const Qn=e=>{const t=Za.getState().functions.getHistory?.();t.push(Yn(e))},el=e=>{const t=Za.getState().functions.getHistory?.();t.replace(Yn(e))},tl=()=>Za.getState().functions.getHistory?.().goBack(),al=a.p+"20d012c938e8d0dcc703.mp3";function nl(){return _a.getState().carbonioWebUiFavicon}class ll{static DEBOUNCE_TIME=1e3;PopupNotificationDefaultConfig={title:"",vibrate:[200,100,200],icon:nl()};AudioNotificationDefaultConfig={sound:al};NotificationDefaultConfig={...this.PopupNotificationDefaultConfig,...this.AudioNotificationDefaultConfig,showPopup:!0,playSound:!1};functions=new Map;getAudioFileFunction=e=>(this.functions.has(e)||this.functions.set(e,(0,m.debounce)((()=>{new Audio(e).play().then(),this.functions.delete(e)}),ll.DEBOUNCE_TIME)),this.functions.get(e)??m.noop);playSound=e=>{const t={...this.AudioNotificationDefaultConfig,...e};t.sound&&this.getAudioFileFunction(t.sound)()};showPopup=e=>{const t={...this.PopupNotificationDefaultConfig,...e},a=new Notification(t.title,{body:t.message,vibrate:t.vibrate,icon:t.icon,tag:t?.tag});t.onClick&&a.addEventListener("click",t.onClick)};notify=e=>{const t={...this.NotificationDefaultConfig,...e};t?.showPopup&&this.showPopup(t),t?.playSound&&this.playSound(t)};multipleNotify=e=>{e.forEach((e=>this.notify(e)))};static getInstance(){return ll.instance||(ll.instance=new ll),ll.instance}}const rl=()=>ll.getInstance(),il=(e,t)=>{Ce.setState({query:e,module:t,searchDisabled:!1}),Qn({route:y,path:""})},ol=(0,i.createContext)({isMobile:!0});function sl(){const{isMobile:e}=(0,i.useContext)(ol);return e}const cl=e=>{return{getI18n:(a=e.name,()=>{const{instances:e,defaultI18n:t}=ve.getState();return e[a]??e[h]??t}),t:je(e.name),soapFetch:va(e.name),xmlSoapFetch:ya(e.name),useAppContext:(t=e.name,()=>Pe((e=>e.appContexts[t]))),getAppContext:Ve(e.name),useApp:Oe(e.name),getApp:De(e.name),addBoard:en(e.name),getBridgedFunctions:()=>{const{packageDependentFunctions:t,functions:a}=Za.getState();return{...a,...(0,m.reduce)(t,((t,a,n)=>({...t,[n]:a(e.name)})),{})}}};var t,a},ul=e=>{const t=Pe.getState(),a=xn.getState();return{setAppContext:t.setAppContext(e.name),addRoute:a=>t.addRoute(((e,t)=>{const a=(0,m.trim)(e.route??t.name,"/");return{app:t.name,route:a,id:e.id??a,badge:_e(e?.badge??{}),position:e?.position??t.priority,visible:e?.visible??!0,label:e?.label??"",primaryBar:e.primaryBar??t.icon??"CubeOutline",secondaryBar:e.secondaryBar,appView:e.appView??we,focusMode:e.focusMode}})(a,e)),addBoardView:a=>t.addBoardView(((e,t)=>{const a=(0,m.trim)(e.route??t.name,"/");return{app:t.name,route:a,id:e?.id??a,component:e?.component??we}})(a,e)),addSettingsView:a=>t.addSettingsView(((e,t)=>{const a=(0,m.trim)(e.route??t.name,"/");return{app:t.name,route:a,id:e?.id??a,component:e?.component??we,label:e.label??t.display,icon:e.icon??t.icon,position:e.position??t.priority??99,subSections:e.subSections??[]}})(a,e)),addSearchView:a=>t.addSearchView(((e,t)=>{const a=(0,m.trim)(e.route??t.name,"/");return{app:t.name,route:a,id:e?.id??a,component:e?.component??we,label:e.label??t.display,icon:e.icon??t.icon,position:e.position??t.priority??99}})(a,e)),addUtilityView:a=>t.addUtilityView(((e,t)=>({app:t.name,id:e?.id??t.name,whitelistRoutes:e?.whitelistRoutes,blacklistRoutes:e?.blacklistRoutes,component:e?.component??we,button:e?.button??"Cube",badge:_e(e?.badge??{}),position:e?.position??t.priority,label:e?.label??t.display}))(a,e)),addPrimaryAccessoryView:a=>t.addPrimaryAccessoryView(((e,t)=>({app:t.name,onClick:e?.onClick,label:e?.label??t.display,position:e?.position??t.priority,whitelistRoutes:e?.whitelistRoutes,blacklistRoutes:e?.blacklistRoutes,id:e?.id??t.name,component:e?.component??we}))(a,e)),addSecondaryAccessoryView:a=>t.addSecondaryAccessoryView(((e,t)=>({app:t.name,position:e?.position??t.priority,whitelistRoutes:e?.whitelistRoutes,blacklistRoutes:e?.blacklistRoutes,id:e?.id??t.name,component:e?.component??we}))(a,e)),registerComponents:a.registerComponents(e.name),editSettings:(n=e.name,e=>((e,t=h)=>ya(h)("Batch",`<BatchRequest xmlns="urn:zimbra" onerror="stop">${e.props?`<ModifyPropertiesRequest xmlns="urn:zimbraAccount">${(0,m.map)(e.props,((e,a)=>`<prop name="${a}" zimlet="${e.app??t}">${e.value}</prop>`))}</ModifyPropertiesRequest>`:""}${e.prefs?`<ModifyPrefsRequest xmlns="urn:zimbraAccount">${(0,m.map)(e.prefs,((e,t)=>(0,m.isArray)(e)?(0,m.map)(e,(e=>`<pref name="${t}">${e}</pref>`)).join(""):`<pref name="${t}">${e}</pref>`)).join("")}</ModifyPrefsRequest>`:""}${e.identity?.modifyList?(0,m.map)(e.identity.modifyList,(e=>`<ModifyIdentityRequest xmlns="urn:zimbraAccount" requestId="0"><identity id="${e.id}">${(0,m.map)(e.prefs,((e,t)=>`<a name="${t}">${e}</a>`)).join("")}</identity></ModifyIdentityRequest>`)).join(""):""}${e.identity?.deleteList?(0,m.map)(e.identity.deleteList,(e=>`<DeleteIdentityRequest xmlns="urn:zimbraAccount" requestId="0"><identity id="${e}"/></DeleteIdentityRequest>`)).join(""):""}${e.identity?.createList?(0,m.map)(e.identity.createList,((e,t)=>`<CreateIdentityRequest xmlns="urn:zimbraAccount" requestId="${t}"><identity name="${e.prefs.zimbraPrefIdentityName}"><a name="zimbraPrefIdentityName">${e.prefs.zimbraPrefIdentityName}</a><a name="zimbraPrefFromDisplay">${e.prefs.zimbraPrefFromDisplay}</a><a name="zimbraPrefFromAddress">${e.prefs.zimbraPrefFromAddress}</a><a name="zimbraPrefFromAddressType">sendAs</a><a name="zimbraPrefReplyToEnabled">${e.prefs.zimbraPrefReplyToEnabled}</a><a name="zimbraPrefReplyToDisplay">${e.prefs.zimbraPrefReplyToDisplay}</a><a name="zimbraPrefReplyToAddress">${e.prefs.zimbraPrefReplyToAddress}</a><a name="zimbraPrefDefaultSignatureId">${e.prefs.zimbraPrefDefaultSignatureId}</a><a name="zimbraPrefForwardReplySignatureId">${e.prefs.zimbraPrefForwardReplySignatureId}</a><a name="zimbraPrefWhenSentToEnabled">${e.prefs.zimbraPrefWhenSentToEnabled}</a><a name="zimbraPrefWhenInFoldersEnabled">${e.prefs.zimbraPrefWhenInFoldersEnabled}</a></identity></CreateIdentityRequest>`)).join(""):""}${e.permissions?`<RevokeRightsRequest xmlns="urn:zimbraAccount" requestId="0">${e.permissions.freeBusy?(0,m.map)(e.permissions.freeBusy.current,(e=>"dom"===e.gt?`<ace right="viewFreeBusy" gt="${e.gt}" zid="${e.zid}" d="zextras.com"/>`:"all"===e.gt&&e.deny?`<ace right="viewFreeBusy" gt="${e.gt}" zid="${e.zid}" deny="1"/>`:"usr"===e.gt?`<ace right="viewFreeBusy" gt="${e.gt}" zid="${e.zid}" d="${e.d}"/>`:`<ace right="viewFreeBusy" gt="${e.gt}" zid="${e.zid}" />`)).join(""):""}${e.permissions.inviteRight?(0,m.map)(e.permissions.inviteRight.current,(e=>"all"===e.gt&&e.deny?`<ace right="invite" gt="${e.gt}" zid="${e.zid}" deny="1"/>`:"usr"===e.gt?`<ace right="invite" gt="${e.gt}" zid="${e.zid}" d="${e.d}"/>`:`<ace right="invite" gt="${e.gt}" zid="${e.zid}" />`)).join(""):""}</RevokeRightsRequest><GrantRightsRequest xmlns="urn:zimbraAccount" requestId="1">${e.permissions.freeBusy?`${"dom"===e.permissions.freeBusy.new.gt?`<ace right="viewFreeBusy" gt="${e.permissions.freeBusy.new.gt}" d="zextras.com"/>`:"all"===e.permissions.freeBusy.new.gt&&e.permissions.freeBusy.new.deny?`<ace right="viewFreeBusy" gt="${e.permissions.freeBusy.new.gt}" deny="1"/>`:"usr"===e.permissions.freeBusy.new.gt?(0,m.map)(e.permissions.freeBusy.new.d,(t=>`<ace right="viewFreeBusy" gt="${e.permissions?.freeBusy.new.gt}" d="${t.email}"/>`)).join(""):`<ace right="viewFreeBusy" gt="${e.permissions.freeBusy.new.gt}" />`}`:""}${e.permissions.inviteRight?`${"all"===e.permissions.inviteRight.new.gt&&e.permissions.inviteRight.new.deny?`<ace right="invite" gt="${e.permissions.inviteRight.new.gt}" deny="1"/>`:"usr"===e.permissions.inviteRight.new.gt?(0,m.map)(e.permissions.inviteRight.new.d,(t=>`<ace right="invite" gt="${e.permissions?.inviteRight.new.gt}" d="${t.email}"/>`)).join(""):`<ace right="invite" gt="${e.permissions?.inviteRight.new.gt}" />`}`:""}\n\t</GrantRightsRequest>`:""}</BatchRequest>`).then((t=>(ee.setState((a=>({settings:{...a.settings,prefs:(0,m.reduce)(e.prefs,((e,t,a)=>({...e,[a]:t})),a.settings.prefs),props:(0,m.reduce)(e.props,((e,{app:t,value:a},n)=>{const l=(0,m.findIndex)(e,(e=>e.name===n&&e.zimlet===t));return l>=0?e[l]={name:n,zimlet:t,_content:a}:e.push({name:n,zimlet:t,_content:a}),e}),a.settings.props)},account:{...a.account,displayName:(0,m.find)(e?.identity?.modifyList,(e=>e.id===a?.account?.id))?.prefs.zimbraPrefIdentityName||a.account?.displayName,identities:{identity:void 0!==a.account?(0,m.reduce)(e?.identity?.modifyList,((e,{id:t,prefs:a})=>{const n=(0,m.findIndex)(e,((a,n)=>e[n].id===t));return n>-1&&(e[n]._attrs={...e[n]._attrs,...a},a.zimbraPrefIdentityName&&"DEFAULT"!==e[n].name&&(e[n].name=a.zimbraPrefIdentityName)),e}),[...(0,m.filter)(a.account.identities.identity,(t=>!e?.identity?.deleteList?.includes(t.id))).filter((e=>"DEFAULT"!==e.name)),...(0,m.map)(t?.CreateIdentityResponse,(e=>e.identity[0])),...(0,m.filter)(a.account.identities.identity,(t=>!e?.identity?.deleteList?.includes(t.id))).filter((e=>"DEFAULT"===e.name))]):void 0}}}))),t))))(e,n).then((e=>({...e,type:"fulfilled"}))))};var n},{updatePrimaryBadge:dl,updateUtilityBadge:ml,setRouteVisibility:pl,removeRoute:fl,removeBoardView:gl,removeSettingsView:hl,removeSearchView:bl,removeUtilityView:vl,removePrimaryAccessoryView:yl,removeSecondaryAccessoryView:El,upsertApp:wl}=Pe.getState(),{registerFunctions:_l,removeFunctions:Cl,registerActions:kl,removeActions:Al,removeComponents:zl}=xn.getState();function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},xl.apply(null,arguments)}const Sl=({to:e,route:t,...a})=>{const n=(0,i.useMemo)((()=>Yn({path:e,route:t})),[t,e]);return o().createElement(d.Link,xl({style:{textDecoration:"none"},to:n},a))},Tl=()=>o().createElement(s.Container,{width:"fill",height:"fill",mainAlignment:"center",crossAlignment:"center"},o().createElement(s.Button,{type:"ghost",label:"Button",color:"primary",loading:!0,onClick:m.noop}));function Rl(e,t){return Matomo.getTracker(`${e}matomo.php`,t)}class Ml{static URL="https://analytics.zextras.tools/";static isEnabled=!1;constructor(e){this.siteId=e,Ml.isEnabled?this.matomoTracker=Rl(Ml.URL,e):this.matomoTracker=null}static enableTracker(e){e&&function(e){const t="matomo-script";if(document.getElementById(t))return;const a=document.createElement("script"),n=document.getElementsByTagName("script")[0];a.type="text/javascript",a.async=!0,a.src=`${e}matomo.js`,a.id=t,n.parentNode?.insertBefore(a,n)}(Ml.URL),Ml.isEnabled=e}trackPageView(e){const t=this.getMatomoTrackerInstance();t?.setCustomUrl(window.location.href),t?.trackPageView(e)}trackEvent(e,t,a,n){const l=this.getMatomoTrackerInstance();l?.setCustomUrl(window.location.href),l?.trackEvent(e,t,a,n)}getMatomoTrackerInstance(){if(!Ml.isEnabled)return null;if(null===this.matomoTracker)try{this.matomoTracker=Rl(Ml.URL,this.siteId)}catch(e){console.warn("Matomo is not initialized yet: ",e)}return this.matomoTracker}}const Il={};let Pl=0;const{getAppDependantSetters:Ol,...Bl}=r,{getAppDependantFunctions:Dl,...Vl}=l;var Nl=a(6090),Ll=a(4817),Fl=a(720),Gl=a(8290),jl=a(6610);function $l(e){return"rejected"===e.status}const Ul=({open:e,closeHandler:t})=>{const[a]=(0,c.useTranslation)(),n=(0,i.useCallback)((()=>window.location.reload()),[]);return o().createElement(s.Modal,{open:e,showCloseIcon:!1,onSecondaryAction:St,title:a("bootstrap.failure.modal.title","Something went wrong..."),confirmLabel:a("bootstrap.failure.modal.confirmButtonLabel","refresh"),secondaryActionLabel:a("bootstrap.failure.modal.secondaryButtonLabel","login page"),onConfirm:n,onClose:t},o().createElement(s.Padding,{all:"small"},o().createElement(s.Text,{overflow:"break-word"},a("bootstrap.failure.modal.body","Some technical issues occurred while processing your request. Please try to refresh the page or go back to the login page."))))},Hl=()=>{const[e,t]=(0,i.useState)(!1),l=(0,i.useCallback)((()=>t(!1)),[]);return(0,i.useEffect)((()=>(Promise.allSettled([fetch(V).then((e=>e.json())).then((e=>{_a.setState(e)})).finally((()=>{_a.setState({loaded:!0});const e=document.getElementById("favicon");e&&e instanceof HTMLLinkElement&&(e.href=nl()),document.title=_a.getState().carbonioWebUiTitle})),fetch("/static/iris/components.json").then((e=>{if(e.ok)return e.json();throw Error(e.statusText)})).then((({components:e})=>{Pe.getState().setApps((0,m.filter)(e,(({type:e})=>"shell"===e||"carbonio"===e)))})),va(h)("GetInfo",{_jsns:Y.account,rights:"sendAs,sendAsDistList,viewFreeBusy,sendOnBehalfOf,sendOnBehalfOfDistList"}).then((e=>{if(e){const{account:t,settings:a,version:n}=(({id:e,name:t,attrs:a,prefs:n,identities:l,signatures:r,props:i,version:o,rights:s})=>{const c=(e=>({attrs:e.attrs._attrs,prefs:e.prefs._attrs,props:e.props.prop??[]}))({attrs:a,prefs:n,props:i});return{account:{id:e,name:t,displayName:a._attrs.displayName,identities:l,signatures:r,rights:s},settings:c,version:o}})(e);Dt.setState({pollingInterval:ma(a)}),ee.setState({authenticated:!0,account:t,settings:a,zimbraVersion:n})}}))]).then((e=>{const[,l,r]=e,u=(0,m.find)([l,r],$l);u&&("string"==typeof u.reason?console.error(u.reason):"message"in u.reason&&console.error(u.reason.message),k||t(!0)),"fulfilled"===l.status&&function(e){window.__ZAPP_SHARED_LIBRARIES__||(window.__ZAPP_SHARED_LIBRARIES__={react:o(),"react-dom":Gl,"react-i18next":c,"react-redux":jl,lodash:m,"react-router-dom":d,"styled-components":et,"@reduxjs/toolkit":Nl,"@zextras/carbonio-shell-ui":{},"@zextras/carbonio-design-system":s,"@zextras/carbonio-ui-preview":Ll,darkreader:Fl},window.__ZAPP_HMR_EXPORT__={});const t=(0,m.filter)(e,(e=>e.name!==h&&!(e.attrKey&&"FALSE"===de("attrs",e.attrKey))));console.log("%cLOADING APPS","color: white; background: #2b73d2;padding: 4px 8px 2px 4px; font-family: sans-serif; border-radius: 12px; width: 100%");const{settings:l}=ee.getState(),r=l?.prefs?.zimbraPrefLocale??l?.attrs?.zimbraLocale??"en";ve.getState().addI18n(t,r);const u=r in tt.d&&tt.d[r];if(u){const e="dateFnsLocale"in u&&u.dateFnsLocale||u.value;(e=>a(3913)(`./${e}/index.js`))(e).then((t=>{(0,s.registerLocale)(e,t),(0,s.setDefaultLocale)(e)}))}Ot.getState().setClients(t),Promise.allSettled((0,m.map)(t,(e=>{return t=e,new Promise(((e,a)=>{try{window.__ZAPP_SHARED_LIBRARIES__?.["@zextras/carbonio-shell-ui"]&&(window.__ZAPP_SHARED_LIBRARIES__["@zextras/carbonio-shell-ui"][t.name]={report:Bt(t.name),AppLink:Sl,Spinner:Tl,SettingsHeader:_t,...Ol(t),...Bl,...Dl(t),...Vl,...n,Tracker:Ml}),window.__ZAPP_HMR_EXPORT__[t.name]=a=>{Pe.setState((e=>({entryPoints:{...e.entryPoints,[t.name]:(0,i.memo)(a)}}))),console.info(`%c loaded ${t.name}`,"color: white; background: #539507;padding: 4px 8px 2px 4px; font-family: sans-serif; border-radius: 12px; width: 100%"),e(t)};const a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("data-pkg_name",t.name),a.setAttribute("data-pkg_version",t.version),a.setAttribute("data-is_app","true"),a.setAttribute("src",`${t.js_entrypoint}`),document.body.appendChild(a),Pl+=1,Il[`${t.name}-loader-${Pl}`]=a}catch(e){console.error(e),a(e)}}));var t})))}(Object.values(Pe.getState().apps))})),()=>{new Promise((e=>{(0,m.forOwn)(Il,(e=>{e.parentNode&&e.parentNode.removeChild(e)})),e()}))})),[]),o().createElement(Ul,{open:e,closeHandler:l})},Wl=({children:e})=>{const t=ve((e=>e.instances[h]));return o().createElement(c.I18nextProvider,{i18n:t},e)};const ql=()=>window.matchMedia("(prefers-color-scheme: dark)"),Kl=()=>{const e=function(){const e=ie(),{carbonioWebUiDarkMode:t}=_a(),a=(0,i.useMemo)((()=>(0,m.size)(e.prefs)>0||(0,m.size)(e.attrs)>0||(0,m.size)(e.props)>0),[e]);return(0,i.useMemo)((()=>{if(a){const a=(0,m.find)(e.props,(e=>{return(t=e).name===N&&t.zimlet===h;var t}))?._content;return a||t&&"enabled"||"disabled"}}),[a,e,t])}(),[t,a]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{e&&a("auto"===e&&ql().matches||"enabled"===e)}),[e]),(0,i.useEffect)((()=>{const e=e=>{a(e.matches)};return ql().addEventListener("change",e),()=>{ql().removeEventListener("change",e)}}),[]),{darkModeEnabled:t,darkReaderStatus:e}};(0,Fl.setFetchMethod)(window.fetch);const Yl=(0,i.createContext)({addExtension:()=>{throw Error("Not implemented")},setDarkReaderState:()=>{throw Error("not implemented")}}),Zl=(e={})=>t=>({...t,...e,palette:{...t.palette,...e.palette,shared:{regular:"#FFB74D",hover:"#FFA21A",active:"#FFA21A",focus:"#FF9800",disabled:"#FFD699"},linked:{regular:"#AB47BC",hover:"#8B3899",active:"#8B3899",focus:"#7A3187",disabled:"#DDB4E4"}}}),Xl=e=>({...e,icons:{...e.icons,Shared:e.icons.ArrowCircleRight,Linked:e.icons.ArrowCircleLeft}}),Jl=e=>({...e,globalCursors:[...e.globalCursors||[],"ns-resize","ew-resize","nesw-resize","nwse-resize","move"]}),Ql=(0,et.createGlobalStyle)(["html{font-size:",";}"," .no-active-background:active{background-color:inherit;}"],(({baseFontSize:e})=>`${e}%`),(({theme:e})=>(0,m.map)(e.globalCursors,(e=>(0,et.css)([".global-cursor-"," *{cursor:"," !important;}"],e,e))))),er=({children:e})=>{const[t]=Ha(R,{}),[a,n]=(0,i.useState)({}),l=function(){const[e,t]=Ha(M,void 0),{carbonioWebUiPrimaryColor:a,carbonioWebUiDarkPrimaryColor:n,loaded:l}=_a(),{darkModeEnabled:r,darkReaderStatus:o}=Kl(),s=(0,i.useMemo)((()=>void 0!==o&&(a||n)?r?n||a:a||n:e&&(0,m.size)(e)>0&&!l?r&&(e.dark||e.light)||e.light||e.dark:void 0),[n,a,r,o,l,e]);return(0,i.useEffect)((()=>{void 0!==o&&t((e=>({...e,[r?"dark":"light"]:s})))}),[r,o,s,t]),s}();(0,i.useLayoutEffect)((()=>{const e=l?{primary:(0,s.generateColorSet)({regular:l})}:{};n((t=>({...t,palette:Zl({palette:e}),icons:Xl,globalCursors:Jl})))}),[l]);const[r,c]=(0,i.useState)("disabled");(0,i.useEffect)((()=>{switch(r){case"disabled":(0,Fl.auto)(!1),(0,Fl.disable)();break;case"enabled":(0,Fl.auto)(!1),(0,Fl.enable)({},w);break;default:(0,Fl.auto)({},w)}}),[r]);const u=(0,i.useCallback)((e=>(0,m.reduce)(a,((e,t)=>t?t(e):e),e)),[a]),d=(0,i.useCallback)(((e,t)=>{n((a=>({...a,[t]:e})))}),[]),p=(0,i.useMemo)((()=>{const e=t["settings.appearance_setting.scaling"];return void 0!==e?e:(()=>{if(window.screen.width<=D.width&&window.screen.height<=D.height&&window.devicePixelRatio>=D.dpr){const e=O.findIndex((e=>e.value===B));if(e>0)return O[e-1].value}return B})()}),[t]),f=(0,i.useMemo)((()=>({addExtension:d,setDarkReaderState:c})),[d]);return o().createElement(s.ThemeProvider,{extension:u},o().createElement(Yl.Provider,{value:f},o().createElement(Ql,{baseFontSize:p}),e))},tr=()=>((0,i.useEffect)((()=>{"Notification"in window?Notification.requestPermission():console.warn("This browser does not support desktop notifications")}),[]),o().createElement(o().Fragment,null)),ar=(0,et.default)(s.Container).withConfig({displayName:"app-view-container___BoardsRouterContainer",componentId:"sc-1gu6zd6-0"})(["flex-grow:1;flex-basis:0;min-width:0.0625rem;max-height:",";overflow-y:auto;"],k?"100vh":"calc(100vh - 3.75rem)"),nr=()=>{const e=Be(),t=Le(),a=(0,u.zy)(),n=(0,i.useMemo)((()=>(0,m.find)(t,(t=>e[0]?.name===t.app))?.route),[e,t]);return n&&"/"===a?.pathname?o().createElement(u.rd,{exact:!0,strict:!0,from:"/",to:`/${n}`}):null},lr=()=>{const e=Pe((e=>e.views.appView)),t=(0,i.useMemo)((()=>[...(0,m.map)(e,(e=>o().createElement(u.qh,{key:e.id,path:`/${e.route}`},o().createElement(Ee,{key:e.app,pkg:e.app},o().createElement(e.component,null)))))]),[e]);return o().createElement(ar,null,o().createElement(s.Container,{mainAlignment:"flex-start"},o().createElement(u.dO,null,t),o().createElement(nr,null)))};var rr=a(8772);const ir=et.default.div.withConfig({displayName:"board__BoardContainer",componentId:"sc-i98psp-0"})(["display:",";height:100%;width:100%;overflow-y:auto;&::-webkit-scrollbar{width:0.5rem;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar-thumb{background-color:",";border-radius:0.25rem;}"],(e=>e.show?"block":"none"),(({theme:e})=>e.palette.gray3.regular)),or=({board:e})=>{const t=Qa((e=>e.current)),a=(0,i.useMemo)((()=>(0,rr.sC)({initialEntries:[e.url]})),[]),n=Pe((e=>e.views.board)),l=(0,u.W6)(),r=(0,i.useMemo)((()=>{const t=(0,m.find)(n,(t=>t.id===e.url||(0,m.startsWith)(e.url,t.route)));return t?o().createElement(u.qh,{key:t.id,path:t.route},o().createElement(Ee,{key:t.id,pkg:t.app},o().createElement(vn,{id:e.id},o().createElement(t.component,{windowHistory:l})))):null}),[e.id,e.url,n,l]);return(0,i.useEffect)((()=>{const t=a.listen((({location:t})=>{`${t.pathname}${t.search}${t.hash}`!==e.url&&un(e.id,{url:`${t.pathname}${t.search}${t.hash}`})}));return()=>{t()}}),[e.url,e.id,a]),(0,i.useEffect)((()=>{const t=a.location;`${t.pathname}${t.search}${t.hash}`!==e.url&&a.push(e.url)}),[e.url,a]),o().createElement(ir,{show:t===e.id},o().createElement(u.Ix,{history:a},r))},sr=(0,et.default)(s.Row).withConfig({displayName:"board-tab__TabContainer",componentId:"sc-1tw4sj3-0"})(["container-type:inline-size;container-name:tab;max-width:calc(3rem + 15ch);min-width:1rem;flex-grow:1;flex-basis:0;cursor:pointer;height:1.75rem;user-select:none;gap:0.25rem;border-radius:0.25rem;margin-left:0.25rem;margin-right:0.25rem;overflow:hidden;",""],(({active:e})=>e&&(0,et.css)(["min-width:calc(3rem + 15ch);"]))),cr=(0,et.default)(s.Container).withConfig({displayName:"board-tab__CloseContainer",componentId:"sc-1tw4sj3-1"})(["margin-left:auto;"]),ur=(0,et.default)(s.Icon).withConfig({displayName:"board-tab__TabIcon",componentId:"sc-1tw4sj3-2"})(["min-width:1.5rem;color:",";"],(({active:e})=>e?"#2196F3":"black")),dr=(0,et.default)(s.Text).withConfig({displayName:"board-tab__CustomText",componentId:"sc-1tw4sj3-3"})([""," text-overflow:unset;"],(({overflowing:e})=>e&&(0,et.css)(["mask-image:linear-gradient(90deg,#000 60%,transparent);"]))),mr=(0,et.default)(s.Container).withConfig({displayName:"board-tab__VerticalDivider",componentId:"sc-1tw4sj3-4"})(["width:0.0625rem;min-width:0.0625rem;height:2.25rem;background:",";"],(({theme:e})=>e.palette.gray3.regular)),pr=({id:e,icon:t,title:a,firstTab:n})=>{const l=Qa((e=>e.current)),r=$e(),c=(0,i.useCallback)((t=>{t.defaultPrevented||cn(e)}),[e]),u=(0,i.useCallback)((t=>{t.defaultPrevented||(t.stopPropagation(),tn(e))}),[e]),d=(0,i.useRef)(null),[m,p]=(0,i.useState)(!1),f=(0,i.useRef)();return(0,i.useEffect)((()=>(d.current&&!f.current&&(f.current=new ResizeObserver((()=>{requestAnimationFrame((()=>{d.current&&p(d.current.offsetWidth<d.current.scrollWidth)}))})),f.current.observe(d.current)),()=>{f.current?.disconnect()})),[d]),o().createElement(o().Fragment,null,!n&&o().createElement(mr,null),o().createElement(sr,{wrap:"nowrap",orientation:"row",mainAlignment:"flex-start",onClick:c,"data-testid":`board-tab-${e}`,padding:{horizontal:"extrasmall"},active:l===e},o().createElement(ur,{active:l===e,icon:t,size:"large"}),o().createElement(s.Tooltip,{label:a,placement:"top",maxWidth:"700px",triggerRef:d},o().createElement(dr,{size:"medium",weight:"regular",color:l===e?"#2196F3":"secondary",overflowing:m,className:"tab-text"},a)),o().createElement(cr,{orientation:"row",width:"fit"},o().createElement(s.Tooltip,{label:r("board.close_tab","Close Tab"),placement:"top"},o().createElement(s.IconButton,{className:"tab-close-icon-button",iconColor:"secondary",icon:"Close",onClick:u,style:{padding:"0.125rem",width:"1.5rem",height:"1.5rem"}})))))},fr=(0,et.default)(s.Row).withConfig({displayName:"board-tab-list__CustomRow",componentId:"sc-s0jduq-0"})(["overflow-x:auto;&::-webkit-scrollbar{height:0.25rem;}&::-webkit-scrollbar-track{background-color:#eaf1fb;}&::-webkit-scrollbar-thumb{background-color:#c2e7ff;}"]),gr=()=>{const{boards:e,orderedBoards:t}=Qa();return o().createElement(fr,{wrap:"nowrap",height:"100%",mainAlignment:"flex-start",takeAvailableSpace:!0},e&&!(0,m.isEmpty)(t)&&(0,m.map)(t,((t,a)=>o().createElement(pr,{key:t,id:t,title:e[t].title,icon:e[t].icon,firstTab:0===a}))))},hr=["n","s","e","w","ne","se","sw","nw"];function br(e){const t=(0,m.find)([["n","s"],["e","w"],["ne","sw"],["nw","se"]],(t=>t.includes(e)))?.join("");return t?.concat("-resize")??""}function vr(e,t,a){const n={top:t.top,left:t.left,height:t.height,width:t.width};if(e.includes("n")){const e=t.clientTop-a.clientY;n.height=t.height+e,n.top=t.top-e}if(e.includes("s")&&(n.height=a.clientY-t.clientTop),e.includes("e")&&(n.width=a.clientX-t.clientLeft),e.includes("w")){const e=t.clientLeft-a.clientX;n.width=t.width+e,n.left=t.left-e}return n}function yr(){return yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},yr.apply(null,arguments)}ja({calcNewSizeAndPosition:vr});const Er=(0,et.default)(s.Container).withConfig({displayName:"resizable-container__MainContainer",componentId:"sc-1eyb1m-0"})(["position:relative;width:100%;height:100%;"]),wr=et.default.div.withConfig({displayName:"resizable-container__BorderWithResize",componentId:"sc-1eyb1m-1"})(["position:absolute;z-index:2;cursor:",";width:",";height:",";",";",""],(({$cursor:e})=>e),(({$width:e})=>e),(({$height:e})=>e),(({$position:e})=>e),(({$translateTransform:e})=>(e?.x||e?.y)&&(0,et.css)(["transform:translate(",",",");"],e?.x??0,e?.y??0))),_r=({border:e,elementToResize:t,localStorageKey:a,keepSyncedWithStorage:n})=>{const l=(0,i.useRef)(null),r=((e,t,a)=>{const n=(0,i.useRef)(),[l,r]=Ha(a?.localStorageKey??"use-resize-data",{},{keepSyncedWithStorage:a?.keepSyncedWithStorage}),o=(0,i.useRef)(l);(0,i.useEffect)((()=>{o.current={...l}}),[l]);const s=(0,i.useCallback)((({width:t,height:a,top:n,left:l})=>{if(e.current){const r=e.current,i=o.current,s=getComputedStyle(e.current),c=parseFloat(s.minHeight)||0,u=parseFloat(s.minWidth)||0;n>=0&&a>=c&&(i.height=a,i.top=n),l>=0&&t>=u&&(i.width=t,i.left=l),(0,m.forEach)(i,((e,t)=>{Ga(r,t,e)})),r.style.bottom="",r.style.right="",o.current=i}}),[e]),c=(0,i.useCallback)((e=>{if(n.current){const a=vr(t,n.current,e);s(a)}}),[t,s]),u=(0,i.useCallback)((()=>{Fa(void 0),document.body.removeEventListener("mousemove",c),document.body.removeEventListener("mouseup",u),a?.localStorageKey&&r(o.current)}),[c,a?.localStorageKey,r]);return(0,i.useCallback)((a=>{if(!a.defaultPrevented&&e.current){a.preventDefault();const l=e.current.getBoundingClientRect();n.current={width:e.current.offsetWidth,height:e.current.offsetHeight,top:e.current.offsetTop,left:e.current.offsetLeft,clientTop:l.top,clientLeft:l.left},Fa(br(t)),document.body.addEventListener("mousemove",c),document.body.addEventListener("mouseup",u)}}),[t,e,c,u])})(t,e,{localStorageKey:a,keepSyncedWithStorage:n}),s=(0,i.useMemo)((()=>{switch(e){case"n":case"s":return{$width:"100%",$height:"0.25rem"};case"e":case"w":return{$width:"0.25rem",$height:"100%"};default:return{$width:"0.25rem",$height:"0.25rem"}}}),[e]),c=(0,i.useMemo)((()=>{const t={},a={};return e.includes("n")&&(t.top=0,a.y="-50%"),e.includes("s")&&(t.bottom=0,a.y="50%"),e.includes("e")&&(t.right=0,a.x="50%"),e.includes("w")&&(t.left=0,a.x="-50%"),{$position:t,$translateTransform:a}}),[e]);return o().createElement(wr,yr({ref:l},s,c,{$cursor:br(e),onMouseDown:r,"data-testid":`resizable-border-${e}`}))},Cr=({elementToResize:e,children:t,localStorageKey:a,disabled:n=!1,keepSyncedWithStorage:l,...r})=>{const s=(0,i.useMemo)((()=>hr.map((t=>o().createElement(_r,{key:`resizable-border-${t}`,border:t,elementToResize:e,localStorageKey:a,keepSyncedWithStorage:l})))),[e,l,a]);return o().createElement(Er,r,!n&&s,t)};var kr=a(7241),Ar=a(1015),zr=a(4517);const xr=({children:e})=>(0,zr.Ub)({minWidth:1920,minHeight:720})?o().createElement(o().Fragment,null,e):null,Sr=et.default.div.withConfig({displayName:"board-container__BoardContainerCompMobile",componentId:"sc-m7rj4k-0"})(["position:fixed;width:100vw;height:100vh;top:0;left:0;background-color:rgba(0,0,0,0);pointer-events:none;z-index:",";",""],H,(({minimized:e})=>e&&(0,et.css)(["display:none;"]))),Tr=(0,et.default)(s.Container).withConfig({displayName:"board-container__BoardMobile",componentId:"sc-m7rj4k-1"})(["z-index:5;position:absolute;",";"," "," box-shadow:0 0.125rem 0.3125rem 0 rgba(125,125,125,0.5);pointer-events:auto;max-height:100%;max-width:100%;",";"],{right:"0",bottom:"0"},(({width:e})=>!e&&(0,et.css)(["width:100vw;"])),(({height:e})=>!e&&(0,et.css)(["height:100vh;"])),(({expanded:e})=>e&&(0,et.css)(["height:100vh;width:calc(100% - 3rem) !important;min-height:100vh;"]))),Rr=et.default.div.withConfig({displayName:"board-container__BoardContainerComp",componentId:"sc-m7rj4k-2"})(["position:fixed;width:calc(100vw - 200px);height:calc(100vh - 80px);top:80px;left:100px;right:100px;background-color:transparent;pointer-events:none;z-index:",";"," ",""],H,(({expanded:e})=>e&&(0,et.css)(["background-color:transparent;pointer-events:auto;"])),(({minimized:e})=>e&&(0,et.css)(["display:none;"]))),Mr=(0,et.default)(s.Container).withConfig({displayName:"board-container__OverflowContainer",componentId:"sc-m7rj4k-3"})(["overflow:auto;"]),Ir=(0,et.default)(s.Container).withConfig({displayName:"board-container__Board",componentId:"sc-m7rj4k-4"})(["z-index:5;position:absolute;",";"," "," min-height:calc("," * 3);min-width:calc("," * 2);box-shadow:0 0.125rem 0.3125rem 0 rgba(125,125,125,0.5);pointer-events:auto;border-top-left-radius:16px;border-top-right-radius:16px;max-height:100%;max-width:100%;",";"],{right:"0",bottom:"0"},(({width:e})=>!e&&(0,et.css)(["aspect-ratio:4 / 3;width:600px;"])),(({height:e})=>!e&&(0,et.css)(["height:600px;@media (min-height:800px){height:60vh;}@media (min-height:1000px){height:50vh;}"])),$,U,(({expanded:e})=>e&&(0,et.css)(["height:calc(100% - 1.5rem) !important;width:calc(100% - 3rem) !important;top:1.5rem !important;left:1.5rem !important;min-height:auto;"]))),Pr=(0,et.default)(s.Row).withConfig({displayName:"board-container__BoardHeader",componentId:"sc-m7rj4k-5"})(["position:relative;padding:0.5rem;"]),Or=(0,et.default)(s.Row).withConfig({displayName:"board-container__BoardDetailContainer",componentId:"sc-m7rj4k-6"})(["min-height:0;"]),Br=(0,et.default)(s.IconButton).withConfig({displayName:"board-container__BackButton",componentId:"sc-m7rj4k-7"})(["background-color:#2196f3;color:#ffffff;:hover{background-color:#ffffff;color:#2196f3;}"]),Dr=(0,et.default)(s.Row).withConfig({displayName:"board-container__Actions",componentId:"sc-m7rj4k-8"})([""]);function Vr({icon:e,label:t,selected:a,app:n,boardId:l}){const r=$e(),c=(0,i.useCallback)((e=>{e.stopPropagation(),tn(l)}),[l]);return o().createElement(s.Container,{orientation:"horizontal",mainAlignment:"flex-start",gap:"0.5rem"},e&&o().createElement(s.Icon,{icon:e,size:"large",color:"text",style:{pointerEvents:"none"}}),o().createElement(Mr,{crossAlignment:"flex-start"},o().createElement(s.Text,{size:"medium",weight:a?"bold":"regular",color:"gray0"},t),o().createElement(s.Text,{size:"small",weight:a?"bold":"regular",color:"secondary"},n&&r("board.from_app","From {{app}}",{app:n}))),o().createElement(s.IconButton,{icon:"CloseOutline",size:"large",onClick:c}))}function Nr(e,t,a){const n=t-a;return e>n?n>0?n:0:e}const Lr=()=>{const e=$e(),{boards:t,minimized:a,expanded:n,current:l,orderedBoards:r}=Qa(),c=(0,i.useMemo)((()=>(0,m.map)(r,(e=>({id:e,label:t[e].title,icon:t[e].icon,onClick:()=>cn(e),selected:e===l,customComponent:o().createElement(Vr,{label:t[e].title,icon:t[e].icon,selected:e===l,app:De(t[e].app)()?.display,boardId:e})})))),[t,l,r]),u=(0,i.useRef)(null),d=(0,i.useRef)(null),[p,f]=Ha(P,{}),[g,h]=(0,i.useState)(p),b=(0,i.useRef)(p),[v,y]=((e,t)=>{const[a,n]=(0,i.useState)(!1),l=(0,i.useRef)(!1),r=(0,i.useRef)(),[o,s]=Ha(t?.localStorageKey||"use-move-data",{},{keepSyncedWithStorage:t?.keepSyncedWithStorage}),c=(0,i.useRef)(o),u=(0,i.useRef)(),d=(0,i.useRef)(!1),p=(0,i.useCallback)((({left:t,top:a})=>{if(e.current){const n=e.current,l=c.current;a>=0&&(l.top=a),t>=0&&(l.left=t),(0,m.forEach)(l,((e,t)=>{Ga(n,t,e)})),c.current=l}}),[e]);(0,i.useEffect)((()=>{c.current={...o}}),[e,o]);const f=(0,i.useCallback)((e=>{e.preventDefault(),document.body.removeEventListener("click",f,{capture:!0})}),[]),g=(0,i.useCallback)((t=>{if(document.body.addEventListener("click",f,{capture:!0}),r.current&&e.current){const a=e.current.offsetParent instanceof HTMLElement&&e.current.offsetParent||document.body,n=function(e,t,a){const n=t.getBoundingClientRect(),l=n.top??0,r=a.clientY-e.mouseClientY,i=e.clientTop+r,o=e.top+r,s=n.left??0,c=a.clientX-e.mouseClientX,u=e.clientLeft+c,d=e.left+c;return{left:u>s?d:0,top:i>l?o:0}}(r.current,a,t);p({left:n.left,top:n.top}),d.current=!0}}),[e,p,f]),h=(0,i.useCallback)((()=>{document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.classList.add("no-active-background"),document.body.addEventListener("mousemove",g),Fa("move"),l.current=!0,n(!0)}),[g]),b=(0,i.useCallback)((()=>{document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.classList.remove("no-active-background"),document.body.removeEventListener("mousemove",g),Fa(void 0),l.current=!1,n(!1)}),[g]),v=(0,i.useCallback)((()=>{u.current&&clearTimeout(u.current),l.current&&b(),document.body.removeEventListener("mouseup",v),t?.localStorageKey&&d.current&&(s(c.current),d.current=!1)}),[b,t?.localStorageKey,s]);return[a,(0,i.useCallback)((t=>{if(!t.defaultPrevented&&e.current){const a=e.current.getBoundingClientRect();r.current={width:e.current.offsetWidth,height:e.current.offsetHeight,left:e.current.offsetLeft,top:e.current.offsetTop,clientTop:a.top,clientLeft:a.left,mouseClientY:t.clientY,mouseClientX:t.clientX},u.current=setTimeout(h,250),document.body.addEventListener("mouseup",v)}}),[e,h,v])]})(u,{localStorageKey:P}),E=(0,i.useMemo)((()=>0===(0,m.size)(g)),[g]),w=(0,i.useMemo)((()=>(0,m.isEmpty)(t)),[t]),_=(0,i.useCallback)((()=>{f({}),sn()}),[f]);(0,i.useEffect)((()=>{w&&f((e=>{const t={...e};return delete t.left,delete t.top,t}))}),[w,f]),(0,i.useEffect)((()=>{if(u.current){const e=u.current;Ga(e,"width",g.width),Ga(e,"height",g.height),Ga(e,"top",g.top),Ga(e,"left",g.left)}}),[g]);const C=(0,i.useMemo)((()=>(0,m.debounce)((()=>{if(d.current&&d.current.clientHeight>0&&d.current.clientWidth>0){const e={};void 0!==b.current.width&&(e.width=b.current.width),void 0!==b.current.height&&(e.height=b.current.height);const t=d.current;void 0!==b.current.top&&(e.top=Nr(b.current.top,t.clientHeight,W.top)),void 0!==b.current.left&&(e.left=Nr(b.current.left,t.clientWidth,W.left)),h(e)}}),0,{leading:!1,trailing:!0})),[]);(0,i.useEffect)((()=>(window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)})),[C]),(0,i.useEffect)((()=>(b.current={...p},u.current?(0,m.size)(p)>0?C():h({}):h({...p}),()=>{C.cancel()})),[p,C]);const k=(0,i.useCallback)((e=>t=>{"click"===t.type&&t.defaultPrevented||e(t)}),[]),A=(0,i.useMemo)((()=>l&&t[l]?.context),[t,l]);return!w&&l&&o().createElement("div",null,o().createElement(xr,null,o().createElement(Rr,{expanded:n,minimized:a,ref:d},o().createElement(Ir,{"data-testid":"NewItemContainer",background:"#ffffff",crossAlignment:"unset",expanded:n,ref:u,width:g.width,height:g.height},o().createElement(Cr,{crossAlignment:"unset",elementToResize:u,localStorageKey:P,disabled:n},o().createElement(Pr,{"data-testid":"BoardHeader",onMouseDown:!n&&y||void 0},o().createElement(s.Padding,{all:"extrasmall"},o().createElement(s.Tooltip,{label:e("board.hide","Hide board"),placement:"top",disabled:v},o().createElement(Br,{size:"large",icon:"BoardCollapseOutline",onClick:k(ln)}))),o().createElement(gr,null),o().createElement(Dr,{padding:{all:"extrasmall"}},A&&"object"==typeof A&&"onReturnToApp"in A&&A.onReturnToApp&&o().createElement(s.Padding,{right:"extrasmall"},o().createElement(s.Tooltip,{label:e("board.open_app","Open in app"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:"DiagonalArrowRightUp",onClick:k(nn)}))),o().createElement(s.Container,{gap:"0.25rem",orientation:"horizontal",width:"fit",height:"fit"},o().createElement(s.Tooltip,{label:e("board.show_tabs","Show other tabs"),placement:"top",disabled:v},o().createElement(s.Dropdown,{items:c},o().createElement(s.IconButton,{icon:"ChevronDown",onClick:k(m.noop)}))),o().createElement(s.Tooltip,{label:E?e("board.reset_size.disabled","Board already at the default position"):e("board.reset_size.enabled","Return to default position and size"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:"DiagonalArrowLeftDown",onClick:k(_),disabled:E})),o().createElement(s.Tooltip,{label:n?e("board.reduce","Reduce board"):e("board.enlarge","Enlarge board"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:n?"CollapseOutline":"ExpandOutline",onClick:k(n?sn:on)}))),o().createElement(s.Tooltip,{label:e("board.close_tabs","Close all your tabs"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:"CloseOutline",onClick:k(an)})))),o().createElement(s.Divider,{style:{height:"0.125rem"}}),o().createElement(Or,{takeAvailableSpace:!0},(0,m.map)(t,(e=>o().createElement(or,{key:e.id,board:e})))))))),o().createElement(kr.A,null,o().createElement(Rr,{expanded:n,minimized:a,ref:d},o().createElement(Ir,{"data-testid":"NewItemContainer",background:"#ffffff",crossAlignment:"unset",expanded:n,ref:u,width:g.width,height:g.height},o().createElement(Cr,{crossAlignment:"unset",elementToResize:u,localStorageKey:P,disabled:n},o().createElement(Pr,{"data-testid":"BoardHeader",onMouseDown:!n&&y||void 0},o().createElement(s.Padding,{all:"extrasmall"},o().createElement(s.Tooltip,{label:e("board.hide","Hide board"),placement:"top",disabled:v},o().createElement(Br,{size:"large",icon:"BoardCollapseOutline",onClick:k(ln)}))),o().createElement(gr,null),o().createElement(Dr,{padding:{all:"extrasmall"}},A&&"object"==typeof A&&"onReturnToApp"in A&&A.onReturnToApp&&o().createElement(s.Padding,{right:"extrasmall"},o().createElement(s.Tooltip,{label:e("board.open_app","Open in app"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:"DiagonalArrowRightUp",onClick:k(nn)}))),o().createElement(s.Container,{gap:"0.25rem",orientation:"horizontal",width:"fit",height:"fit"},o().createElement(s.Tooltip,{label:e("board.show_tabs","Show other tabs"),placement:"top",disabled:v},o().createElement(s.Dropdown,{items:c},o().createElement(s.IconButton,{icon:"ChevronDown",onClick:k(m.noop)}))),o().createElement(s.Tooltip,{label:E?e("board.reset_size.disabled","Board already at the default position"):e("board.reset_size.enabled","Return to default position and size"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:"DiagonalArrowLeftDown",onClick:k(_),disabled:E})),o().createElement(s.Tooltip,{label:n?e("board.reduce","Reduce board"):e("board.enlarge","Enlarge board"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:n?"CollapseOutline":"ExpandOutline",onClick:k(n?sn:on)}))),o().createElement(s.Tooltip,{label:e("board.close_tabs","Close all your tabs"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:"CloseOutline",onClick:k(an)})))),o().createElement(s.Divider,{style:{height:"0.125rem"}}),o().createElement(Or,{takeAvailableSpace:!0},(0,m.map)(t,(e=>o().createElement(or,{key:e.id,board:e})))))))),o().createElement(Ar.A,null,o().createElement(Sr,{minimized:a,ref:d},o().createElement(Tr,{"data-testid":"NewItemContainer",background:"gray6",crossAlignment:"unset",expanded:n,ref:u,width:g.width,height:g.height},o().createElement(Cr,{crossAlignment:"unset",elementToResize:u,localStorageKey:P,disabled:n},o().createElement(Pr,{"data-testid":"BoardHeader",background:"gray5",onMouseDown:!n&&y||void 0},o().createElement(s.Padding,{all:"extrasmall"},o().createElement(s.Tooltip,{label:e("board.hide","Hide board"),placement:"top",disabled:v},o().createElement(Br,{icon:"BoardCollapseOutline",onClick:k(ln)}))),o().createElement(gr,null),o().createElement(Dr,{padding:{all:"extrasmall"}},A&&"object"==typeof A&&"onReturnToApp"in A&&A.onReturnToApp&&o().createElement(s.Padding,{right:"extrasmall"},o().createElement(s.Tooltip,{label:e("board.open_app","Open in app"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:"DiagonalArrowRightUp",onClick:k(nn)}))),o().createElement(s.Container,{gap:"0.25rem",orientation:"horizontal",width:"fit",height:"fit"},o().createElement(s.Tooltip,{label:e("board.show_tabs","Show other tabs"),placement:"top",disabled:v},o().createElement(s.Dropdown,{items:c},o().createElement(s.IconButton,{icon:"ChevronDown",onClick:k(m.noop)}))),o().createElement(s.Tooltip,{label:E?e("board.reset_size.disabled","Board already at the default position"):e("board.reset_size.enabled","Return to default position and size"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:"DiagonalArrowLeftDown",onClick:k(_),disabled:E})),o().createElement(s.Tooltip,{label:n?e("board.reduce","Reduce board"):e("board.enlarge","Enlarge board"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:n?"CollapseOutline":"ExpandOutline",onClick:k(n?sn:on)}))),o().createElement(s.Tooltip,{label:e("board.close_tabs","Close all your tabs"),placement:"top",disabled:v},o().createElement(s.IconButton,{icon:"CloseOutline",onClick:k(an)})))),o().createElement(s.Divider,{style:{height:"0.125rem"}}),o().createElement(Or,{takeAvailableSpace:!0},(0,m.map)(t,(e=>o().createElement(or,{key:e.id,board:e})))))))))||null},Fr=({children:e})=>{const t=(0,s.useScreenMode)(),a=(0,i.useMemo)((()=>({isMobile:"mobile"===t})),[t]);return o().createElement(ol.Provider,{value:a},e)};var Gr;function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},jr.apply(null,arguments)}const $r=e=>i.createElement("svg",jr({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 829 111"},e),Gr||(Gr=i.createElement("path",{d:"M306.721 72.44c-2.884-5.599-7.295-9.5-10.858-11.112v-.255c9.501-4.326 18.237-14.674 18.237-26.04 0-22.903-19.679-33.506-41.054-33.506h-51.912V21.63h51.912c11.79 0 18.152 4.75 18.152 13.911 0 6.956-5.598 13.487-19 13.657h-51.064v19.17h41.648c12.469 0 18.492 3.732 22.903 12.045l14.674 28.331h25.277zM412.835 53.1v-.17c6.701-4.496 10.009-11.875 10.009-20.358 0-16.54-12.724-30.96-37.407-30.96h-54.033v20.103h52.76c12.045 0 15.862 4.326 15.862 11.112 0 6.107-2.884 11.536-15.862 11.536h-52.76v18.746h55.135c13.911 0 18.153 5.683 18.153 12.978 0 7.38-3.563 12.553-18.153 12.553h-55.135v20.104h55.135c25.617 0 40.97-12.13 40.97-32.403 0-11.62-5.938-20.188-14.674-23.241M157.517 1.442l-40.46 86.69-10.01 20.442h21.461l11.875-25.532h51.912l11.875 25.532h21.036L175.16 1.442zm28.077 64.127h-38.171l1.273-1.697 17.643-38.934h.254l17.728 38.934zM102.891 91.013c-11.452 12.384-26.805 19.255-45.296 19.255C19.764 110.268 0 87.789 0 55.726 0 23.578 20.612.082 57.765.082c19.254 0 33.76 6.107 45.041 18.83L87.283 34.437C80.328 25.02 70.658 20.1 57.765 20.1c-24.43 0-34.778 15.099-34.778 35.626 0 19.764 9.67 34.354 34.693 34.354 12.893 0 22.987-5.005 30.027-14.166zM661.451 108.828h-19l-48.434-59.207-7.973-12.638h-.255v71.845h-22.563V1.272h19l49.028 59.207 7.465 12.214h.254V1.272h22.563v107.556zM702.506 108.828h-22.563V1.272h22.563zM773.419 110.185c-36.22 0-55.39-22.393-55.39-54.456C718.029 23.75 737.114 0 773.419 0c36.474 0 55.389 23.75 55.389 55.729-.085 31.978-19.679 54.456-55.389 54.456m0-90.082c-22.818 0-32.403 14.844-32.403 35.626 0 20.018 9.585 34.269 32.403 34.269 23.071 0 32.402-14.166 32.402-34.27 0-20.187-9.331-35.625-32.402-35.625M494.35 110.27c-36.22 0-55.39-22.393-55.39-54.456 0-31.979 19.085-55.73 55.39-55.73 36.474 0 55.389 23.751 55.389 55.73 0 32.063-19.679 54.456-55.389 54.456m0-89.997c-22.818 0-32.403 14.844-32.403 35.626 0 20.018 9.585 34.268 32.403 34.268 23.072 0 32.402-14.165 32.402-34.268 0-20.188-9.245-35.626-32.402-35.626"})));function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ur.apply(null,arguments)}(0,et.default)(s.Container).withConfig({displayName:"module-selector__SelectorContainer",componentId:"sc-191wz47-0"})(["border-right:0.0625rem solid ",";cursor:pointer;background:",";&:hover{background:",";}"],(({theme:e})=>e.palette.gray4.regular),(({theme:e,open:t})=>e.palette[t?"gray5":"gray6"].regular),(({theme:e,open:t})=>e.palette[t?"gray5":"gray6"].hover));const Hr=()=>{const e=qn(),t=Pe((e=>e.views.search)),[a,n]=ze(),l=(0,i.useMemo)((()=>t.find((e=>e.route===a))),[a,t]),[r,c]=(0,i.useState)(!1),u=(0,i.useMemo)((()=>t.map((({id:e,label:t,icon:a,route:l})=>({id:e,label:t,icon:a,onClick:()=>{Qn({route:y,path:""}),n(l)}})))),[t,n]);(0,i.useEffect)((()=>{e?.route&&a!==e.route&&t.find((t=>t.route===e.route))&&n(e.route)}),[l,a,t,n,e?.route]);const d=(0,i.useCallback)((()=>{c(!0)}),[]),m=(0,i.useCallback)((()=>{c(!1)}),[]);return l?o().createElement("div",{style:{width:"100%",height:"48px",display:"flex"}},o().createElement(s.Dropdown,{items:u,onOpen:d,onClose:m,style:{width:"100%",height:"48px",display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},o().createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",width:"100%",height:"48px",justifyContent:"space-between",backgroundColor:Ke.Ud}},o().createElement(He.A,{variant:"body2",style:{marginLeft:"16px"}},l?.label),o().createElement(s.Icon,{size:"large",icon:r?"ChevronUpOutline":"ChevronDownOutline",color:r?Ke.OT:Ke.tm,style:{marginRight:"8px"}})))):null};var Wr=a(6346);const qr=(0,et.default)(s.IconButton).withConfig({displayName:"search-bar__OutlinedIconButton",componentId:"sc-1h49lt8-0"})(["display:flex;align-items:center;height:48px;width:48px;& svg{border:none;}"]),Kr=(0,et.default)(s.ChipInput).withConfig({displayName:"search-bar__StyledChipInput",componentId:"sc-1h49lt8-1"})(["cursor:pointer;overflow-x:hidden;padding:0 1rem;&:hover{outline:none;background:",";}height:48px;"],(({theme:e,disabled:t})=>t?"gray5":"FOREGROUND_COLOR_FOCUSED")),Yr=(0,et.default)(s.Container).withConfig({displayName:"search-bar__StyledContainer",componentId:"sc-1h49lt8-2"})(["height:48px;overflow-y:hidden;&:first-child{transform:translateY(-0.125rem);}"]),Zr=()=>{const e=(0,i.useRef)(null),t=$e(),[a,n]=Ha(I,[]),[l,r]=(0,i.useState)(""),c=(0,u.W6)(),[d]=ze(),{updateQuery:p,query:f,searchDisabled:g,setSearchDisabled:h,tooltip:b}=Ce(),v=Pe((e=>e.views.search)),E=(0,i.useMemo)((()=>v.find((({route:e})=>e===d))?.label||d),[d,v]),[w,_]=(0,i.useState)(!1),[C,k]=(0,i.useState)([]),[A,z]=(0,i.useState)(!1),[x,S]=(0,i.useState)(f),T=(0,i.useMemo)((()=>x.length>0||e.current?.value&&e.current?.value?.length>0),[x.length]),R=(0,i.useCallback)((()=>{e.current&&(e.current.value="",e.current?.focus()),_(!1),S([]),h(!1),p([]),r("")}),[h,p]),M=(0,i.useCallback)((()=>{p((t=>{const a=e?.current;if(a&&(a.value=""),l.length>0){const e=[...x,...(0,m.map)(l.split(" "),((e,t)=>({id:`${t}`,label:e,hasAvatar:!1})))];return S(e),r(""),(0,m.reduce)(e,((e,a)=>((0,m.some)(t,(e=>e.label===a.label))||e.push(a),e)),(0,m.filter)(t,(e=>(0,m.some)(x,(t=>t.label===e.label)))))}return r(""),(0,m.reduce)(x,((e,a)=>((0,m.some)(t,(e=>e.label===a.label))||e.push(a),e)),(0,m.filter)(t,(e=>(0,m.some)(x,(t=>t.label===e.label)))))})),c.push(`/${y}`)}),[p,c,l,x]),P=(0,i.useMemo)((()=>(0,m.filter)(a,(e=>e.app===d)).reverse().map((e=>({...e,disabled:g,onClick:()=>{const t={...e,hasAvatar:!1,onClick:void 0};S((e=>[...e,t]))}})))),[a,d,g]),O=(0,i.useCallback)(((e,t)=>{e.length>0?k(P.filter((a=>e&&a.label.includes(e)&&!(0,m.some)(t,(e=>e.value===a.label)))).slice(0,5)):k(P.slice(0,5))}),[P]),B=(0,i.useCallback)((e=>{const t=e[e.length-1]?.label;t&&"string"==typeof t&&d&&!(0,m.find)(P,(e=>e.label===t))&&n((e=>[...e,{value:t,label:t,icon:"ClockOutline",app:d,id:t}])),S(e)}),[P,d,n]),D=(0,i.useCallback)((e=>{e.textContent?_(!0):_(!1),r(e.textContent||""),O(e.textContent||"",f)}),[f,O]);(0,i.useEffect)((()=>{if(d){const e=(0,m.filter)(P,(e=>e.app===d)).slice(0,5);k(e)}}),[P,d]),(0,i.useRef)(null);const V=(0,i.useCallback)((()=>z(!0)),[]),N=(0,i.useCallback)((()=>z(!1)),[]);(0,i.useEffect)((()=>{const t=e.current,a=e=>{"Enter"===e.key&&(M(),N())};return t&&t.addEventListener("keyup",a),()=>{t&&t.removeEventListener("keyup",a)}}),[M,N]);const L=(0,i.useMemo)((()=>C.length<=0||w),[C,w]),F=(0,i.useMemo)((()=>A&&d?t("search.active_input_label","Separate your keywords by a comma or pressing TAB"):t("search.idle_input_label","Search in {{module}}",{module:E})),[d,A,E,t]),G=(0,i.useMemo)((()=>T||w?t("search.clear","Clear search input"):t("search.already_clear","Search input is already clear")),[T,t,w]),j=(0,i.useMemo)((()=>!w&&!T),[T,w]),$=(0,i.useMemo)((()=>!j&&x.length>0?t("search.start","Start search"):A?t("search.type_or_choose_suggestion","Type or choose some keywords to start a search"):f.length>0?t("label.edit_to_start_search","Edit your search to start a new one"):t("search.type_to_start_search","Type some keywords to start a search")),[j,x.length,A,f.length,t]),U=(0,i.useCallback)((e=>{if(_(!1),r(""),d){const e=(0,m.filter)(P,(e=>e?.app===d)).slice(0,5);k(e)}return{label:"string"==typeof e?e:"",value:e,hasAvatar:!1}}),[P,d]);(0,i.useEffect)((()=>{S((0,m.map)(f,(e=>({...e,disabled:g}))))}),[g,f]);const[H,W]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{Ke.kN&&W(!0)}),[Ke.kN]),o().createElement("div",{style:{width:"100%",height:"100%"}},o().createElement(kr.A,null,o().createElement("div",{style:{display:"flex",width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o().createElement(Ue.A,{container:!0,sx:{maxWidth:"50vw",minWidth:"500px"}},o().createElement(Ue.A,{size:3},o().createElement(Wr.A,{raised:!!H,sx:{width:"100%",height:"100%",borderBottomRightRadius:"0",bordertoprightRadius:"0",borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px"}},o().createElement(Hr,null))),o().createElement(Ue.A,{size:6},o().createElement(Wr.A,{raised:!!H,sx:{width:"100%",height:"100%",borderBottomLeftRadius:"0",borderTopLeftRadius:"0",backgroundColor:g?"gray5":"gray6"}},o().createElement(Yr,{orientation:"horizontal"},o().createElement(Kr,{disabled:g,inputRef:e,value:x,onAdd:U,options:C,placeholder:F,confirmChipOnBlur:!1,separators:[{key:"Enter",ctrlKey:!1},{key:",",ctrlKey:!1},{key:" ",ctrlKey:!1}],onChange:B,onInputType:D,onInputTypeDebounce:0,onBlur:N,onFocus:V,disableOptions:L,requireUniqueChips:!1,wrap:"nowrap"})))),o().createElement(Ue.A,{size:3},o().createElement("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"row",marginLeft:"10px"}},o().createElement("div",null,!j&&o().createElement(Wr.A,{raised:!!H,sx:{borderRadius:"8px"}},o().createElement(s.Tooltip,{label:G,placement:"bottom"},o().createElement(qr,{size:"large",customSize:{iconSize:"large",paddingSize:"small"},disabled:j,icon:"BackspaceOutline",iconColor:Ke.OT,onClick:R})))),o().createElement("div",null,o().createElement(Wr.A,{raised:!!H,sx:{borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",backgroundColor:Ke.Ud,marginLeft:"10px"}},o().createElement(s.Tooltip,{maxWidth:"100%",disabled:g,label:$,placement:"bottom"},o().createElement(s.IconButton,{size:"large",customSize:{iconSize:"large",paddingSize:"small"},icon:"Search",disabled:j,iconColor:j?Ke.OT:Ke.tm,onClick:M}))))))))),o().createElement(xr,null,o().createElement("div",{style:{display:"flex",width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o().createElement(Ue.A,{container:!0,sx:{maxWidth:"50vw",minWidth:"500px"}},o().createElement(Ue.A,{size:3},o().createElement(Wr.A,{raised:!!H,sx:{width:"100%",height:"100%",borderBottomRightRadius:"0",bordertoprightRadius:"0",borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px"}},o().createElement(Hr,null))),o().createElement(Ue.A,{size:6},o().createElement(Wr.A,{raised:!!H,sx:{width:"100%",height:"100%",borderBottomLeftRadius:"0",borderTopLeftRadius:"0",backgroundColor:g?"gray5":"gray6"}},o().createElement(Yr,{orientation:"horizontal"},o().createElement(Kr,{disabled:g,inputRef:e,value:x,onAdd:U,options:C,placeholder:F,confirmChipOnBlur:!1,separators:[{key:"Enter",ctrlKey:!1},{key:",",ctrlKey:!1},{key:" ",ctrlKey:!1}],onChange:B,onInputType:D,onInputTypeDebounce:0,onBlur:N,onFocus:V,disableOptions:L,requireUniqueChips:!1,wrap:"nowrap"})))),o().createElement(Ue.A,{size:3},o().createElement("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"row",marginLeft:"10px"}},o().createElement("div",null,!j&&o().createElement(Wr.A,{raised:!!H,sx:{borderRadius:"8px"}},o().createElement(s.Tooltip,{label:G,placement:"bottom"},o().createElement(qr,{size:"large",customSize:{iconSize:"large",paddingSize:"small"},disabled:j,icon:"BackspaceOutline",iconColor:Ke.OT,onClick:R})))),o().createElement("div",null,o().createElement(Wr.A,{raised:!!H,sx:{borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",backgroundColor:Ke.Ud,marginLeft:"10px"}},o().createElement(s.Tooltip,{maxWidth:"100%",disabled:g,label:$,placement:"bottom"},o().createElement(s.IconButton,{size:"large",customSize:{iconSize:"large",paddingSize:"small"},icon:"Search",disabled:j,iconColor:j?Ke.OT:Ke.tm,onClick:M}))))))))))};var Xr=a(5709),Jr=a(2235),Qr=a(7475),ei=a(4179);const ti=(0,Q.vt)()((e=>({mode:"closed",current:void 0,secondaryBarState:!0,setMode:t=>e((e=>({mode:t,secondaryBarState:"open"!==t&&e.secondaryBarState}))),setCurrent:t=>e({current:t}),setSecondaryBarState:t=>e({secondaryBarState:t})}))),ai=(e,t)=>(0,m.intersection)(e,t).length>0,ni=(e,t)=>{const a=Object.values((0,m.omit)(t,"focusMode")??{});return e.blacklistRoutes?!ai(a,e.blacklistRoutes):!e.whitelistRoutes||ai(a,e.whitelistRoutes)},li=()=>{const e=Pe((e=>e.views.utilityBar)),t=qn();return(0,i.useMemo)((()=>(0,m.filter)(e,(e=>ni(e,t)))),[t,e])},ri=(0,et.default)(s.Container).withConfig({displayName:"shell-secondary-bar__SidebarContainer",componentId:"sc-4cqsy-0"})(["min-width:3rem;max-width:100%;width:",";transition:width 300ms;overflow-x:hidden;"],(({sidebarIsOpen:e})=>e?"100%":"3rem")),ii=({activeRoute:e})=>{const t=ti((e=>e.secondaryBarState)),a=ti((e=>e.setSecondaryBarState)),n=(0,i.useCallback)((()=>a(!t)),[t,a]),l=Pe((e=>e.views.secondaryBar)),r=Pe((e=>e.views.secondaryBarAccessories)),c=(0,i.useMemo)((()=>(0,m.sortBy)((0,m.filter)(r,(t=>ni(t,e))),"position")),[e,r]);return(0,i.useMemo)((()=>(0,m.findIndex)(l,(t=>t.id===e?.id))<0),[e?.id,l])?null:o().createElement(o().Fragment,null,o().createElement("div",{style:{height:"100%",width:"100%"}},o().createElement(ri,{"data-testid":"SideSecondaryBarContainer",sidebarIsOpen:t,role:"menu",mainAlignment:"space-between",onClick:t?void 0:n},o().createElement(s.Container,{mainAlignment:"flex-start"},o().createElement(u.dO,null,(0,m.map)(l,(e=>o().createElement(u.qh,{key:e.id,path:`/${e.route}`},o().createElement(Ee,{pkg:e.app},o().createElement(e.component,{expanded:t}))))))),o().createElement(s.Container,{mainAlignment:"flex-end",height:"fit"},c.map((e=>o().createElement(Ee,{key:e.id,pkg:e.app},o().createElement(e.component,{expanded:t}))))))))},oi=o().memo(ii),si=()=>{const e=qn();return o().createElement(oi,{activeRoute:e})};var ci=a(4492);(0,et.default)((e=>{const{loaded:t}=_a(),a=function(){const{carbonioWebUiAppLogo:e,carbonioWebUiDarkAppLogo:t}=_a(),{darkModeEnabled:a}=Kl();return(0,i.useMemo)((()=>a?t||e||$r:e||t||$r),[t,e,a])}();return t?"string"==typeof a&&o().createElement("img",Ur({alt:""},e,{src:a}))||o().createElement(a,e):o().createElement(o().Fragment,null)})).withConfig({displayName:"shell-header__StyledLogo",componentId:"sc-1yz2cfr-0"})(["height:2rem;"]),(0,et.default)(s.Container).withConfig({displayName:"shell-header__ShellHeaderContainer",componentId:"sc-1yz2cfr-1"})(["z-index:",";"],H+1);const ui=({children:e})=>{const{darkReaderStatus:t}=Kl(),a=((0,s.useScreenMode)(),Pe((e=>e.views.search.length>0))),n=ae(),l=ti((e=>e.secondaryBarState)),r=()=>{ti.getState().setSecondaryBarState(!l)},[i,c]=o().useState(!1);return o().createElement("div",{style:{width:"100%",height:"100%"}},o().createElement(xr,null,o().createElement(s.Catcher,null,o().createElement(Ue.A,{container:!0,sx:{height:"100%",width:"100%",backgroundColor:Ke.b3}},o().createElement(Ue.A,{size:3,sx:{height:"96px"}},o().createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:"100%",marginLeft:"16px"}},o().createElement(Xr.A,{onClick:r},o().createElement(Qr.A,{style:{}})),o().createElement("img",{src:ei,style:{height:"40px",width:"auto",marginLeft:"16px"}}))),o().createElement(Ue.A,{size:6},a&&o().createElement(Zr,null)),o().createElement(Ue.A,{size:3},o().createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginRight:"16px",alignItems:"center",height:"100%"}},o().createElement(He.A,{variant:"body2",style:{marginRight:"16px"}},"Welcome! ",n?.displayName||"Guest"),o().createElement(Wr.A,{raised:!0,sx:{backgroundColor:Ke.Ud,borderRadius:"50%"}},e)))))),o().createElement(kr.A,null,o().createElement(s.Catcher,null,o().createElement(Ue.A,{container:!0,sx:{height:"100%",width:"100%",backgroundColor:Ke.b3}},o().createElement(Ue.A,{size:3,sx:{height:"96px"}},o().createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:"100%",marginLeft:"16px"}},o().createElement(Xr.A,{onClick:r},o().createElement(Qr.A,{style:{}})),o().createElement("img",{src:ei,style:{height:"40px",width:"auto",marginLeft:"16px"}}))),o().createElement(Ue.A,{size:6},a&&o().createElement(Zr,null)),o().createElement(Ue.A,{size:3},o().createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginRight:"16px",alignItems:"center",height:"100%"}},o().createElement(He.A,{variant:"body2",style:{marginRight:"16px"}},"Welcome! ",n?.displayName||"Guest"),o().createElement(Wr.A,{raised:!0,sx:{backgroundColor:Ke.Ud,borderRadius:"50%"}},e)))))),o().createElement(Ar.A,null,o().createElement(s.Catcher,null,o().createElement("div",{style:{width:"100%",height:"70px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},o().createElement(Wr.A,{raised:!0,sx:{maxWidth:"100%",minWidth:"90%",height:"50px"}},o().createElement(Ue.A,{container:!0,sx:{height:"100%",width:"100%",backgroundColor:Ke.b3}},o().createElement(Ue.A,{size:6,sx:{height:"100%"}},o().createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:"100%",marginLeft:"8px"}},o().createElement(Xr.A,{onClick:()=>c(!0)},o().createElement(Qr.A,{style:{}})),o().createElement("img",{src:ei,style:{height:"30px",width:"auto",marginLeft:"8px"}}))),o().createElement(Ue.A,{size:6},o().createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginRight:"16px",alignItems:"center",height:"100%"}},o().createElement(Wr.A,{raised:!0,sx:{backgroundColor:Ke.Ud,borderRadius:"50%"}},e)))))),o().createElement(Jr.Ay,{sx:{width:"60vw",height:"100%",borderTopRightRadius:"10px"},anchor:"left",open:i,onClose:(!1,()=>{c(false)})},o().createElement("div",{style:{width:"60vw",height:"100%",borderTopRightRadius:"10px",justifyContent:"space-between"}},o().createElement("div",{style:{height:"20%",backgroundColor:Ke.Ud,display:"flex",flexDirection:"column",justifyContent:"flex-end"}},o().createElement(ci.A,{style:{marginLeft:"16px",fontSize:"48px"}}),o().createElement(He.A,{variant:"h6",style:{marginLeft:"16px"}},"Welcome ",n?.displayName||"Guest")),o().createElement("div",{style:{height:"75%"}},o().createElement("div",{style:{width:"100%",height:"100%",overflowY:"auto"}},o().createElement(si,null))),o().createElement("div",{style:{height:"5%",backgroundColor:Ke.Ud,display:"flex",flexDirection:"column",justifyContent:"flex-end"}},o().createElement(He.A,{style:{marginLeft:"16px"},variant:"body2"},"Copyrights @ 2024 Indryve Inc.")))))))},di=(0,et.default)(s.Badge).withConfig({displayName:"badge-wrap__MiniBadge",componentId:"sc-w6kick-0"})(["position:absolute;bottom:25%;right:25%;transform:translate(30%,30%);min-width:0.75rem;min-height:0.75rem;pointer-events:none;z-index:99;font-size:0.625rem;background:",";padding:0.125rem;color:",";"],(({$color:e,theme:t})=>t.palette[e??"primary"].regular),(({theme:e})=>e.palette.gray6.regular)),mi=(0,i.forwardRef)((function({badge:e,children:t},a){return o().createElement(s.Container,{width:"3rem",height:"3rem",style:{position:"relative"},ref:a},e.show&&o().createElement(di,{"data-testid":"badge-counter",value:e.showCount?e.count??0:""}),t)})),pi=(0,et.default)(s.Container).withConfig({displayName:"shell-primary-bar__PrimaryBarContainer",componentId:"sc-ixisow-0"})(["border-right:0.0625rem solid ",";z-index:",";"],(({theme:e})=>e.palette.gray3.regular),H+1),fi=()=>{const{minimized:e,boards:t}=Qa();return(0,m.isEmpty)(t)?null:o().createElement(s.Container,{width:"4rem",height:"4rem"},o().createElement(s.IconButton,{iconColor:Ke.Zl,icon:e?"BoardOpen":"BoardCollapse",onClick:e?rn:ln,size:"large"}))},gi=({view:e,active:t,onClick:a})=>{if((0,zr.Ub)({minWidth:1025}),(0,zr.Ub)({maxWidth:1024})){if(["Files","Chats","Contact Groups and Distribution Lists","Tasks","Search"].includes(e.label))return null}else if(["Files","Chats","Contact Groups and Distribution Lists"].includes(e.label))return null;const[n,l]=o().useState(!1);return(0,i.useEffect)((()=>{Ke.kN?l(!0):l(!1)}),[Ke.kN]),o().createElement(s.Tooltip,{label:e.label,placement:"right",key:e.id},o().createElement(mi,{badge:e.badge},"string"==typeof e.component?o().createElement(Wr.A,{raised:!(!n||!t)},o().createElement(s.IconButton,{icon:e.component,backgroundColor:t?Ke.Ud:Ke.SR,iconColor:t?Ke.OT:Ke.tm,onClick:a,size:"large","data-isselected":t})):o().createElement(e.component,{active:t})))},hi=({view:e})=>o().createElement(s.Tooltip,{label:e.label,placement:"right",key:e.id},o().createElement(Ee,{key:e.id,pkg:e.app},"string"==typeof e.component?o().createElement(s.IconButton,{icon:e.component,backgroundColor:"gray6",iconColor:"text",onClick:e.onClick??m.noop,size:"large"}):o().createElement(e.component,null))),bi=(0,et.default)(s.Row).withConfig({displayName:"shell-primary-bar__OverlayRow",componentId:"sc-ixisow-1"})(["min-height:0.0625rem;overflow-y:auto;overflow-y:overlay;"]),vi=()=>{const e=qn(),t=Pe((e=>e.views.primaryBar)),{push:a}=(0,u.W6)(),{pathname:n,search:l}=(0,u.zy)(),r=(0,i.useRef)({});(0,i.useEffect)((()=>{r.current=t.reduce(((e,t)=>(e[t.id]||(e[t.id]=t.route),e)),r.current)}),[t]),(0,i.useEffect)((()=>{e&&e.id!==y&&(r.current={...r.current,[e.id]:`${(0,m.trim)(n,"/")}${l}`})}),[e,n,l]);const s=Pe((e=>e.views.primaryBarAccessories)),c=(0,i.useMemo)((()=>(0,m.sortBy)((0,m.filter)(s,(t=>ni(t,e))),"position")),[e,s]),d=(0,i.useMemo)((()=>(0,m.map)(t,(t=>t.visible?o().createElement(gi,{key:t.id,onClick:()=>a(`/${r.current[t.id]}`),view:t,active:e?.id===t.id}):null))),[e?.id,a,t]),p=(0,i.useMemo)((()=>c.map((e=>o().createElement(hi,{view:e,key:e.id})))),[c]);return o().createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",zIndex:1}},o().createElement(xr,null,o().createElement(pi,{width:"fill",height:"fill",orientation:"vertical",mainAlignment:"flex-start","data-testid":"SideMenuContainer"},o().createElement(bi,{mainAlignment:"flex-start",orientation:"vertical",takeAvailableSpace:!0,wrap:"nowrap"},d,o().createElement(fi,null)),o().createElement(bi,{mainAlignment:"flex-end",orientation:"vertical",wrap:"nowrap"},p))),o().createElement(kr.A,null,o().createElement(pi,{width:"fill",height:"fill",orientation:"vertical",mainAlignment:"flex-start","data-testid":"SideMenuContainer"},o().createElement(bi,{mainAlignment:"flex-start",orientation:"vertical",takeAvailableSpace:!0,wrap:"nowrap"},d,o().createElement(fi,null)),o().createElement(bi,{mainAlignment:"flex-end",orientation:"vertical",wrap:"nowrap"},p))),o().createElement(Ar.A,null,o().createElement(Wr.A,{raised:!0,style:{width:"100%",height:"100%"}},o().createElement(pi,{width:"fill",height:"fill",background:"white",orientation:"horizontal",mainAlignment:"space-between","data-testid":"SideMenuContainer"},o().createElement(bi,{mainAlignment:"space-around",orientation:"horizontal",takeAvailableSpace:!0,wrap:"nowrap",width:"fill"},d,o().createElement(fi,null)),o().createElement(bi,{mainAlignment:"flex-end",orientation:"vertical",wrap:"nowrap"},p)))))},yi=({view:e})=>{const{mode:t,setMode:a,current:n,setCurrent:l}=ti(),r=(0,i.useCallback)((()=>{a(n!==e.id||"open"!==t?"open":"closed"),l(e.id)}),[n,t,l,a,e.id]);return"string"==typeof e.button?o().createElement(s.Tooltip,{label:e.label,placement:"bottom-end"},o().createElement(s.IconButton,{icon:e.button,iconColor:n===e.id?"primary":"text",onClick:r,size:"large"})):o().createElement(e.button,{mode:t,setMode:a})},Ei=()=>{const e=li(),t=$e(),a=ae(),n=(0,i.useCallback)((()=>{const e=new CustomEvent(K.updateView);window.dispatchEvent(e)}),[]),l=(0,i.useMemo)((()=>[{id:"account",label:a?.displayName??"Account",disabled:!0},{id:"email",label:a?.name??"",disabled:!0},{type:"divider",id:"divider",label:"divider"},{id:"update",label:t("label.update_view","Update view"),onClick:()=>{pa(),n()},icon:"Refresh"},{id:"docs",label:t("label.documentation","Documentation"),onClick:m.noop,disabled:!0,icon:"InfoOutline"},{id:"logout",label:t("label.logout","Logout"),onClick:Ca,icon:"LogOut"}]),[a?.displayName,a?.name,t,n]),r=(0,i.useMemo)((()=>(0,m.map)(e,(e=>o().createElement(yi,{view:e,key:e.id})))),[e]);return o().createElement(s.Container,{orientation:"horizontal",width:"fit"},r,o().createElement(s.Tooltip,{label:a?.displayName??a?.name,placement:"bottom-end"},o().createElement(s.Dropdown,{items:l,maxWidth:"18.75rem",disableAutoFocus:!0},o().createElement(s.IconButton,{icon:"PersonOutline",size:"large",onClick:m.noop}))))},wi=(0,et.default)(s.Container).withConfig({displayName:"panel__Panel",componentId:"sc-1czvuxd-0"})(["width:","rem;border-radius:0;height:100%;position:absolute;right:0;top:0;bottom:0;transition:width 0.2s;border-left:0.0625rem solid ",";"],(({mode:e})=>"closed"!==e?16:3),(({theme:e})=>e.palette.gray2.regular)),_i=et.default.div.withConfig({displayName:"panel__Spacer",componentId:"sc-1czvuxd-1"})(["position:relative;width:","rem;height:100%;transition:width 0.2s;"],(({mode:e})=>"open"===e?16:3)),Ci=()=>{const{mode:e,setMode:t,current:a,setCurrent:n}=ti(),l=li(),r=(0,i.useMemo)((()=>(0,m.find)(l,(e=>e.id===a))),[a,l]);return(0,i.useEffect)((()=>{a&&r||n(l[0]?.id)}),[a,r,n,l]),r?o().createElement(s.Responsive,{mode:"desktop"},o().createElement(_i,{mode:e},o().createElement(wi,{mode:e,mainAlignment:"flex-start"},r&&o().createElement(Ee,{pkg:r?.id},o().createElement(r.component,{mode:e,setMode:t}))))):null};var ki=a(3380),Ai=a(4878),zi=a(7287),xi=a(1302),Si=a(4648);const Ti=({activeRoute:e,location:t})=>{$e();const a=Pn({activeRoute:e,location:t},E.NEW),n=(0,i.useMemo)((()=>(0,m.find)(a,(t=>(t.group===e?.id||t.group===e?.app)&&!0===t.primary))),[a,e?.app,e?.id]),l=Be(),r=(0,i.useMemo)((()=>(0,m.groupBy)(a,"group")),[a]),s=(0,i.useMemo)((()=>[...r[e?.app??""]??[],...(0,m.reduce)(l,((t,a,n)=>(a.name!==e?.app&&r[a.name]?.length>0&&t.push({type:"divider",label:"",id:`divider-${n}`},...r[a.name]),t)),[])]),[e?.app,l,r]),[c,u]=(0,i.useState)(!1),[d,p]=(0,i.useState)(!1),f=ti((e=>e.secondaryBarState)),[g,h]=o().useState(!1);return(0,i.useEffect)((()=>{h(!!f)}),[f]),n?o().createElement("div",null,g?o().createElement("div",null,o().createElement(kr.A,null,o().createElement(Wr.A,{raised:!0,sx:{backgroundColor:Ke.Ud,display:"flex",flexDirection:"row",marginLeft:"16px",width:"fit-content",cursor:"pointer",borderRadius:"16px"}},o().createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",padding:"16px",paddingBottom:"16px"},onClick:n.onClick||n.click||m.noop},o().createElement(Si.A,{style:{marginRight:"0.5rem",color:Ke.OT}}),o().createElement(He.A,{variant:"subtitle1",style:{color:"#000000"}},"Compose")),o().createElement(ki.A,{style:{height:"100%",width:"1px",padding:"0",margin:"0"}}),o().createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",padding:"2px",justifyContent:"center"},onClick:e=>u(!c)},o().createElement(xi.A,{style:{color:Ke.OT}})),o().createElement(Ai.A,{id:"basic-menu",anchorReference:"anchorPosition",anchorPosition:{top:175,left:0},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:c,onClose:()=>u(!1)},s.map((e=>"New Chat"===e.label?null:o().createElement(zi.A,{key:e.id,onClick:e.onClick||m.noop,disabled:e.disabled},e.label)))))),o().createElement(xr,null,o().createElement(Wr.A,{raised:!0,sx:{backgroundColor:Ke.Ud,display:"flex",flexDirection:"row",marginLeft:"16px",width:"fit-content",cursor:"pointer",borderRadius:"16px"}},o().createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",padding:"16px",paddingBottom:"16px"},onClick:n.onClick||n.click||m.noop},o().createElement(Si.A,{style:{marginRight:"0.5rem",color:Ke.OT}}),o().createElement(He.A,{variant:"subtitle1",style:{color:"#000000"}},"Compose")),o().createElement(ki.A,{style:{height:"100%",width:"1px",padding:"0",margin:"0"}}),o().createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",padding:"2px",justifyContent:"center"},onClick:e=>u(!c)},o().createElement(xi.A,{style:{color:Ke.OT}})),o().createElement(Ai.A,{id:"basic-menu",anchorReference:"anchorPosition",anchorPosition:{top:175,left:0},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:c,onClose:()=>u(!1)},s.map((e=>"New Chat"===e.label?null:o().createElement(zi.A,{key:e.id,onClick:e.onClick||m.noop,disabled:e.disabled},e.label)))))),o().createElement(Ar.A,null,o().createElement(Wr.A,{raised:!0,sx:{backgroundColor:Ke.Ud,display:"flex",flexDirection:"row",marginLeft:"16px",width:"fit-content",cursor:"pointer",borderRadius:"16px"}},o().createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",padding:"16px",paddingBottom:"16px",justifyContent:"center"},onClick:n.onClick||n.click||m.noop},o().createElement(Si.A,{style:{color:Ke.OT}}))))):o().createElement(Wr.A,{raised:!0,sx:{backgroundColor:Ke.Ud,display:"flex",flexDirection:"row",marginLeft:"16px",width:"fit-content",cursor:"pointer",borderRadius:"16px"}},o().createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",padding:"16px",paddingBottom:"16px",justifyContent:"center"},onClick:n.onClick||n.click||m.noop},o().createElement(Si.A,{style:{color:Ke.OT}})))):o().createElement("div",null,o().createElement(Wr.A,{raised:!0,sx:{backgroundColor:Ke.Ud,display:"flex",flexDirection:"column",marginLeft:"16px",width:"fit-content",cursor:"pointer",borderRadius:"16px"},onClick:e=>u(!c)},o().createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",padding:"16px",paddingBottom:"16px"}},o().createElement(Si.A,{style:{marginRight:"0.5rem",color:Ke.OT}}),o().createElement(He.A,{variant:"subtitle1",style:{color:"#000000"}},"Compose")),o().createElement(xr,null,o().createElement(Ai.A,{id:"basic-menu",anchorReference:"anchorPosition",anchorPosition:{top:150,left:0},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:c,onClose:()=>u(!1)},s.map((e=>"New Chat"===e.label||"New contact group"===e.label||"Upload"===e.label?null:o().createElement(zi.A,{key:e.id,onClick:e.onClick||m.noop,disabled:e.disabled},e.label))))),o().createElement(kr.A,null,o().createElement(Ai.A,{id:"basic-menu",anchorReference:"anchorPosition",anchorPosition:{top:150,left:0},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:c,onClose:()=>u(!1)},s.map((e=>"New Chat"===e.label||"New contact group"===e.label||"Upload"===e.label?null:o().createElement(zi.A,{key:e.id,onClick:e.onClick||m.noop,disabled:e.disabled},e.label))))),o().createElement(Ar.A,null,o().createElement(Ai.A,{id:"basic-menu",anchorReference:"anchorPosition",anchorPosition:{top:150,left:0},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:c,onClose:()=>u(!1)},s.map((e=>"New Chat"===e.label||"New contact group"===e.label||"Upload"===e.label?null:o().createElement(zi.A,{key:e.id,onClick:e.onClick||m.noop,disabled:e.disabled},e.label)))))))},Ri=o().memo(Ti),Mi=()=>{const e=(0,u.zy)(),t=qn(),a=(0,i.useMemo)((()=>(e=>({...e,pathname:e?.pathname?.split("/").slice(0,2).join("/"),key:""}))(e)),[e]);return o().createElement(Ri,{activeRoute:t,location:a})},Ii=(et.default.div.withConfig({displayName:"shell-view__Background",componentId:"sc-1116s2y-0"})(["background:",";display:flex;flex-direction:column;height:100%;min-height:100%;max-height:100%;width:100%;min-width:60rem;max-width:100%;"],(({theme:e})=>e.palette.gray6.regular)),()=>{const e=ti((e=>e.secondaryBarState)),[t,a]=o().useState(!1);(0,i.useEffect)((()=>{a(!!e)}),[e]);const[n,l]=o().useState(!1),r=qn(),[c,u]=o().useState(!1),[d,m]=o().useState(!1);return(0,i.useEffect)((()=>{"search"===r?.id?(u(!0),m(!1)):"settings"===r?.id?(m(!0),u(!1)):(m(!1),u(!1))}),[r]),o().createElement("div",{style:{height:"100vh",width:"100vw",display:"flex",backgroundColor:Ke.b3,overflow:"hidden"}},o().createElement(xr,null,o().createElement(Ue.A,{container:!0,sx:{height:"100%",width:"100%"}},o().createElement(Ue.A,{size:12},!k&&o().createElement(ui,null,o().createElement(Ei,null))),o().createElement(Ue.A,{size:12,sx:{height:"calc(100% - 96px)",width:"100%",backgroundColor:Ke.b3}},o().createElement("div",{style:{height:"100%",width:"100%"}},o().createElement(Ue.A,{container:!0,spacing:2,sx:{height:"100%",width:"100%"}},o().createElement(Ue.A,{size:t?2:1,sx:{height:"100%",backgroundColor:Ke.b3}},o().createElement("div",{style:{height:"100%",width:"100%"}},o().createElement(Ue.A,{container:!0,spacing:2,sx:{width:"100%"}},o().createElement(Ue.A,{size:12,sx:{height:"auto"}},c||d?null:o().createElement(Mi,null)),o().createElement(Ue.A,{size:12},!k&&o().createElement(s.Container,{orientation:"horizontal",background:"transparent",width:"fill",height:"fill",mainAlignment:"flex-start",crossAlignment:"flex-start"},o().createElement(si,null)))))),o().createElement(Ue.A,{size:t?9.5:10.5,sx:{height:"100%",backgroundColor:Ke.b3,borderTopLeftRadius:"16px",borderTopRightRadius:"16px"}},o().createElement(Wr.A,{raised:!0,sx:{height:"100%",width:"100%",borderTopLeftRadius:"16px",borderTopRightRadius:"16px"}},o().createElement(lr,null),o().createElement(Ci,null))),o().createElement(Ue.A,{size:.5,sx:{height:"100%",backgroundColor:Ke.b3}},!k&&o().createElement(s.Container,{orientation:"horizontal",background:"transparent",width:"fill",height:"fill",mainAlignment:"flex-start",crossAlignment:"flex-start"},o().createElement(vi,null))))))),o().createElement(Lr,null)),o().createElement(kr.A,null,o().createElement(Ue.A,{container:!0,sx:{height:"100%",width:"100%"}},o().createElement(Ue.A,{size:12},!k&&o().createElement(ui,null,o().createElement(Ei,null))),o().createElement(Ue.A,{size:12,sx:{height:"calc(100% - 96px)",width:"100%",backgroundColor:Ke.b3}},o().createElement("div",{style:{height:"100%",width:"100%"}},o().createElement(Ue.A,{container:!0,spacing:2,sx:{height:"100%",width:"100%"}},o().createElement(Ue.A,{size:t?3:1.5,sx:{height:"100%",backgroundColor:Ke.b3}},o().createElement("div",{style:{height:"100%",width:"100%"}},o().createElement(Ue.A,{container:!0,spacing:2,sx:{width:"100%"}},o().createElement(Ue.A,{size:12,sx:{height:"auto"}},c||d?null:o().createElement(Mi,null)),o().createElement(Ue.A,{size:12},!k&&o().createElement(s.Container,{orientation:"horizontal",background:"transparent",width:"fill",height:"fill",mainAlignment:"flex-start",crossAlignment:"flex-start"},o().createElement(si,null)))))),o().createElement(Ue.A,{size:t?8:9.5,sx:{height:"100%"}},o().createElement(Wr.A,{raised:!0,sx:{height:"100%",width:"100%",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",backgroundColor:Ke.b3}},o().createElement(lr,null),o().createElement(Ci,null))),o().createElement(Ue.A,{size:1,sx:{height:"100%",backgroundColor:Ke.b3}},!k&&o().createElement(s.Container,{orientation:"horizontal",background:"transparent",width:"fill",height:"fill",mainAlignment:"flex-start",crossAlignment:"flex-start"},o().createElement(vi,null))))))),o().createElement(Lr,null)),o().createElement(Ar.A,null,o().createElement("div",{style:{height:"100%",width:"100%"}},o().createElement("div",{style:{height:"70px",width:"100%"}},!k&&o().createElement(ui,null,o().createElement(Ei,null))),o().createElement("div",{style:{height:"calc(100% - 70px)",width:"100%"}},o().createElement("div",{style:{height:"100%",width:"100%",marginTop:"16px"}},o().createElement(lr,null),o().createElement(Ci,null))),o().createElement("div",{style:{display:"flex",position:"fixed",bottom:"0",left:"0",width:"100%"}},!k&&o().createElement("div",{style:{height:"60px",width:"100%"}},o().createElement(vi,null))),o().createElement("div",{style:{display:"flex",position:"fixed",bottom:"86px",right:"16px"}},c||d?null:o().createElement(Mi,null)))),o().createElement("div",null,o().createElement(Lr,null)))}),Pi=()=>o().createElement(Fr,null,o().createElement(Ll.PreviewManager,null,o().createElement(Ii,null))),Oi=()=>{const{route:e}=(0,u.g)();return(0,i.useEffect)((()=>{e&&Pe.setState({focusMode:e})}),[e]),null},Bi=()=>{const[e]=(0,c.useTranslation)();return(0,i.useEffect)((()=>{(e=>{const{attrs:t}=ee.getState().settings;(0,m.size)(t)>0&&"FALSE"!==t.zimbraFeatureOptionsEnabled&&(Pe.getState().addRoute((e=>({id:b,app:b,route:b,appView:qa,badge:{show:!1},label:e("settings.app","Settings"),position:1100,visible:!0,primaryBar:"SettingsModOutline",secondaryBar:Ka}))(e)),Pe.getState().addSettingsView((e=>({id:"general",route:"general",app:h,component:Wa,icon:"SettingsModOutline",label:e("settings.general.general","General Settings"),position:1,subSections:Sa(e)}))(e)),Pe.getState().addSettingsView((e=>({id:"accounts",route:"accounts",app:h,component:wa,icon:"PersonOutline",label:e("settings.accounts","Accounts"),position:1}))(e))),Pe.getState().addRoute((e=>({id:y,app:y,route:y,appView:Qe,badge:{show:!1},label:e("search.app","Search"),position:1e3,visible:!0,primaryBar:"SearchModOutline"}))(e))})(e)}),[e]),null},Di=()=>o().createElement(er,null,o().createElement(Wl,null,o().createElement(d.BrowserRouter,{basename:A},o().createElement(s.SnackbarManager,null,o().createElement(Hl,null),k&&o().createElement(u.dO,null,o().createElement(u.qh,{path:"/:route"},o().createElement(Oi,null))),o().createElement(Bi,null),o().createElement(tr,null),o().createElement(Ja,null),o().createElement(Ge,null),o().createElement(Pi,null)))))},362:(e,t)=>{"use strict";t.d=void 0,t.d={zh_CN:{name:" ()",value:"zh_CN",dateFnsLocale:"zh-CN",tinymceLocale:"zh-Hans"},nl:{name:"Nederlands",value:"nl"},en:{name:"English",value:"en",dateFnsLocale:"en-US"},de:{name:"Deutsch",value:"de"},hi:{name:"",value:"hi"},it:{name:"italiano",value:"it"},ja:{name:"",value:"ja"},pt:{name:"portugus",value:"pt",tinymceLocale:"pt_BR"},pl:{name:"polski",value:"pl"},pt_BR:{name:"portugus (Brasil)",value:"pt_BR",dateFnsLocale:"pt-BR"},ro:{name:"romn",value:"ro"},ru:{name:"",value:"ru"},es:{name:"espaol",value:"es"},th:{name:"",value:"th",tinymceLocale:"th_TH"},tr:{name:"Trke",value:"tr"},fr:{name:"franais",value:"fr",tinymceLocale:"fr_FR"},vi:{name:"Ting Vit",value:"vi"}}},3913:(e,t,a)=>{var n={"./de/index.js":[9539,920],"./en-US/index.js":[3346,346],"./es/index.js":[1760,760],"./fr/index.js":[7732,732],"./hi/index.js":[2075,75],"./it/index.js":[7481,488,481],"./ja/index.js":[8777,777],"./nl/index.js":[7146,146],"./pl/index.js":[2992,488,992],"./pt-BR/index.js":[2107,107],"./pt/index.js":[3224,224],"./ro/index.js":[5539,539],"./ru/index.js":[3021,488,21],"./th/index.js":[2328,328],"./tr/index.js":[6338,338],"./vi/index.js":[8117,117],"./zh-CN/index.js":[6408,488,408]};function l(e){if(!a.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],l=t[0];return Promise.all(t.slice(1).map(a.e)).then((()=>a.t(l,23)))}l.keys=()=>Object.keys(n),l.id=3913,e.exports=l},7640:()=>{},3237:()=>{},7492:()=>{},1815:()=>{},6671:()=>{},5168:()=>{}}]);
//# sourceMappingURL=662.31178f5a.chunk.js.map