"use strict";(self.webpackChunkcarbonio_mails_ui=self.webpackChunkcarbonio_mails_ui||[]).push([[323],{4990:(e,t,a)=>{a.d(t,{i:()=>u});var l=a(7559),r=a.n(l),n=a(4702),s=a(7196),o=a(2509),i=a(9628),c=a(9902),d=a(9431);const u=({folder:e,onClose:t,headerTitle:a,actionLabel:u,actionTooltip:m,disabledActionTooltip:h,inputLabel:g,confirmAction:b,showSharedAccounts:p,showTrashFolder:f,showSpamFolder:v,allowFolderCreation:C,allowRootSelection:y})=>{const[E,A]=(0,l.useState)(e),S=(0,l.useCallback)((()=>{b(E,A,t)}),[b,E,t]),k=(0,l.useMemo)((()=>(0,o.isNil)(E)||E?.id===e?.l),[e?.l,E]),I=k?h??(0,s.t)("label.folder_not_valid_destination","The selected folder is not a valid destination"):m;return r().createElement(n.Container,{padding:{all:"large"},mainAlignment:"center",crossAlignment:"flex-start",height:"fit",style:{overflowY:"auto"}},r().createElement(c.A,{onClose:t,title:a}),r().createElement(n.Container,{"data-testid":"select-folder-modal",padding:{all:"small"},mainAlignment:"center",crossAlignment:"flex-start",height:"fit",style:{overflowY:"auto"}},r().createElement(n.Container,{padding:{all:"small"},mainAlignment:"center",crossAlignment:"flex-start"},r().createElement(n.Text,{overflow:"break-word"},g)),r().createElement(d.W,{selectedFolderId:E?.id,onFolderSelected:A,showTrashFolder:f,showSpamFolder:v,allowFolderCreation:C,allowRootSelection:y,showSharedAccounts:p}),r().createElement(i.A,{tooltip:I,onConfirm:S,secondaryAction:t,label:u,secondaryLabel:(0,s.t)("label.cancel","Cancel"),disabled:k})))}},8703:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ee});var l=a(7559),r=a.n(l),n=a(2940),s=a(4702),o=a(7196),i=a(2509),c=a(8698),d=a(7431);const u=({compProps:e})=>{const{attachmentType:t,setAttachmentType:a,emailStatus:n,setEmailStatus:c}=e,u=(0,d.q)(o.t),m=(0,d.Jp)(o.t),h=(0,l.useRef)(),g=(0,l.useRef)(),[b,p]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),[C,y]=(0,l.useState)(u),[E,A]=(0,l.useState)(m),S=(0,l.useCallback)(((e,t)=>{t(e)}),[]),k=(0,l.useCallback)((({items:e,label:t,preText:a,hasAvatar:l,isGeneric:r,isQueryFilter:n})=>{const s=(0,i.filter)(e,(e=>e.label===t))[0];return{label:`${a}:${t}`,hasAvatar:l,isGeneric:r,isQueryFilter:n,value:s.searchString,avatarIcon:s.icon,avatarColor:"gray6"}}),[]),I=(0,l.useCallback)((()=>{p(!b)}),[b]);(0,l.useEffect)((()=>{const e=h.current;return e&&e.addEventListener("click",I),()=>e?.removeEventListener("click",I)}),[b,I]);const F=(0,l.useCallback)((()=>{v(!f)}),[f]);(0,l.useEffect)((()=>{const e=g.current;return e&&e.addEventListener("click",F),()=>e?.removeEventListener("click",F)}),[f,F]);const M=(0,l.useCallback)(((e,t)=>{e.textContent&&e.textContent.length>0?y(u.filter((a=>-1!==a.label?.toLowerCase().indexOf(e.textContent)&&!(0,i.find)(t,(e=>e.value===a.label))))):y(u)}),[u]),w=(0,l.useCallback)(((e,t)=>{e.textContent&&e.textContent.length>0?A(m.filter((a=>-1!==a.label?.toLowerCase().indexOf(e.textContent)&&!(0,i.find)(t,(e=>e.value===a.label))))):A(m)}),[m]),O=(0,l.useCallback)((e=>{M(e.target,u)}),[M,u]),x=(0,l.useCallback)((e=>{w(e.target,m)}),[w,m]),T=(0,l.useCallback)((e=>k({items:u,label:e,preText:"Attachment",hasAvatar:!0,isGeneric:!0,isQueryFilter:!0})),[k,u]),_=(0,l.useCallback)((e=>k({items:m,label:e,preText:"Is",hasAvatar:!1,isGeneric:!0,isQueryFilter:!0})),[k,m]),z=(0,l.useCallback)((e=>(p(!1),S(e,a))),[S,a]),B=(0,l.useCallback)((e=>S(e,c)),[S,c]),R=(0,l.useMemo)((()=>(0,o.t)("label.attachment_type","Attachment type")),[]),$=(0,l.useMemo)((()=>(0,o.t)("label.attachment_status","Status of e-mail item")),[]),P=(0,l.useMemo)((()=>b?"ChevronDown":"ChevronUp"),[b]),L=(0,l.useMemo)((()=>f?"ChevronDown":"ChevronUp"),[f]),Q=(0,l.useMemo)((()=>b?"primary":"transparent"),[b]),j=(0,l.useMemo)((()=>f?"primary":"transparent"),[f]);return r().createElement(r().Fragment,null,r().createElement(s.Container,{padding:{bottom:"small",top:"medium"},orientation:"horizontal"},r().createElement(s.Container,{padding:{right:"extrasmall"},maxWidth:"50%"},r().createElement(s.ChipInput,{ref:h,placeholder:R,defaultValue:t,options:C,background:"gray5",disableOptions:!1,onAdd:T,onChange:z,maxChips:1,confirmChipOnBlur:!0,onInputType:O,icon:P,bottomBorderColor:Q})),r().createElement(s.Container,{padding:{left:"extrasmall"},maxWidth:"50%"},r().createElement(s.ChipInput,{dropdownMaxHeight:"40%",confirmChipOnBlur:!0,ref:g,placeholder:$,defaultValue:n,options:E,background:"gray5",disableOptions:!1,onAdd:_,onChange:B,onInputType:x,icon:L,bottomBorderColor:j,maxHeight:"40%"}))))},m=/\S+@\S+\.\S+/,h=e=>m.test(e);var g=a(2575);function b(e){return new RegExp(`^${e}:.*`,"i")}function p(e,t){const a=b(t);let l="";return e.label&&(l=e.label),e.fullName&&(l=e.fullName??""),a.test(l)?l:`${t}:${l}`}function f(e,t){const a=b(t);let l="";return e.value&&(l=e.value??""),e.email&&(l=e.email??""),e.fullName&&(l=e.fullName??""),a.test(l)?l:`${t}:${l}`}function v(e,t){return e.map((e=>({...e,error:!1,id:e.id??`${(0,g.A)()} ${e.label}`,avatarBackground:e.avatarBackground??"secondary",hasAvatar:!0,avatarIcon:"EmailOutline",isGeneric:!1,isQueryFilter:!0,label:p(e,t),fullName:p(e,t),value:f(e,t)})))}const C=({compProps:e})=>{const{receivedFromAddress:t,setReceivedFromAddress:a,sentToAddress:n,setSentToAddress:i}=e,[c,d]=(0,o.useIntegratedComponent)("contact-input"),u=(0,l.useCallback)(((e,t)=>{t(e)}),[]),m=(0,l.useCallback)((e=>u(e,a)),[u,a]),g=(0,l.useCallback)((e=>u(e,i)),[u,i]),b=(0,l.useCallback)(((e,t,a,l,r,n,s)=>({label:`${t}:${e}`,hasAvatar:a,isGeneric:l,isQueryFilter:r,value:`${t}:${e}`,hasError:n,avatarIcon:s})),[]),p=(0,l.useCallback)((e=>b(e,"from",!0,!1,!0,!h("string"==typeof e?e:""),"EmailOutline")),[b]),f=(0,l.useCallback)((e=>b(e,"to",!0,!1,!0,!h("string"==typeof e?e:""),"EmailOutline")),[b]),C="gray5",y=(0,l.useCallback)((e=>{const t=v(e,"from");a(t)}),[a]),E=(0,l.useCallback)((e=>{const t=v(e,"to");i(t)}),[i]),A=(0,l.useMemo)((()=>!(!t||!t[0]?.hasError)),[t]),S=(0,l.useMemo)((()=>!(!n||!n[0]?.hasError)),[n]);return r().createElement(s.Container,{padding:{bottom:"small",top:"medium"},orientation:"horizontal"},r().createElement(s.Container,{padding:{right:"extrasmall"},maxWidth:"50%"},d?r().createElement(c,{placeholder:(0,o.t)("label.from","From"),onChange:y,defaultValue:t??[]}):r().createElement(s.ChipInput,{placeholder:(0,o.t)("label.from","From"),background:C,value:t,onChange:m,onAdd:p,maxChips:1,description:A?(0,o.t)("label.error_address","A valid e-mail is required"):void 0,hasError:A})),r().createElement(s.Container,{padding:{left:"extrasmall"},maxWidth:"50%"},d?r().createElement(c,{placeholder:(0,o.t)("label.to","To"),onChange:E,defaultValue:n??[]}):r().createElement(s.ChipInput,{placeholder:(0,o.t)("label.to","To"),background:C,value:n,onChange:g,onAdd:f,maxChips:1,description:S?(0,o.t)("label.error_address","A valid e-mail is required"):void 0,hasError:S})))};var y=a(4222),E=a.n(y);const A="L",S=({compProps:e})=>{const{sentBefore:t,setSentBefore:a,sentAfter:n,setSentAfter:i,sentOn:c,setSentOn:d}=e,{zimbraPrefLocale:u}=(0,o.useUserSettings)().prefs;u&&E().locale(u);const m=(0,l.useCallback)((e=>{const t=`before:${E()(e).format(A)}`;a(e?[{hasAvatar:!0,avatarBackground:"gray1",label:t,value:t,isQueryFilter:!0,avatarIcon:"CalendarOutline"}]:[])}),[a]),h=(0,l.useCallback)((e=>{const t=`after:${E()(e).format(A)}`;i(e?[{hasAvatar:!0,avatarBackground:"gray1",label:t,value:t,isQueryFilter:!0,avatarIcon:"CalendarOutline"}]:[])}),[i]),g=(0,l.useCallback)((e=>{const t=`date:${E()(e).format(A)}`;d(e?[{hasAvatar:!0,avatarBackground:"gray1",label:t,value:t,isQueryFilter:!0,avatarIcon:"CalendarOutline"}]:[])}),[d]),b=(0,l.useMemo)((()=>t[0]?.label?new Date(E()(t[0]?.label.split("before:")?.[1],A).valueOf()):void 0),[t]),p=(0,l.useMemo)((()=>n[0]?.label?new Date(E()(n[0]?.label.split("after:")?.[1],A).valueOf()):void 0),[n]),f=(0,l.useMemo)((()=>c[0]?.label?new Date(E()(c[0]?.label.split("date:")?.[1],A).valueOf()):void 0),[c]);return r().createElement(s.Container,{padding:{bottom:"small",top:"medium"},orientation:"horizontal"},r().createElement(s.Container,{padding:{right:"extrasmall"}},r().createElement(s.DateTimePicker,{width:"fill",label:(0,o.t)("search.sent_before","Sent before"),enableChips:!0,chipProps:{avatarBackground:"gray1",avatarIcon:"CalendarOutline"},dateFormat:"P",locale:u,includeTime:!1,defaultValue:b,onChange:m})),r().createElement(s.Container,{padding:{horizontal:"extrasmall"}},r().createElement(s.DateTimePicker,{width:"fill",label:(0,o.t)("search.sent_after","Sent after"),enableChips:!0,chipProps:{avatarBackground:"gray1",avatarIcon:"CalendarOutline"},dateFormat:"P",locale:u,includeTime:!1,defaultValue:p,onChange:h})),r().createElement(s.Container,{padding:{left:"extrasmall"}},r().createElement(s.DateTimePicker,{width:"fill",label:(0,o.t)("search.sent_on","Sent on"),enableChips:!0,chipProps:{avatarBackground:"gray1",avatarIcon:"CalendarOutline"},dateFormat:"P",locale:u,includeTime:!1,onChange:g,defaultValue:f})))},k=({compProps:e})=>{const{sizeSmaller:t,setSizeSmaller:a,sizeLarger:n,setSizeLarger:i}=e,[c,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(!1),h=(0,l.useMemo)((()=>(0,o.t)("search.size_error","Only numbers are allowed")),[]),g=(0,l.useCallback)(((e,t)=>{t(e)}),[]),b=(0,l.useCallback)(((e,t,a,l,r,n,s)=>({label:`${t}:${e}MB`,hasAvatar:a,isGeneric:l,isQueryFilter:r,value:`${t.toLowerCase()}:${e}MB`,avatarIcon:n,error:s})),[]),p=(0,l.useCallback)((e=>e.match(/^[0-9]+$/)?d(!1):d(!0)),[]),f=(0,l.useCallback)((e=>e.match(/^[0-9]+$/)?m(!1):m(!0)),[]),v=(0,l.useCallback)((e=>(p(e),b(e,"Smaller",!0,!0,!0,"CollapseOutline",!e.match(/^[0-9]+$/)))),[b,p]),C=(0,l.useCallback)((e=>(f(e),b(e,"Larger",!0,!0,!0,"ExpandOutline",!e.match(/^[0-9]+$/)))),[b,f]),y=(0,l.useCallback)((e=>{g(e,a),0===e.length&&d(!1)}),[g,a,d]),E=(0,l.useCallback)((e=>{g(e,i),0===e.length&&m(!1)}),[g,i,m]),A=(0,l.useMemo)((()=>(0,o.t)("label.size_smaller","Size smaller than (MB)")),[]),S=(0,l.useMemo)((()=>(0,o.t)("label.size_larger","Size larger than (MB)")),[]);return r().createElement(s.Container,{padding:{bottom:"small",top:"medium"},orientation:"horizontal"},r().createElement(s.Container,{padding:{right:"extrasmall"}},r().createElement(s.ChipInput,{placeholder:A,defaultValue:[],background:"gray5",value:t,onAdd:v,hasError:c,description:c?h:void 0,errorBackgroundColor:"gray6",onChange:y,maxChips:1,confirmChipOnBlur:!0})),r().createElement(s.Container,{padding:{left:"extrasmall"}},r().createElement(s.ChipInput,{placeholder:S,defaultValue:[],background:"gray5",value:n,onAdd:C,hasError:u,description:u?h:void 0,errorBackgroundColor:"gray6",onChange:E,maxChips:1,confirmChipOnBlur:!0})))},I=({compProps:e})=>{const{otherKeywords:t,setOtherKeywords:a,subject:n,setSubject:i}=e,c=(0,l.useCallback)(((e,t)=>{t(e)}),[]),d=(0,l.useCallback)((e=>({label:e,hasAvatar:!1,isGeneric:!0})),[]),u=(0,l.useCallback)(((e,t,a,l,r)=>({label:`${t}:${e}`,hasAvatar:a,isGeneric:l,isQueryFilter:r,value:`${t}:${e}`})),[]),m=(0,l.useCallback)((e=>c(e,i)),[c,i]),g=(0,l.useCallback)((e=>c(e,a)),[c,a]),b=(0,l.useCallback)((e=>u(e,"Subject",!1,!1,!0)),[u]),p=(0,l.useCallback)(((e,t,a,l,r,n,s)=>{const o={label:`${t}:${e}`,hasAvatar:a,isGeneric:l,isQueryFilter:r,value:`${t}:${e}`,hasError:n,icon:s};return h(e)||(o.hasError=!0),o.icon="EmailOutline",o}),[]),f=((0,l.useCallback)((e=>p(e,"from",!1,!1,!0,!1,"EmailOutline")),[p]),(0,l.useCallback)((e=>p(e,"to",!1,!1,!0,!1,"EmailOutline")),[p]),(0,o.t)("label.subject","Subject"));return r().createElement(r().Fragment,null,r().createElement(s.Container,{padding:{bottom:"small",top:"medium"},orientation:"horizontal"},r().createElement(s.Container,{padding:{right:"extrasmall"},maxWidth:"50%"},r().createElement(s.ChipInput,{placeholder:(0,o.t)("label.keywords","Keywords"),"data-testid":"keywords-input",background:"gray5",value:t,separators:[{key:"Enter",ctrlKey:!1},{key:",",ctrlKey:!1}],onChange:g,onAdd:d})),r().createElement(s.Container,{padding:{left:"extrasmall"},maxWidth:"50%"},r().createElement(s.ChipInput,{placeholder:f,"data-testid":"subject-input",background:"gray5",value:n,separators:[{key:"Enter",ctrlKey:!1},{key:",",ctrlKey:!1}],onChange:m,onAdd:b,maxChips:1}))))};var F=a(9518),M=a(4990),w=a(790);const O=({compProps:e})=>{const{folder:t,setFolder:a,tagOptions:n,tag:c,setTag:d}=e,[u,m]=(0,l.useState)(!1),h=(0,l.useCallback)((()=>m(!1)),[]),g=(0,l.useCallback)((()=>m(!0)),[]),b=(0,l.useCallback)(((e,t,a,l,r,n,s)=>({label:`${t}:${e}`,hasAvatar:a,isGeneric:l,avatarIcon:n,background:"gray2",avatarBackground:s||"gray2",isQueryFilter:r,value:`${t}:"${e}"`})),[]),p=(0,l.useCallback)((e=>b(e,"in",!0,!1,!0,"FolderOutline","")),[b]),f=(0,l.useCallback)((e=>{const t=(0,i.filter)(n,{label:e})[0];return b(e,"tag",!0,!1,!0,"Tag",o.ZIMBRA_STANDARD_COLORS[t.color??0].hex)}),[b,n]),v=(0,l.useCallback)((e=>a(e)),[a]),C=(0,l.useMemo)((()=>(0,o.t)("label.tag","Tag")),[]),y=(0,l.useCallback)((e=>{d(e)}),[d]),E=(0,o.t)("share.is_contained_in","Is contained in"),A=(0,o.t)("label.choose_folder","Choose folder"),S=(0,o.t)("share.filter_folder_message","Select a folder where to start your advanced search"),k=(0,l.useCallback)(((e,t,l)=>{a([{label:`in:${e?.absFolderPath}`,hasAvatar:!0,maxWidth:"12.5rem",isGeneric:!1,background:"gray2",avatarBackground:(0,w.dk)(e),avatarIcon:"FolderOutline",isQueryFilter:!0,value:(0,F.bc)(e.id)?`inid:"${e.id}"`:`in:"${e?.absFolderPath}"`}]),l()}),[a]);return r().createElement(s.Container,{padding:{bottom:"small",top:"medium"},orientation:"horizontal"},r().createElement(s.Container,{padding:{right:"extrasmall"},maxWidth:"50%"},r().createElement(s.ChipInput,{placeholder:C,background:"gray5",defaultValue:[],options:n,value:c,onChange:y,onAdd:f,disableOptions:!1,disabled:!0,requireUniqueChips:!0})),r().createElement(s.Container,{padding:{left:"extrasmall"},maxWidth:"50%"},r().createElement(s.ChipInput,{background:"gray5",icon:"FolderOutline",placeholder:(0,o.t)("share.is_contained_in","Is contained in"),value:t,onChange:v,onAdd:p,disabled:!0,iconAction:g,requireUniqueChips:!0}),r().createElement(s.CustomModal,{open:u,onClose:h,maxHeight:"90vh",size:"medium"},r().createElement(M.i,{onClose:h,headerTitle:E,actionLabel:A,inputLabel:S,confirmAction:k,allowRootSelection:!1,allowFolderCreation:!1,showSharedAccounts:!0,showTrashFolder:!0,showSpamFolder:!0}))))},x=({compProps:e})=>{const{query:t,setUnreadFilter:a,setFlaggedFilter:c,setAttachmentFilter:d,isSharedFolderIncludedTobe:u,setIsSharedFolderIncludedTobe:m}=e,[h,g]=(0,l.useState)(!1),[b,p]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),C=(0,l.useCallback)((()=>{g(!h),a(h?[]:[{id:(0,n.nanoid)(),label:"is:unread",value:"is:unread",isQueryFilter:!0,avatarIcon:"EmailOutline",avatarBackground:"gray1"}])}),[h,a]),y=(0,l.useCallback)((()=>{v(!f),c(f?[]:[{id:(0,n.nanoid)(),label:"is:flagged",value:"is:flagged",isQueryFilter:!0,avatarIcon:"FlagOutline",avatarBackground:"error"}])}),[f,c]),E=(0,l.useCallback)((()=>{p(!b),d(b?[]:[{id:(0,n.nanoid)(),label:"has:attachment",value:"has:attachment",isQueryFilter:!0,avatarIcon:"AttachOutline",avatarBackground:"gray1"}])}),[b,d]),A=(0,l.useCallback)((()=>{m(!u)}),[u,m]);return(0,l.useEffect)((()=>{0===(0,i.filter)(t,(e=>"is:unread"===e.value||"is:unread"===e.label)).length?(g(!1),a([])):(g(!0),a([{id:(0,n.nanoid)(),label:"is:unread",value:"is:unread",isQueryFilter:!0,isGeneric:!1}])),0===(0,i.filter)(t,(e=>"is:flagged"===e.value||"is:flagged"===e.label)).length?(v(!1),c([])):(v(!0),c([{id:(0,n.nanoid)(),label:"is:flagged",value:"is:flagged",isQueryFilter:!0,isGeneric:!1,avatarIcon:"FlagOutline",avatarBackground:"error"}])),0===(0,i.filter)(t,(e=>"has:attachment"===e.value||"has:attachment"===e.label)).length?(p(!1),d([])):(p(!0),d([{id:(0,n.nanoid)(),label:"has:attachment",value:"has:attachment",isQueryFilter:!0,isGeneric:!1}]))}),[t,d,c,a]),r().createElement(r().Fragment,null,r().createElement(s.Container,{orientation:"horizontal",mainAlignment:"center",crossAlignment:"center"},r().createElement(s.Container,{padding:{all:"extrasmall"}},r().createElement(s.Container,{orientation:"horizontal",mainAlignment:"baseline",crossAlignment:"center"},r().createElement(s.Padding,{right:"small"},r().createElement(s.Switch,{onClick:E,value:b})),r().createElement(s.Text,{size:"large",weight:"bold"},(0,o.t)("label.attachment","Attachment"))),r().createElement(s.Padding,{bottom:"small"}),r().createElement(s.Text,{color:"secondary",size:"small",overflow:"break-word"},(0,o.t)("search.attachment_note","Search for all e-mails that have an attachment."))),r().createElement(s.Container,{padding:{all:"extrasmall"},mainAlignment:"flex-start",crossAlignment:"flex-start"},r().createElement(s.Container,{orientation:"horizontal",mainAlignment:"baseline",crossAlignment:"center"},r().createElement(s.Padding,{right:"small"},r().createElement(s.Switch,{onClick:y,value:f})),r().createElement(s.Text,{size:"large",weight:"bold"},(0,o.t)("label.flagged","Flagged"))),r().createElement(s.Padding,{bottom:"small"}),r().createElement(s.Text,{color:"secondary",size:"small",overflow:"break-word"},(0,o.t)("search.flagged_note","Search for all flagged e-mails.")),r().createElement(s.Padding,{bottom:"small"}))),r().createElement(s.Container,{orientation:"horizontal",mainAlignment:"center",crossAlignment:"center"},r().createElement(s.Container,{padding:{all:"extrasmall"},mainAlignment:"flex-start",crossAlignment:"flex-start"},r().createElement(s.Container,{orientation:"horizontal",mainAlignment:"baseline",crossAlignment:"center"},r().createElement(s.Padding,{right:"small"},r().createElement(s.Switch,{onClick:C,value:h})),r().createElement(s.Text,{size:"large",weight:"bold"},(0,o.t)("search.unread","Unread"))),r().createElement(s.Padding,{bottom:"small"}),r().createElement(s.Text,{color:"secondary",size:"small",overflow:"break-word"},(0,o.t)("search.unread_note","Search for all unread e-mail items.")),r().createElement(s.Padding,{bottom:"small"})),r().createElement(s.Container,{padding:{all:"extrasmall"},mainAlignment:"flex-start",crossAlignment:"flex-start"},r().createElement(s.Container,{orientation:"horizontal",mainAlignment:"baseline",crossAlignment:"center"},r().createElement(s.Padding,{right:"small"},r().createElement(s.Switch,{onClick:A,value:u})),r().createElement(s.Text,{size:"large",weight:"bold"},(0,o.t)("label.include_shared_folders","Include Shared Folders"))),r().createElement(s.Padding,{bottom:"small"}),r().createElement(s.Text,{color:"secondary",size:"small",overflow:"break-word"},(0,o.t)("search.shared_folders_note","Search inside shared folders.")),r().createElement(s.Padding,{bottom:"small"}))))};var T=a(4710),_=a.n(T);const z=_()(s.Container).withConfig({displayName:"scrollable-container__ScrollableContainer",componentId:"sc-14q1mfa-0"})(["overflow-y:auto;height:'fit-content';"]),B=({open:e,onClose:t,query:a,updateQuery:n,setIsSharedFolderIncluded:c,isSharedFolderIncluded:d})=>{const[m,h]=(0,l.useState)([]),[g,b]=(0,l.useState)([]),[p,f]=(0,l.useState)([]),[y,E]=(0,l.useState)([]),[A,F]=(0,l.useState)([]),[M,w]=(0,l.useState)([]),[T,_]=(0,l.useState)([]),[B,R]=(0,l.useState)([]),[$,P]=(0,l.useState)([]),[L,Q]=(0,l.useState)([]),[j,D]=(0,l.useState)([]),[q,G]=(0,l.useState)([]),[V,K]=(0,l.useState)([]),[N,U]=(0,l.useState)([]),[W,H]=(0,l.useState)([]),[Y,Z]=(0,l.useState)(""),[J,X]=(0,l.useState)(""),[ee,te]=(0,l.useState)(d),ae=(0,l.useMemo)((()=>["has:attachment","is:flagged","is:unread"]),[]),le=(0,l.useMemo)((()=>(0,i.map)((0,o.getTags)(),(e=>({...e,label:e.name,customComponent:r().createElement(s.Row,{takeAvailableSpace:!0,mainAlignment:"flex-start"},r().createElement(s.Row,{takeAvailableSpace:!0,mainAlignment:"space-between"},r().createElement(s.Row,{mainAlignment:"flex-end"},r().createElement(s.Padding,{right:"small"},r().createElement(s.Icon,{icon:"Tag",color:o.ZIMBRA_STANDARD_COLORS[e.color??0].hex}))),r().createElement(s.Row,{takeAvailableSpace:!0,mainAlignment:"flex-start"},r().createElement(s.TextWithTooltip,null,e.name))))})))),[]),[re,ne]=(0,l.useState)([]);(0,l.useEffect)((()=>{const e=(0,i.map)((0,i.filter)(a,(e=>!((0,i.includes)(ae,e.label)||/^Subject:/.test(e.label)||/^Attachment:/.test(e.label)||/^Is:/.test(e.label)||/^Smaller:/.test(e.label)||/^Larger:/.test(e.label)||/^subject:/.test(e.label)||/^in:/.test(e.label)||/^before:/.test(e.label)||/^after:/.test(e.label)||/^date:/.test(e.label)||/^tag:/.test(e.label)||/^to:/.test(e.label)||/^from:/.test(e.label)||e.isQueryFilter))),(e=>({...e,hasAvatar:!1}))),t=(0,i.map)((0,i.filter)(a,(e=>/^Subject:/.test(e.label))),(e=>({...e,hasAvatar:!1})));D(t);const l=(0,i.map)((0,i.filter)(a,(e=>/^Attachment:/.test(e.label))),(e=>({...e})));G(l);const r=(0,i.map)((0,i.filter)(a,(e=>/^Is:/.test(e.label))),(e=>({...e})));K(r);const n=(0,i.map)((0,i.filter)(a,(e=>/^Smaller:/.test(e.label))),(e=>({...e})));U(n);const s=(0,i.map)((0,i.filter)(a,(e=>/^Larger:/.test(e.label))),(e=>({...e})));H(s);const o=(0,i.map)((0,i.filter)(a,(e=>/^before:/.test(e.label))),(e=>({...e,hasAvatar:!0,icon:"CalendarOutline"})));R(o);const c=(0,i.map)((0,i.filter)(a,(e=>/^after:/.test(e.label))),(e=>({...e,hasAvatar:!0,icon:"CalendarOutline"})));Q(c);const d=(0,i.map)((0,i.filter)(a,(e=>/^tag:/.test(e.label))),(e=>({...e,hasAvatar:!0,icon:"TagOutline"})));ne(d);const u=(0,i.map)((0,i.filter)(a,(e=>/^date:/.test(e.label))),(e=>({...e,hasAvatar:!0,icon:"CalendarOutline"})));P(u);const m=v(a.filter((e=>/^to:*/.test(e.label))),"to");w(m);const g=v(a.filter((e=>/^from:*/.test(e.label))),"from");F(g);const b=(0,i.map)((0,i.filter)(a,(e=>/^in:/.test(e.label))),(e=>({...e,hasAvatar:!0,icon:"FolderOutline"})));_(b),h(e)}),[a,ae]);const se=(0,l.useMemo)((()=>(0,i.filter)(m,(e=>!0===e.isGeneric||!0===e.isQueryFilter)).length),[m]),oe=(({attachmentFilter:e,attachmentType:t,emailStatus:a,flaggedFilter:r,folder:n,receivedFromAddress:s,sentAfter:o,sentBefore:i,sentFromAddress:c,sentOn:d,sizeLarger:u,sizeSmaller:m,subject:h,tag:g,totalKeywords:b,unreadFilter:p})=>(0,l.useMemo)((()=>0===b&&0===h.length&&0===t.length&&0===a.length&&0===m.length&&0===u.length&&0===p.length&&0===e.length&&0===r.length&&0===s.length&&0===c.length&&0===n.length&&0===i.length&&0===d.length&&0===o.length&&0===g.length),[e.length,t.length,a.length,r.length,n.length,s.length,o.length,i.length,c.length,d.length,u.length,m.length,h.length,g.length,b,p.length]))({attachmentFilter:g,attachmentType:q,emailStatus:V,flaggedFilter:y,folder:T,receivedFromAddress:A,sentAfter:L,sentBefore:B,sentFromAddress:M,sentOn:$,sizeLarger:W,sizeSmaller:N,subject:j,tag:re,totalKeywords:se,unreadFilter:p}),ie=(0,l.useCallback)((()=>{h([]),b([]),D([]),G([]),K([]),U([]),H([]),Z(""),X(""),n([]),F([]),w([]),_([]),ne([])}),[n]),ce=(0,l.useMemo)((()=>(0,i.concat)(m,p,y,g,T,B,L,$,re,(0,i.map)(j,(e=>({...e,hasAvatar:!0,icon:"EmailOutline",iconBackground:"gray1"}))),q,V,W,N,A,M)),[g,q,V,y,T,m,A,L,B,M,$,W,N,j,re,p]),de=(0,l.useCallback)((()=>{n(ce),c(ee),t()}),[n,ce,c,ee,t]),ue=(0,l.useMemo)((()=>({otherKeywords:m,setOtherKeywords:h,subject:j,setSubject:D})),[m,j]),me=(0,l.useMemo)((()=>({receivedFromAddress:A,setReceivedFromAddress:F,sentToAddress:M,setSentToAddress:w})),[A,M]),he=(0,l.useMemo)((()=>({attachmentType:q,setAttachmentType:G,emailStatus:V,setEmailStatus:K})),[q,G,V,K]),ge=(0,l.useMemo)((()=>({t:o.t,sizeSmaller:N,setSizeSmaller:U,sizeLarger:W,setSizeLarger:H,sizeSmallerErrorLabel:Y,setSizeSmallerErrorLabel:Z,sizeLargerErrorLabel:J,setSizeLargerErrorLabel:X})),[N,U,W,H,Y,Z,J,X]),be=(0,l.useMemo)((()=>({folder:T,setFolder:_,tagOptions:le,tag:re,setTag:ne})),[T,_,le,re,ne]),pe=(0,l.useMemo)((()=>({sentBefore:B,setSentBefore:R,sentAfter:L,setSentAfter:Q,sentOn:$,setSentOn:P})),[B,R,L,Q,$,P]),fe=(0,l.useMemo)((()=>({query:a,setUnreadFilter:f,setFlaggedFilter:E,setAttachmentFilter:b,setIsSharedFolderIncludedTobe:te,isSharedFolderIncludedTobe:ee})),[a,ee]),ve=(({queryToBe:e,query:t,isSharedFolderIncluded:a,isSharedFolderIncludedTobe:r})=>(0,l.useMemo)((()=>a===r&&((e,t)=>{if(0===e.length&&0===t.length)return!0;const a=(0,i.sortBy)(e.map((e=>e.label))),l=(0,i.sortBy)(t.map((e=>e.label)));return(0,i.isEqual)(a,l)})(e,t)),[a,r,t,e]))({query:a,queryToBe:ce,isSharedFolderIncluded:d,isSharedFolderIncludedTobe:ee});return r().createElement(s.CustomModal,{open:e,onClose:t,maxHeight:"90vh",size:"medium"},r().createElement(s.ModalHeader,{onClose:t,title:(0,o.t)("label.single_advanced_filter","Advanced Filters"),showCloseIcon:!0}),r().createElement(s.Divider,null),r().createElement(z,{padding:{horizontal:"medium",vertical:"small"},mainAlignment:"flex-start"},r().createElement(x,{compProps:fe}),r().createElement(I,{compProps:ue}),r().createElement(C,{compProps:me}),r().createElement(u,{compProps:he}),r().createElement(k,{compProps:ge}),r().createElement(S,{compProps:pe}),r().createElement(O,{compProps:be})),r().createElement(s.Divider,null),r().createElement(s.ModalFooter,{onConfirm:de,confirmDisabled:ve,secondaryActionDisabled:oe,confirmLabel:(0,o.t)("action.search","Search"),secondaryActionLabel:(0,o.t)("action.reset","Reset"),onSecondaryAction:ie}))},R=_()(s.Container).withConfig({displayName:"advanced-filter-button__BorderContainer",componentId:"sc-1n0363l-0"})(["border-bottom:0.0625rem solid ",";border-right:0.0625rem solid ",";"],(({theme:e})=>e?.palette?.gray2?.regular),(({theme:e})=>e?.palette?.gray2?.regular)),$=({setShowAdvanceFilters:e,searchDisabled:t,filterCount:a,invalidQueryTooltip:l})=>r().createElement(s.Tooltip,{label:l,placement:"top",maxWidth:"100%",disabled:!t||!l},r().createElement(R,{padding:{all:"small"},height:"fit",mainAlignment:"flex-start",crossAlignment:"flex-start",borderRadius:"none"},r().createElement(s.Button,{onClick:()=>e(!0),type:a>0?"default":"outlined",width:"fill",label:0===a?(0,o.t)("label.single_advanced_filter","Advanced Filters"):(0,o.t)("label.advanced_filters",{count:a,defaultValue_one:"{{count}} Advanced Filter",defaultValue_other:"{{count}} Advanced Filters"}),disabled:t,icon:"Options2Outline"})));var P=a(8773),L=a(4131),Q=a(8032),j=a(5322),D=a(8879),q=a(3011),G=a(9851),V=a(5086);const K=({searchResults:e,query:t,loading:a,filterCount:n,setShowAdvanceFilters:u,isInvalidQuery:m,searchDisabled:h,invalidQueryTooltip:g})=>{const{itemId:b,folderId:p}=(0,c.useParams)(),{setCount:f,count:v}=(0,o.useAppContext)(),C=[...Object.values(e.conversations??{})],y=(0,Q.j)(),E=(0,q.Qu)({folderId:p,isConversation:!0,items:C}),[A,S]=(0,l.useState)(!1),{selected:k,toggle:I,deselectAll:F,isSelectModeOn:M,setIsSelectModeOn:w,selectAll:O,isAllSelected:x,selectAllModeOff:T}=(0,j.C)({currentFolderId:p,setCount:f,count:v,items:C}),_=(0,l.useMemo)((()=>Object.keys(k)),[k]),z=(0,l.useMemo)((()=>Math.floor(2*Math.random())),[]),B=(0,l.useRef)(null),R=(0,l.useMemo)((()=>m?null:(0,i.isEmpty)(e.conversations)?0===z?(0,o.t)("displayer.search_list_title1","It looks like there are no results. Keep searching!"):(0,o.t)("displayer.search_list_title2","None of your items matches your search."):null),[m,e.conversations,z]),K=(0,l.useMemo)((()=>(0,i.sortBy)((0,i.filter)(Object.values(e?.conversations??[])),"sortIndex")),[e?.conversations]),N=(0,l.useMemo)((()=>Object.keys(e?.conversations??{}).length??0),[e?.conversations]),U=((0,l.useMemo)((()=>"fulfilled"===e?.status),[e?.status]),(0,l.useMemo)((()=>Object.values(e?.conversations??{})),[e?.conversations]));(0,l.useLayoutEffect)((()=>{B?.current&&(B.current.children[0].scrollTop=0)}),[e.query]);const W=(0,l.useCallback)((()=>{e.more&&!A&&(S(!0),y((0,D.$)({query:t,limit:d.bh.LOAD_MORE_LIMIT,sortBy:"dateDesc",types:"conversation",offset:N,recip:"0"})).then((()=>{S(!1)})))}),[y,A,t,e,N]),H=(0,l.useMemo)((()=>(0,i.map)(K,(e=>{const t=b===e.id,a=k[e.id];return r().createElement(L.T,{active:t,selected:a,key:e.id,background:"transparent"},(l=>r().createElement(V.o,{item:e,selected:a,selecting:M,active:t,toggle:I,activeItemId:b,isSearchModule:!0,deselectAll:F,folderId:"",visible:l,setDraggedIds:i.noop})))}))),[K,F,M,b,k,I]);return r().createElement(s.Container,{background:"gray6",width:"40%",height:"fill",mainAlignment:"flex-start"},r().createElement($,{setShowAdvanceFilters:u,filterCount:n,searchDisabled:h,invalidQueryTooltip:g}),!m&&r().createElement(G.n,{displayerTitle:R,listItems:H,totalConversations:N,conversationsLoadingCompleted:!0,selectedIds:_,folderId:E,conversations:U,isSelectModeOn:M,selected:k,deselectAll:F,selectAll:O,isAllSelected:x,selectAllModeOff:T,setIsSelectModeOn:w,loadMore:W,isSearchModule:!0,setDraggedIds:i.noop,listRef:B}),a&&r().createElement(P.A,{count:33,delay:0}))};var N=a(9617),U=a(9905);const W=({searchDisabled:e,searchResults:t,query:a,loading:n,filterCount:u,setShowAdvanceFilters:m,isInvalidQuery:h,invalidQueryTooltip:g})=>{const{itemId:b,folderId:p}=(0,c.useParams)(),{setCount:f,count:v}=(0,o.useAppContext)(),{selected:C,toggle:y,deselectAll:E,isSelectModeOn:A,setIsSelectModeOn:S,selectAll:k,isAllSelected:I,selectAllModeOff:F}=(0,j.C)({currentFolderId:p,setCount:f,count:v,items:[...Object.values(t.messages??{})]}),[M,w]=(0,l.useState)(0),[O,x]=(0,l.useState)(!1),T=(0,l.useRef)(null),_=(0,Q.j)();(0,l.useEffect)((()=>{w(Math.round(Math.random()))}),[t.conversations,a]);const z=(0,l.useMemo)((()=>!h&&(0,i.isEmpty)(t.messages)?0===M?(0,o.t)("displayer.search_list_title1","It looks like there are no results. Keep searching!"):(0,o.t)("displayer.search_list_title2","None of your items matches your search."):null),[h,t.messages,M]),B=(0,l.useMemo)((()=>(0,i.sortBy)(Object.values(t?.messages??[]),"sortIndex")),[t?.messages]),R=(0,l.useMemo)((()=>(0,i.map)(B,(e=>{const t=b===e.id,a=C[e.id];return r().createElement(L.T,{key:e.id,selected:a,active:t,background:e.read?"gray6":"gray5"},(l=>l?r().createElement(U.I,{message:e,selected:C,isSelected:a,active:t,toggle:y,isSelectModeOn:A,isSearchModule:!0,deselectAll:E,visible:l}):r().createElement("div",{style:{height:"4rem"}})))}))),[E,A,b,B,C,y]),q=(0,l.useMemo)((()=>t&&t.messages?Object.keys(t.messages).length:0),[t]);(0,l.useLayoutEffect)((()=>{T?.current&&(T.current.children[0].scrollTop=0)}),[t.query]);const G=(0,l.useCallback)((()=>{t.more&&!O&&(x(!0),_((0,D.$)({query:a,limit:d.bh.LOAD_MORE_LIMIT,sortBy:"dateDesc",types:"message",offset:q,recip:"0"})).then((()=>{x(!1)})))}),[_,O,a,t,q]),V=(0,l.useMemo)((()=>!(0,i.isArray)(t?.messages)),[t?.messages]),K=(0,l.useMemo)((()=>Object.keys(C)),[C]),W=(0,l.useMemo)((()=>Object.values(t?.messages??{})),[t?.messages]);return r().createElement(s.Container,{background:"white",width:"40%",height:"fill",mainAlignment:"flex-start","data-testid":"MailsSearchResultListContainer"},r().createElement($,{setShowAdvanceFilters:m,filterCount:u,searchDisabled:e,invalidQueryTooltip:g}),r().createElement(N.z,{totalMessages:q,displayerTitle:z,listItems:R,messagesLoadingCompleted:V,selectedIds:K,folderId:p,messages:W,isSelectModeOn:A,setIsSelectModeOn:S,isAllSelected:I,selectAll:k,deselectAll:E,selected:C,selectAllModeOff:F,isSearchModule:!0,setDraggedIds:i.noop,loadMore:G,listRef:T}),n&&r().createElement(P.A,{count:33,delay:0}))};var H=a(4876),Y=a(8716);const Z=({searchResults:e,query:t})=>{const{path:a}=(0,c.useRouteMatch)(),n=(0,l.useMemo)((()=>{return[{title:(e=o.t)("displayer.search_title1","Start another search"),description:e("displayer.search_description1","Or select “Advanced Filters” to refine your search.")},{title:e("displayer.search_title2","We’re sorry but there are no results for your search"),description:e("displayer.search_description2","Try to start another search.")},{title:e("displayer.search_title3","There are no results for your search."),description:e("displayer.search_description3","Check the spelling and the filters options or try with another keyword.")}];var e}),[]),i=(0,l.useMemo)((()=>[{title:(0,o.t)("displayer.search_title4","Select one or more results to perform actions or display details."),description:""}]),[]),[d,u]=(0,l.useState)(0);(0,l.useEffect)((()=>{const e=Math.floor(3*Math.random());u(e)}),[e?.conversations?.length,t]);const m=(0,l.useMemo)((()=>e?.conversations?i[0]:n[d]),[e?.conversations,i,n,d]),h=(0,l.useMemo)((()=>m?.title),[m?.title]),g=(0,l.useMemo)((()=>m?.description),[m?.description]);return r().createElement(c.Switch,null,r().createElement(c.Route,{path:`${a}/folder/:folderId/conversation/:conversationId`},r().createElement(H.t,{setClose:()=>{}})),r().createElement(c.Route,{path:`${a}/folder/:folderId/message/:messageId`},r().createElement(Y.V,null)),r().createElement(c.Route,{path:a,render:()=>r().createElement(s.Container,{background:"white"},r().createElement(s.Padding,{all:"medium"},r().createElement(s.Text,{color:"gray1",overflow:"break-word",weight:"bold",size:"large",style:{whiteSpace:"pre-line",textAlign:"center"}},h)),r().createElement(s.Text,{size:"small",color:"gray1",overflow:"break-word",style:{whiteSpace:"pre-line",textAlign:"center"}},g))}))};var J=a(643),X=a(1512);const ee=({useDisableSearch:e,useQuery:t,ResultsHeader:a})=>{const[u,m]=t(),[h,g]=e(),b=(0,o.useUserSettings)(),p="message"===b.prefs.zimbraPrefGroupMailBy,f="TRUE"===b.prefs.zimbraPrefIncludeSharedItemsInSearch,v=(0,J.Fi)(),[C,y]=(0,l.useState)(0),E=(0,l.useMemo)((()=>b.prefs.zimbraPrefLocale),[b.prefs.zimbraPrefLocale]);(0,l.useEffect)((()=>{(0,o.setAppContext)({isMessageView:p,count:C,setCount:y})}),[C,p]);const A=(0,l.useMemo)((()=>(0,i.reduce)(v,((e,t,a)=>(t.perm&&e.push(a),e)),[])),[v]),S=(0,l.useMemo)((()=>`( ${(0,i.map)(A,(e=>`inid:"${e}"`)).join(" OR ")} OR is:local) `),[A]),k=(0,Q.j)(),[I,F]=(0,l.useState)(!1),[M,w]=(0,l.useState)(0),[O,x]=(0,l.useState)(!1),[T,_]=(0,l.useState)(f),[z,R]=(0,l.useState)(!1),$=(0,Q.G)(X.Vu),P=(0,l.useMemo)((()=>(0,o.t)("label.invalid_query","Unable to parse the search query, clear it and retry")),[]),L=(0,l.useMemo)((()=>z?P:"fulfilled"===$.status?(0,o.t)("label.results_for","Results for: "):"pending"===$.status?(0,o.t)("label.loading_results","Loading Results..."):""),[z,$.status,P]),j=(0,l.useMemo)((()=>T&&A?.length>0?`(${u.map((e=>e.value?e.value:e.label)).join(" ")}) ${S}`:`${u.map((e=>e.value?e.value:e.label)).join(" ")}`),[S,T,u,A?.length]),q=(0,l.useCallback)((async(e,t)=>{const a=await k((0,D.$)({query:e,limit:d.bh.INITIAL_LIMIT,sortBy:"dateDesc",types:p?"message":"conversation",offset:t?0:$.offset,recip:"0",locale:E}));(0,n.isRejected)(a)&&"mail.QUERY_PARSE_ERROR"===a?.payload?.Detail?.Error?.Code&&(R(!0),g(!0,P))}),[k,P,p,E,$.offset,g]),G=(0,l.useMemo)((()=>["has:attachment","is:flagged","is:unread"]),[]),V=(0,l.useCallback)((e=>(e=>{switch(e.label){case"is:flagged":return{...e,avatarIcon:"FlagOutline",avatarBackground:"error",value:"is:flagged",hasAvatar:!0,isQueryFilter:!0};case"is:unread":return{...e,hasAvatar:!0,avatarIcon:"EmailOutline",value:"is:unread",isQueryFilter:!0};case"has:attachment":return{...e,hasAvatar:!0,avatarIcon:"AttachOutline",value:"has:attachment",isQueryFilter:!0,avatarBackground:"gray1"};case e.label.match(/^in:*/)?.input:return{...e,hasAvatar:!0,value:e.label,avatarIcon:"FolderOutline",isQueryFilter:!0,avatarBackground:"gray1"};case e.label.match(/^subject:*/)?.input:return{...e,hasAvatar:!0,value:e.label,avatarIcon:"EmailOutline",isQueryFilter:!0,avatarBackground:"gray1"};case e.label.match(/^tag:*/)?.input:return{...e,hasAvatar:!0,value:e.label,avatarIcon:"TagOutline",isQueryFilter:!0,avatarBackground:"gray1"};case e.label.match(/^before:*/)?.input:case e.label.match(/^after:*/)?.input:case e.label.match(/^date:*/)?.input:return{...e,hasAvatar:!0,value:e.label,avatarIcon:"CalendarOutline",isQueryFilter:!0,avatarBackground:"gray1"};default:return{...e,value:e.label,avatarIcon:"MailModOutline",avatarBackground:"gray1",isQueryFilter:!0}}})(e)),[]);(0,l.useEffect)((()=>{let e=0;if(u&&u.length>0&&!z){const t=(0,i.map)(u,(t=>!((0,i.includes)(G,t.label)||/^subject:/.test(t.label)||/^in:/.test(t.label)||/^before:/.test(t.label)||/^after:/.test(t.label)||/^tag:/.test(t.label)||/^date:/.test(t.label))||(0,i.includes)(Object.keys(t),"isGeneric")||(0,i.includes)(Object.keys(t),"isQueryFilter")?{...t}:(e+=1,V(t))));e>0&&m(t)}}),[V,z,u,G,m]),(0,l.useEffect)((()=>{"pending"===$.status&&F(!0),F(!1)}),[$.status]),(0,l.useEffect)((()=>{u?.length>0&&!z&&(w(u.length),q(j,!1)),0===u?.length&&(w(0),R(!1),k((0,X.sg)()),(0,o.replaceHistory)({path:d.lU,route:o.SEARCH_APP_ID}))}),[k,z,u.length,j,q]);const{path:N}=(0,c.useRouteMatch)(),U=z?"warning":void 0;return r().createElement(r().Fragment,null,r().createElement(s.Container,null,r().createElement(a,{label:L,labelType:U}),r().createElement(s.Container,{orientation:"horizontal",background:"white",style:{overflowY:"auto"},mainAlignment:"flex-start"},r().createElement(c.Switch,null,r().createElement(c.Route,{path:`${N}/:folder?/:folderId?/:type?/:itemId?`},p?r().createElement(W,{searchDisabled:h,searchResults:$,query:j,loading:I,filterCount:M,setShowAdvanceFilters:x,isInvalidQuery:z,invalidQueryTooltip:P}):r().createElement(K,{searchDisabled:h,searchResults:$,query:j,loading:I,filterCount:M,setShowAdvanceFilters:x,isInvalidQuery:z,invalidQueryTooltip:P}))),r().createElement(l.Suspense,{fallback:r().createElement(s.Spinner,{color:"white"})},r().createElement(s.Container,{mainAlignment:"flex-start",width:"60%"},r().createElement(Z,{searchResults:$,query:u}))))),r().createElement(B,{query:u,updateQuery:m,isSharedFolderIncluded:T,setIsSharedFolderIncluded:_,open:O,onClose:()=>x(!1)}))}}}]);
//# sourceMappingURL=mail-search-view.d6f43400.chunk.js.map