"use strict";(self.webpackChunkcarbonio_mails_ui=self.webpackChunkcarbonio_mails_ui||[]).push([[363],{9628:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(7559),r=n.n(o),l=n(4702),a=n(8153);const i=({mainAlignment:e="center",crossAlignment:t="center",onConfirm:n,label:i,secondaryAction:c,secondaryLabel:d,primaryBtnType:s="default",secondaryBtnType:m="default",disabled:u,secondaryDisabled:h,background:p="primary",secondarybackground:f,color:g="primary",secondaryColor:b="secondary",size:C="medium",showDivider:E=!0,tooltip:w,secondaryTooltip:S,paddingTop:k="medium",additionalAction:A,additionalBtnType:y="outlined",additionalColor:F="secondary",additionalLabel:v,primaryButtonIcon:R})=>{const[O]=(0,a.useTranslation)(),x=(0,o.useMemo)((()=>O("label.cancel","cancel")),[O]);return r().createElement(l.Container,{mainAlignment:e,crossAlignment:t,padding:{top:k}},E&&r().createElement(l.Container,{padding:{top:"small",bottom:"small"},mainAlignment:"center",crossAlignment:"flex-start",orientation:"horizontal",height:"fit"},r().createElement(l.Divider,null)),r().createElement(l.Container,{orientation:"horizontal",mainAlignment:"space-between"},A&&r().createElement(l.Container,{orientation:"horizontal",width:"fit"},r().createElement(l.Button,{color:F,type:y,onClick:A,label:v??x,size:C}),r().createElement(l.Padding,{horizontal:"extrasmall"})),r().createElement(l.Container,{padding:{top:"small",bottom:"small"},mainAlignment:"flex-end",crossAlignment:"flex-start",orientation:"horizontal",height:"fit"},c&&r().createElement(l.Padding,{right:"small",vertical:"small"},S?r().createElement(l.Tooltip,{label:S,placement:"top",maxWidth:"fit"},r().createElement(l.Button,{backgroundColor:f,color:b,type:m,onClick:c,label:d??x,disabled:h,size:C})):r().createElement(l.Button,{backgroundColor:f,color:b,type:m,onClick:c,label:d??x,disabled:h,size:C})),r().createElement(l.Padding,{vertical:"small"},w?r().createElement(l.Tooltip,{label:w,placement:"top",maxWidth:"fit"},r().createElement(l.Button,{size:C,color:g,onClick:n,label:i,type:s,disabled:u,backgroundColor:g||p,icon:R,iconPlacement:"left"})):r().createElement(l.Button,{size:C,color:g,onClick:n,label:i,type:s,disabled:u,backgroundColor:g||p,icon:R,iconPlacement:"left"})))))}},9902:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(7559),r=n.n(o),l=n(4702);const a=({title:e,onClose:t,showCloseIcon:n=!0})=>r().createElement(l.Container,{mainAlignment:"space-between",width:"100%"},r().createElement(l.Row,{takeAvailableSpace:!0,mainAlignment:"space-between",width:"100%"},r().createElement(l.Row,{width:"calc(100% - 1.5rem)",takeAvailableSpace:!0,mainAlignment:"flex-start"},r().createElement(l.Text,{weight:"bold",size:"large"},e)),t&&n&&r().createElement(l.Row,{mainAlignment:"flex-start"},r().createElement(l.IconButton,{size:"medium",style:{padding:0,margin:0},onClick:t,icon:"CloseOutline"}))),r().createElement(l.Padding,{top:"medium"}),r().createElement(l.Divider,null),r().createElement(l.Padding,{bottom:"medium"}))},2816:(e,t,n)=>{n.d(t,{mY:()=>a,vF:()=>i});var o=n(7196);n(2509),n(5302);const r=/^([^:]+(?=:))*:?(\d+)$/,l=e=>{const t={zid:null,id:null};if(!e||!e.match(r))return t;const n=r.exec(e);return n?([,t.zid=null,t.id=null]=n,t):t},a=e=>{const{id:t}=l(e);return!!t&&Object.values(o.FOLDERS).includes(e)},i=e=>((e,t)=>!!e&&l(e).id===t)(e,o.FOLDERS.TRASH)},1765:(e,t,n)=>{n.d(t,{US:()=>c,nv:()=>s,sO:()=>d});var o=n(7196),r=n(2509),l=n(7559),a=n(643),i=n(9518);const c=e=>{const{id:t}=(0,i.wL)(e.id);return t===o.FOLDERS.TRASH?o.FOLDERS.LAST_SYSTEM_FOLDER_POSITION:parseInt(t??"",10)<17?`   ${t}`:e.name.toLowerCase()},d=({children:e,sortFunction:t})=>(0,r.sortBy)(e,t).map((e=>({...e,children:d({children:e.children,sortFunction:t})}))),s=()=>{const e=(0,a.sW)();return(0,l.useMemo)((()=>d({children:e,sortFunction:c})),[e])}},7625:(e,t,n)=>{n.d(t,{m:()=>a});var o=n(7559),r=n(4702),l=n(9966);const a=()=>{const e=(0,o.useContext)(r.ModalManagerContext),t=(0,r.useSnackbar)(),n=(0,l.g)();return(0,o.useMemo)((()=>({createModal:e??n,createSnackbar:t})),[n,e,t])}},6509:(e,t,n)=>{n.d(t,{M6:()=>a,ZN:()=>i,qN:()=>c});var o=n(4710),r=n.n(o),l=n(4702);const a=r().div.withConfig({displayName:"styled-components__Square",componentId:"sc-1frvber-0"})(["width:1.125rem;height:1.125rem;position:relative;top:-0.1875rem;border:0.0625rem solid ",";background:",";border-radius:0.25rem;"],(({theme:e})=>e.palette.gray2.regular),(({color:e})=>e)),i=r()(l.Container).withConfig({displayName:"styled-components__ColorContainer",componentId:"sc-1frvber-1"})(["border-bottom:0.0625rem solid ",";cursor:",";"],(({theme:e})=>e.palette.gray2.regular),(({disabled:e})=>e?"no-drop":"pointer")),c=r()(l.Text).withConfig({displayName:"styled-components__TextUpperCase",componentId:"sc-1frvber-2"})(["text-transform:capitalize;"])},9431:(e,t,n)=>{n.d(t,{W:()=>O});var o=n(7559),r=n.n(o),l=n(4702),a=n(7196),i=n(2509),c=n(4710),d=n.n(c),s=n(4899);const m=r().forwardRef((function({crumbs:e,collapserProps:t,dropdownProps:n,size:o="large",tooltipLabel:a,...i},c){const d=e.length,s=a??e.reduce(((e,t)=>`${e}/${t.label}`),""),m=e.shift();return r().createElement(l.Tooltip,{label:s},r().createElement(l.Row,{mainAlignment:"flex-start",wrap:"nowrap",width:"fill"},r().createElement(l.Container,{width:"fit",mainAlignment:"flex-start",padding:{left:"small",right:"extrasmall"}},r().createElement(l.Text,{size:o,color:1===d?"text":"secondary"},m?.label??"")),r().createElement(l.Row,{mainAlignment:"flex-start",maxWidth:"70%"},r().createElement(l.Breadcrumbs,{crumbs:e,dropdownProps:{disabled:!0}}))))}));var u=n(9518),h=n(790);const p="2.6rem",f=d().div.withConfig({displayName:"flat-folders-accordion__FolderAccordionPlaceholder",componentId:"sc-1hnz9nc-0"})(["height:",";"],p),g=d()(l.Row).withConfig({displayName:"flat-folders-accordion__RootAccordion",componentId:"sc-1hnz9nc-1"})(["cursor:pointer;"]),b=d()(l.Container).withConfig({displayName:"flat-folders-accordion__CustomContainer",componentId:"sc-1hnz9nc-2"})(["&:hover{background-color:",";}"],(({theme:e,active:t})=>t?e.palette.highlight.active:e.palette.gray6.hover)),C=d()(l.ListItem).withConfig({displayName:"flat-folders-accordion__CustomListItemHelper",componentId:"sc-1hnz9nc-3"})([""]),E=d()(C).attrs((({background:e="gray6",active:t,activeBackground:n="highlight",selected:o,selectedBackground:r="gray5",theme:a})=>({$baseBackgroundColor:(0,l.getColor)(t&&n||o&&r||e,a),$focusBackgroundColor:(0,l.getColor)(`${t&&n||"gray6"}.focus`,a)}))).withConfig({displayName:"flat-folders-accordion__CustomListItem",componentId:"sc-1hnz9nc-4"})([""]),w=({folder:e,onFolderSelected:t,...n})=>{const a=(0,h.fX)(e),c=(0,h.dk)(e),d=(e=>{if(!e)return[];if((0,u.jX)(e?.id))return[e.name??""];const t=/^\/?(.*)$/gm.exec(e.absFolderPath??"");return t?t[1].split("/"):[]})(e),f=d.map(((e,t)=>({id:`${t} `,label:0===t?(0,h.VN)({folderName:e}):e}))),g=(0,o.useCallback)((()=>{t?t(e):i.noop}),[t,e]);return r().createElement(l.Container,(0,s.A)({width:"fill","main-alignment":"flex-start",orientation:"vertical",crossAlignment:"flex-start",padding:{top:"small",right:"small",bottom:"small",left:"extralarge"},height:p,onClick:g,wrap:"nowrap"},n),r().createElement(l.Row,{mainAlignment:"flex-start",wrap:"nowrap",width:"fill"},r().createElement(l.Container,{width:"fit"},r().createElement(l.Icon,{color:c,icon:a||"FolderOutline",size:"large"})),r().createElement(m,{crumbs:f,size:"large"})))},S=({folder:e,childrenFolders:t,isOpen:n=!1,onFolderSelected:i,onOpenStatusChange:c,selectedFolderId:d,allowRootSelection:s})=>{const[m,u]=(0,o.useState)(n),h=(0,a.useUserAccount)(),p=e.id===a.FOLDERS.USER_ROOT?h.name:e.name,C=(0,o.useCallback)((e=>{e.stopPropagation(),u((e=>(c&&c(!e),!e)))}),[c]),S=(0,o.useCallback)((t=>{t.stopPropagation(),m||u(!0),s&&i&&i(e)}),[m,s,i,e]);return r().createElement(g,{width:"fill","data-testid":`folder-accordion-root-${e.id}`},r().createElement(b,{orientation:"horizontal",width:"fill",height:"fit",mainAlignment:"space-between",padding:"small",onClick:S,background:d===e.id?"highlight.active":"gray6",active:d===e.id},r().createElement(l.Container,{orientation:"horizontal",width:"fill",mainAlignment:"flex-start"},r().createElement(l.Padding,{horizontal:"small"},r().createElement(l.Avatar,{label:p,size:"medium"})),r().createElement(l.Tooltip,{label:p,placement:"right",maxWidth:"100%"},r().createElement(l.Text,null,p))),r().createElement(l.Padding,{right:"small"},r().createElement(l.IconButton,{customSize:{iconSize:"large",paddingSize:0},onClick:C,icon:m?"ChevronUp":"ChevronDown"}))),r().createElement(l.Collapse,{crossSize:"100%",orientation:"vertical",open:m,disableTransition:!1},r().createElement(l.ListV2,null,t.map((e=>r().createElement(E,{key:e.id,selected:d===e.id,active:d===e.id},(t=>t?r().createElement(w,{"data-testid":`folder-accordion-item-${e.id}`,folder:e,onFolderSelected:i}):r().createElement(f,null))))))))},k=({roots:e,onFolderSelected:t,selectedFolderId:n,allowRootSelection:o})=>r().createElement(l.Container,{orientation:"vertical",style:{overflowY:"auto"}},e.map(((e,l)=>r().createElement(S,{key:e.id,folder:e,childrenFolders:e.children,isOpen:!0,onFolderSelected:t,selectedFolderId:n,allowRootSelection:o}))));var A=n(643),y=n(1765);const F=d()(l.Container).withConfig({displayName:"folder-selector__ContainerEl",componentId:"sc-1ak8adq-0"})(["overflow-y:auto;display:block;"]),v=(e,t)=>{const n=[];return(0,y.sO)({children:e,sortFunction:y.US}).forEach((e=>{(t?.showTrashFolder||!(0,u.vF)(e.id)&&!(0,u.iQ)({folder:e}))&&(!t?.showSpamFolder&&(0,u.kf)(e.id)||(n.push({...e,name:(0,h.VN)({folderName:e.name}),children:[]}),e.children&&n.push(...v(e.children,t))))})),n};function R(e,t){return(0,i.filter)(e,(e=>{const n=e.name?.toLowerCase();return(0,i.startsWith)(n,t.toLowerCase())}))}const O=({inputLabel:e,onNewFolderClick:t,selectedFolderId:n,onFolderSelected:i,allowRootSelection:c,allowFolderCreation:d,showTrashFolder:s,showSpamFolder:m,showSharedAccounts:h})=>{const[p,f]=(0,o.useState)(""),g=n&&(0,A.L2)(n),b=(0,A.sW)(),C=(0,o.useMemo)((()=>h?b:b.filter((e=>e.id===a.FOLDERS.USER_ROOT))),[b,h]),E=(0,o.useMemo)((()=>((e,t)=>e.map((e=>({...e,children:v(e.children,t)}))))(C,{showTrashFolder:s,showSpamFolder:m})),[C,m,s]),w=function(e,t){return e.reduce(((e,n)=>((0,u.jX)(n.id)&&e.push({...n,children:n.children?R(n.children,t):[]}),e.filter((e=>!!e.children?.length)))),[])}(E,p),S=g?g.name:"";return r().createElement(r().Fragment,null,r().createElement(l.Input,{"data-testid":"folder-name-filter",inputName:S,label:e??(0,a.t)("label.filter_folders","Filter folders"),backgroundColor:"gray5",value:p,onChange:e=>f(e.target.value)}),r().createElement(l.Padding,{vertical:"medium"}),r().createElement(F,{orientation:"vertical",mainAlignment:"flex-start",minHeight:"30vh",maxHeight:"60vh"},r().createElement(k,{roots:w,onFolderSelected:i,selectedFolderId:n,allowRootSelection:c})),t&&r().createElement(l.Container,{padding:{top:"medium",bottom:"medium"},mainAlignment:"center",crossAlignment:"flex-start"},r().createElement(l.Button,{type:"ghost",label:(0,a.t)("label.new_folder","New Folder"),color:"primary",onClick:t})))}},790:(e,t,n)=>{n.d(t,{VN:()=>s,dk:()=>i,fX:()=>c,k0:()=>m,rS:()=>d,sK:()=>a});var o=n(7196),r=(n(2509),n(2816)),l=n(9518);const a=e=>{const t=e?.charCodeAt(0),n=t-32,o=String.fromCharCode(n);return e?o+e.substring(1):""},i=e=>"color"in e&&e?.color?Number(e.color)<10?o.ZIMBRA_STANDARD_COLORS[Number(e.color)].hex:e?.rgb??o.ZIMBRA_STANDARD_COLORS[0].hex:o.ZIMBRA_STANDARD_COLORS[0].hex,c=e=>{const{id:t}=(0,l.wL)(e.id);if(t===o.FOLDERS.USER_ROOT||"isLink"in e&&e.isLink&&e.oname===o.ROOT_NAME)return null;if(t&&(0,r.mY)(t))switch(t){case o.FOLDERS.INBOX:return"InboxOutline";case o.FOLDERS.DRAFTS:return"FileOutline";case o.FOLDERS.SENT:return"PaperPlaneOutline";case o.FOLDERS.SPAM:return"SlashOutline";case o.FOLDERS.TRASH:return"Trash2Outline";default:return"FolderOutline"}return"FolderOutline"},d=()=>[(0,o.t)("folders.inbox","Inbox"),(0,o.t)("folders.sent","Sent"),(0,o.t)("folders.drafts","Drafts"),(0,o.t)("folders.trash","Trash"),(0,o.t)("folders.spam","Spam"),(0,o.t)("folders.junk","Junk")],s=({folderName:e})=>{if(e)switch(e){case"Inbox":return(0,o.t)("folders.inbox","Inbox");case"Sent":return(0,o.t)("folders.sent","Sent");case"Drafts":return(0,o.t)("folders.drafts","Drafts");case"Trash":return(0,o.t)("folders.trash","Trash");case"Spam":return(0,o.t)("folders.spam","Spam");case"Junk":return(0,o.t)("folders.junk","Junk");default:return e}return e},m=({folderId:e,folderName:t})=>{const{id:n}=(0,l.wL)(e??"");return n&&(0,r.mY)(n)?s({folderName:t}):t}}}]);
//# sourceMappingURL=363.ec7bdb37.chunk.js.map